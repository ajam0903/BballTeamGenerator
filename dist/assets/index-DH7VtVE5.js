(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function nm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Dc={exports:{}},Lo={},Lc={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd;function zy(){if(Zd)return Re;Zd=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.iterator;function F(k){return k===null||typeof k!="object"?null:(k=N&&k[N]||k["@@iterator"],typeof k=="function"?k:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,X={};function $(k,b,ie){this.props=k,this.context=b,this.refs=X,this.updater=ie||B}$.prototype.isReactComponent={},$.prototype.setState=function(k,b){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,b,"setState")},$.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ge(){}ge.prototype=$.prototype;function ye(k,b,ie){this.props=k,this.context=b,this.refs=X,this.updater=ie||B}var J=ye.prototype=new ge;J.constructor=ye,q(J,$.prototype),J.isPureReactComponent=!0;var ce=Array.isArray,Fe=Object.prototype.hasOwnProperty,Ie={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function w(k,b,ie){var Se,Ae={},ke=null,je=null;if(b!=null)for(Se in b.ref!==void 0&&(je=b.ref),b.key!==void 0&&(ke=""+b.key),b)Fe.call(b,Se)&&!x.hasOwnProperty(Se)&&(Ae[Se]=b[Se]);var Ue=arguments.length-2;if(Ue===1)Ae.children=ie;else if(1<Ue){for(var qe=Array(Ue),gt=0;gt<Ue;gt++)qe[gt]=arguments[gt+2];Ae.children=qe}if(k&&k.defaultProps)for(Se in Ue=k.defaultProps,Ue)Ae[Se]===void 0&&(Ae[Se]=Ue[Se]);return{$$typeof:i,type:k,key:ke,ref:je,props:Ae,_owner:Ie.current}}function A(k,b){return{$$typeof:i,type:k.type,key:b,ref:k.ref,props:k.props,_owner:k._owner}}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function V(k){var b={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return b[ie]})}var D=/\/+/g;function I(k,b){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):b.toString(36)}function Ee(k,b,ie,Se,Ae){var ke=typeof k;(ke==="undefined"||ke==="boolean")&&(k=null);var je=!1;if(k===null)je=!0;else switch(ke){case"string":case"number":je=!0;break;case"object":switch(k.$$typeof){case i:case e:je=!0}}if(je)return je=k,Ae=Ae(je),k=Se===""?"."+I(je,0):Se,ce(Ae)?(ie="",k!=null&&(ie=k.replace(D,"$&/")+"/"),Ee(Ae,b,ie,"",function(gt){return gt})):Ae!=null&&(C(Ae)&&(Ae=A(Ae,ie+(!Ae.key||je&&je.key===Ae.key?"":(""+Ae.key).replace(D,"$&/")+"/")+k)),b.push(Ae)),1;if(je=0,Se=Se===""?".":Se+":",ce(k))for(var Ue=0;Ue<k.length;Ue++){ke=k[Ue];var qe=Se+I(ke,Ue);je+=Ee(ke,b,ie,qe,Ae)}else if(qe=F(k),typeof qe=="function")for(k=qe.call(k),Ue=0;!(ke=k.next()).done;)ke=ke.value,qe=Se+I(ke,Ue++),je+=Ee(ke,b,ie,qe,Ae);else if(ke==="object")throw b=String(k),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return je}function ze(k,b,ie){if(k==null)return k;var Se=[],Ae=0;return Ee(k,Se,"","",function(ke){return b.call(ie,ke,Ae++)}),Se}function Ne(k){if(k._status===-1){var b=k._result;b=b(),b.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=b)}if(k._status===1)return k._result.default;throw k._result}var fe={current:null},G={transition:null},re={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:G,ReactCurrentOwner:Ie};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:ze,forEach:function(k,b,ie){ze(k,function(){b.apply(this,arguments)},ie)},count:function(k){var b=0;return ze(k,function(){b++}),b},toArray:function(k){return ze(k,function(b){return b})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Re.Component=$,Re.Fragment=r,Re.Profiler=l,Re.PureComponent=ye,Re.StrictMode=o,Re.Suspense=_,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Re.act=ee,Re.cloneElement=function(k,b,ie){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var Se=q({},k.props),Ae=k.key,ke=k.ref,je=k._owner;if(b!=null){if(b.ref!==void 0&&(ke=b.ref,je=Ie.current),b.key!==void 0&&(Ae=""+b.key),k.type&&k.type.defaultProps)var Ue=k.type.defaultProps;for(qe in b)Fe.call(b,qe)&&!x.hasOwnProperty(qe)&&(Se[qe]=b[qe]===void 0&&Ue!==void 0?Ue[qe]:b[qe])}var qe=arguments.length-2;if(qe===1)Se.children=ie;else if(1<qe){Ue=Array(qe);for(var gt=0;gt<qe;gt++)Ue[gt]=arguments[gt+2];Se.children=Ue}return{$$typeof:i,type:k.type,key:Ae,ref:ke,props:Se,_owner:je}},Re.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},Re.createElement=w,Re.createFactory=function(k){var b=w.bind(null,k);return b.type=k,b},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=C,Re.lazy=function(k){return{$$typeof:S,_payload:{_status:-1,_result:k},_init:Ne}},Re.memo=function(k,b){return{$$typeof:E,type:k,compare:b===void 0?null:b}},Re.startTransition=function(k){var b=G.transition;G.transition={};try{k()}finally{G.transition=b}},Re.unstable_act=ee,Re.useCallback=function(k,b){return fe.current.useCallback(k,b)},Re.useContext=function(k){return fe.current.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k){return fe.current.useDeferredValue(k)},Re.useEffect=function(k,b){return fe.current.useEffect(k,b)},Re.useId=function(){return fe.current.useId()},Re.useImperativeHandle=function(k,b,ie){return fe.current.useImperativeHandle(k,b,ie)},Re.useInsertionEffect=function(k,b){return fe.current.useInsertionEffect(k,b)},Re.useLayoutEffect=function(k,b){return fe.current.useLayoutEffect(k,b)},Re.useMemo=function(k,b){return fe.current.useMemo(k,b)},Re.useReducer=function(k,b,ie){return fe.current.useReducer(k,b,ie)},Re.useRef=function(k){return fe.current.useRef(k)},Re.useState=function(k){return fe.current.useState(k)},Re.useSyncExternalStore=function(k,b,ie){return fe.current.useSyncExternalStore(k,b,ie)},Re.useTransition=function(){return fe.current.useTransition()},Re.version="18.3.1",Re}var ep;function ph(){return ep||(ep=1,Lc.exports=zy()),Lc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function By(){if(tp)return Lo;tp=1;var i=ph(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,_,E){var S,N={},F=null,B=null;E!==void 0&&(F=""+E),_.key!==void 0&&(F=""+_.key),_.ref!==void 0&&(B=_.ref);for(S in _)o.call(_,S)&&!c.hasOwnProperty(S)&&(N[S]=_[S]);if(m&&m.defaultProps)for(S in _=m.defaultProps,_)N[S]===void 0&&(N[S]=_[S]);return{$$typeof:e,type:m,key:F,ref:B,props:N,_owner:l.current}}return Lo.Fragment=r,Lo.jsx=f,Lo.jsxs=f,Lo}var np;function by(){return np||(np=1,Dc.exports=By()),Dc.exports}var z=by(),dt=ph();const $y=nm(dt);var wl={},Oc={exports:{}},Kt={},Mc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function qy(){return rp||(rp=1,function(i){function e(G,re){var ee=G.length;G.push(re);e:for(;0<ee;){var k=ee-1>>>1,b=G[k];if(0<l(b,re))G[k]=re,G[ee]=b,ee=k;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var re=G[0],ee=G.pop();if(ee!==re){G[0]=ee;e:for(var k=0,b=G.length,ie=b>>>1;k<ie;){var Se=2*(k+1)-1,Ae=G[Se],ke=Se+1,je=G[ke];if(0>l(Ae,ee))ke<b&&0>l(je,Ae)?(G[k]=je,G[ke]=ee,k=ke):(G[k]=Ae,G[Se]=ee,k=Se);else if(ke<b&&0>l(je,ee))G[k]=je,G[ke]=ee,k=ke;else break e}}return re}function l(G,re){var ee=G.sortIndex-re.sortIndex;return ee!==0?ee:G.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var _=[],E=[],S=1,N=null,F=3,B=!1,q=!1,X=!1,$=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(G){for(var re=r(E);re!==null;){if(re.callback===null)o(E);else if(re.startTime<=G)o(E),re.sortIndex=re.expirationTime,e(_,re);else break;re=r(E)}}function ce(G){if(X=!1,J(G),!q)if(r(_)!==null)q=!0,Ne(Fe);else{var re=r(E);re!==null&&fe(ce,re.startTime-G)}}function Fe(G,re){q=!1,X&&(X=!1,ge(w),w=-1),B=!0;var ee=F;try{for(J(re),N=r(_);N!==null&&(!(N.expirationTime>re)||G&&!V());){var k=N.callback;if(typeof k=="function"){N.callback=null,F=N.priorityLevel;var b=k(N.expirationTime<=re);re=i.unstable_now(),typeof b=="function"?N.callback=b:N===r(_)&&o(_),J(re)}else o(_);N=r(_)}if(N!==null)var ie=!0;else{var Se=r(E);Se!==null&&fe(ce,Se.startTime-re),ie=!1}return ie}finally{N=null,F=ee,B=!1}}var Ie=!1,x=null,w=-1,A=5,C=-1;function V(){return!(i.unstable_now()-C<A)}function D(){if(x!==null){var G=i.unstable_now();C=G;var re=!0;try{re=x(!0,G)}finally{re?I():(Ie=!1,x=null)}}else Ie=!1}var I;if(typeof ye=="function")I=function(){ye(D)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ze=Ee.port2;Ee.port1.onmessage=D,I=function(){ze.postMessage(null)}}else I=function(){$(D,0)};function Ne(G){x=G,Ie||(Ie=!0,I())}function fe(G,re){w=$(function(){G(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){q||B||(q=!0,Ne(Fe))},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return F},i.unstable_getFirstCallbackNode=function(){return r(_)},i.unstable_next=function(G){switch(F){case 1:case 2:case 3:var re=3;break;default:re=F}var ee=F;F=re;try{return G()}finally{F=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=F;F=G;try{return re()}finally{F=ee}},i.unstable_scheduleCallback=function(G,re,ee){var k=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?k+ee:k):ee=k,G){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ee+b,G={id:S++,callback:re,priorityLevel:G,startTime:ee,expirationTime:b,sortIndex:-1},ee>k?(G.sortIndex=ee,e(E,G),r(_)===null&&G===r(E)&&(X?(ge(w),w=-1):X=!0,fe(ce,ee-k))):(G.sortIndex=b,e(_,G),q||B||(q=!0,Ne(Fe))),G},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(G){var re=F;return function(){var ee=F;F=re;try{return G.apply(this,arguments)}finally{F=ee}}}}(Fc)),Fc}var ip;function Hy(){return ip||(ip=1,Mc.exports=qy()),Mc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function Wy(){if(sp)return Kt;sp=1;var i=ph(),e=Hy();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(t,n){f(t,n),f(t+"Capture",n)}function f(t,n){for(l[t]=n,t=0;t<n.length;t++)o.add(n[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},N={};function F(t){return _.call(N,t)?!0:_.call(S,t)?!1:E.test(t)?N[t]=!0:(S[t]=!0,!1)}function B(t,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q(t,n,s,u){if(n===null||typeof n>"u"||B(t,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function X(t,n,s,u,h,p,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=p,this.removeEmptyString=y}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new X(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];$[n]=new X(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new X(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new X(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new X(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new X(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new X(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new X(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new X(t,5,!1,t.toLowerCase(),null,!1,!1)});var ge=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(ge,ye);$[n]=new X(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(ge,ye);$[n]=new X(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(ge,ye);$[n]=new X(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new X(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new X(t,1,!1,t.toLowerCase(),null,!0,!0)});function J(t,n,s,u){var h=$.hasOwnProperty(n)?$[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(q(n,s,h,u)&&(s=null),u||h===null?F(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):h.mustUseProperty?t[h.propertyName]=s===null?h.type===3?!1:"":s:(n=h.attributeName,u=h.attributeNamespace,s===null?t.removeAttribute(n):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?t.setAttributeNS(u,n,s):t.setAttribute(n,s))))}var ce=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),V=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),G=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,k;function b(t){if(k===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);k=n&&n[1]||""}return`
`+k+t}var ie=!1;function Se(t,n){if(!t||ie)return"";ie=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(j){var u=j}Reflect.construct(t,[],n)}else{try{n.call()}catch(j){u=j}t.call(n.prototype)}else{try{throw Error()}catch(j){u=j}t()}}catch(j){if(j&&u&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,T=p.length-1;1<=y&&0<=T&&h[y]!==p[T];)T--;for(;1<=y&&0<=T;y--,T--)if(h[y]!==p[T]){if(y!==1||T!==1)do if(y--,T--,0>T||h[y]!==p[T]){var R=`
`+h[y].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=y&&0<=T);break}}}finally{ie=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?b(t):""}function Ae(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=Se(t.type,!1),t;case 11:return t=Se(t.type.render,!1),t;case 1:return t=Se(t.type,!0),t;default:return""}}function ke(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Ie:return"Portal";case A:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case Ee:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case D:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ze:return n=t.displayName||null,n!==null?n:ke(t.type)||"Memo";case Ne:n=t._payload,t=t._init;try{return ke(t(n))}catch{}}return null}function je(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(n);case 8:return n===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ue(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qe(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gt(t){var n=qe(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Wn(t){t._valueTracker||(t._valueTracker=gt(t))}function xi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return t&&(u=qe(t)?t.checked?"true":"false":t.value),t=u,t!==s?(n.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qr(t,n){var s=n.checked;return ee({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Vi(t,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=Ue(n.value!=null?n.value:s),t._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Us(t,n){n=n.checked,n!=null&&J(t,"checked",n,!1)}function zs(t,n){Us(t,n);var s=Ue(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Ni(t,n.type,s):n.hasOwnProperty("defaultValue")&&Ni(t,n.type,Ue(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function oa(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Ni(t,n,s){(n!=="number"||mr(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Qn=Array.isArray;function Kn(t,n,s,u){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Bs(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Di(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Qn(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:Ue(s)}}function Li(t,n){var s=Ue(n.value),u=Ue(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),u!=null&&(t.defaultValue=""+u)}function bs(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gn,$s=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,h){MSApp.execUnsafeLocalFunction(function(){return t(n,s,u,h)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Gn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function gr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gr=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(t){Gr.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Kr[n]=Kr[t]})});function qs(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Kr.hasOwnProperty(t)&&Kr[t]?(""+n).trim():n+"px"}function Hs(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=qs(s,n[s],u);s==="float"&&(s="cssFloat"),u?t.setProperty(s,h):t[s]=h}}var Ws=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qs(t,n){if(n){if(Ws[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Ks(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Oi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,rn=null,Vn=null;function Fi(t){if(t=vo(t)){if(typeof Mi!="function")throw Error(r(280));var n=t.stateNode;n&&(n=Ma(n),Mi(t.stateNode,t.type,n))}}function Nn(t){rn?Vn?Vn.push(t):Vn=[t]:rn=t}function Gs(){if(rn){var t=rn,n=Vn;if(Vn=rn=null,Fi(t),n)for(t=0;t<n.length;t++)Fi(n[t])}}function Xr(t,n){return t(n)}function Ys(){}var Yn=!1;function Xs(t,n,s){if(Yn)return t(n,s);Yn=!0;try{return Xr(t,n,s)}finally{Yn=!1,(rn!==null||Vn!==null)&&(Ys(),Gs())}}function nt(t,n){var s=t.stateNode;if(s===null)return null;var u=Ma(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var ji=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){ji=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{ji=!1}function Jr(t,n,s,u,h,p,y,T,R){var j=Array.prototype.slice.call(arguments,3);try{n.apply(s,j)}catch(W){this.onError(W)}}var Zr=!1,Ui=null,gn=!1,Js=null,au={onError:function(t){Zr=!0,Ui=t}};function zi(t,n,s,u,h,p,y,T,R){Zr=!1,Ui=null,Jr.apply(au,arguments)}function aa(t,n,s,u,h,p,y,T,R){if(zi.apply(this,arguments),Zr){if(Zr){var j=Ui;Zr=!1,Ui=null}else throw Error(r(198));gn||(gn=!0,Js=j)}}function yn(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function ei(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _n(t){if(yn(t)!==t)throw Error(r(188))}function la(t){var n=t.alternate;if(!n){if(n=yn(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,u=n;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return _n(h),t;if(p===u)return _n(h),n;p=p.sibling}throw Error(r(188))}if(s.return!==u.return)s=h,u=p;else{for(var y=!1,T=h.child;T;){if(T===s){y=!0,s=h,u=p;break}if(T===u){y=!0,u=h,s=p;break}T=T.sibling}if(!y){for(T=p.child;T;){if(T===s){y=!0,s=p,u=h;break}if(T===u){y=!0,u=p,s=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function Zs(t){return t=la(t),t!==null?Bi(t):null}function Bi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Bi(t);if(n!==null)return n;t=t.sibling}return null}var bi=e.unstable_scheduleCallback,eo=e.unstable_cancelCallback,ua=e.unstable_shouldYield,lu=e.unstable_requestPaint,He=e.unstable_now,ca=e.unstable_getCurrentPriorityLevel,ti=e.unstable_ImmediatePriority,yr=e.unstable_UserBlockingPriority,sn=e.unstable_NormalPriority,to=e.unstable_LowPriority,ha=e.unstable_IdlePriority,ni=null,Gt=null;function fa(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ni,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:pa,no=Math.log,da=Math.LN2;function pa(t){return t>>>=0,t===0?32:31-(no(t)/da|0)|0}var $i=64,qi=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ri(t,n){var s=t.pendingLanes;if(s===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=s&268435455;if(y!==0){var T=y&~h;T!==0?u=_r(T):(p&=y,p!==0&&(u=_r(p)))}else y=s&~h,y!==0?u=_r(y):p!==0&&(u=_r(p));if(u===0)return 0;if(n!==0&&n!==u&&(n&h)===0&&(h=u&-u,p=n&-n,h>=p||h===16&&(p&4194240)!==0))return n;if((u&4)!==0&&(u|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)s=31-Ft(n),h=1<<s,u|=t[s],n&=~h;return u}function uu(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(t,n){for(var s=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Ft(p),T=1<<y,R=h[y];R===-1?((T&s)===0||(T&u)!==0)&&(h[y]=uu(T,n)):R<=n&&(t.expiredLanes|=T),p&=~T}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ii(){var t=$i;return $i<<=1,($i&4194240)===0&&($i=64),t}function vr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Er(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Ft(n),t[n]=s}function $e(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<s;){var h=31-Ft(s),p=1<<h;n[h]=0,u[h]=-1,t[h]=-1,s&=~p}}function wr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var u=31-Ft(s),h=1<<u;h&n|t[u]&n&&(t[u]|=n),s&=~h}}var Pe=0;function Tr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ma,Hi,ga,ya,_a,ro=!1,Dn=[],Tt=null,vn=null,En=null,Ir=new Map,on=new Map,Ln=[],cu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function va(t,n){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Ir.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":on.delete(n.pointerId)}}function Bt(t,n,s,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},n!==null&&(n=vo(n),n!==null&&Hi(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function hu(t,n,s,u,h){switch(n){case"focusin":return Tt=Bt(Tt,t,n,s,u,h),!0;case"dragenter":return vn=Bt(vn,t,n,s,u,h),!0;case"mouseover":return En=Bt(En,t,n,s,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,Bt(Ir.get(p)||null,t,n,s,u,h)),!0;case"gotpointercapture":return p=h.pointerId,on.set(p,Bt(on.get(p)||null,t,n,s,u,h)),!0}return!1}function Ea(t){var n=ui(t.target);if(n!==null){var s=yn(n);if(s!==null){if(n=s.tag,n===13){if(n=ei(s),n!==null){t.blockedOn=n,_a(t.priority,function(){ga(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jn(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Wi(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Yr=u,s.target.dispatchEvent(u),Yr=null}else return n=vo(s),n!==null&&Hi(n),t.blockedOn=s,!1;n.shift()}return!0}function si(t,n,s){Jn(t)&&s.delete(n)}function wa(){ro=!1,Tt!==null&&Jn(Tt)&&(Tt=null),vn!==null&&Jn(vn)&&(vn=null),En!==null&&Jn(En)&&(En=null),Ir.forEach(si),on.forEach(si)}function wn(t,n){t.blockedOn===n&&(t.blockedOn=null,ro||(ro=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wa)))}function Tn(t){function n(h){return wn(h,t)}if(0<Dn.length){wn(Dn[0],t);for(var s=1;s<Dn.length;s++){var u=Dn[s];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&wn(Tt,t),vn!==null&&wn(vn,t),En!==null&&wn(En,t),Ir.forEach(n),on.forEach(n),s=0;s<Ln.length;s++)u=Ln[s],u.blockedOn===t&&(u.blockedOn=null);for(;0<Ln.length&&(s=Ln[0],s.blockedOn===null);)Ea(s),s.blockedOn===null&&Ln.shift()}var Zn=ce.ReactCurrentBatchConfig,Sr=!0;function Ge(t,n,s,u){var h=Pe,p=Zn.transition;Zn.transition=null;try{Pe=1,io(t,n,s,u)}finally{Pe=h,Zn.transition=p}}function fu(t,n,s,u){var h=Pe,p=Zn.transition;Zn.transition=null;try{Pe=4,io(t,n,s,u)}finally{Pe=h,Zn.transition=p}}function io(t,n,s,u){if(Sr){var h=Wi(t,n,s,u);if(h===null)Iu(t,n,u,oi,s),va(t,u);else if(hu(h,t,n,s,u))u.stopPropagation();else if(va(t,u),n&4&&-1<cu.indexOf(t)){for(;h!==null;){var p=vo(h);if(p!==null&&ma(p),p=Wi(t,n,s,u),p===null&&Iu(t,n,u,oi,s),p===h)break;h=p}h!==null&&u.stopPropagation()}else Iu(t,n,u,null,s)}}var oi=null;function Wi(t,n,s,u){if(oi=null,t=Oi(u),t=ui(t),t!==null)if(n=yn(t),n===null)t=null;else if(s=n.tag,s===13){if(t=ei(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return oi=t,null}function so(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ca()){case ti:return 1;case yr:return 4;case sn:case to:return 16;case ha:return 536870912;default:return 16}default:return 16}}var Xt=null,Qi=null,bt=null;function oo(){if(bt)return bt;var t,n=Qi,s=n.length,u,h="value"in Xt?Xt.value:Xt.textContent,p=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(u=1;u<=y&&n[s-u]===h[p-u];u++);return bt=h.slice(t,1<u?1-u:void 0)}function Ki(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function On(){return!0}function ao(){return!1}function It(t){function n(s,u,h,p,y){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?On:ao,this.isPropagationStopped=ao,this}return ee(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),n}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=It(In),Mn=ee({},In,{view:0,detail:0}),du=It(Mn),Yi,er,Ar,ai=ee({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Yi=t.screenX-Ar.screenX,er=t.screenY-Ar.screenY):er=Yi=0,Ar=t),Yi)},movementY:function(t){return"movementY"in t?t.movementY:er}}),Xi=It(ai),lo=ee({},ai,{dataTransfer:0}),Ta=It(lo),Ji=ee({},Mn,{relatedTarget:0}),Zi=It(Ji),Ia=ee({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),tr=It(Ia),Sa=ee({},In,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aa=It(Sa),Ra=ee({},In,{data:0}),uo=It(Ra),es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ca={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pa(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ca[t])?!!n[t]:!1}function Fn(){return Pa}var a=ee({},Mn,{key:function(t){if(t.key){var n=es[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ki(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(t){return t.type==="keypress"?Ki(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ki(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=It(a),g=ee({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=It(g),L=ee({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn}),U=It(L),te=ee({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=It(te),ct=ee({},ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=It(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,an=null;m&&"documentMode"in document&&(an=document.documentMode);var Jt=m&&"TextEvent"in window&&!an,li=m&&(!st||an&&8<an&&11>=an),ts=" ",Wh=!1;function Qh(t,n){switch(t){case"keyup":return yt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function Fg(t,n){switch(t){case"compositionend":return Kh(n);case"keypress":return n.which!==32?null:(Wh=!0,ts);case"textInput":return t=n.data,t===ts&&Wh?null:t;default:return null}}function jg(t,n){if(ns)return t==="compositionend"||!st&&Qh(t,n)?(t=oo(),bt=Qi=Xt=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return li&&n.locale!=="ko"?null:n.data;default:return null}}var Ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ug[t.type]:n==="textarea"}function Yh(t,n,s,u){Nn(u),n=Da(n,"onChange"),0<n.length&&(s=new Gi("onChange","change",null,s,u),t.push({event:s,listeners:n}))}var co=null,ho=null;function zg(t){mf(t,0)}function ka(t){var n=as(t);if(xi(n))return t}function Bg(t,n){if(t==="change")return n}var Xh=!1;if(m){var pu;if(m){var mu="oninput"in document;if(!mu){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),mu=typeof Jh.oninput=="function"}pu=mu}else pu=!1;Xh=pu&&(!document.documentMode||9<document.documentMode)}function Zh(){co&&(co.detachEvent("onpropertychange",ef),ho=co=null)}function ef(t){if(t.propertyName==="value"&&ka(ho)){var n=[];Yh(n,ho,t,Oi(t)),Xs(zg,n)}}function bg(t,n,s){t==="focusin"?(Zh(),co=n,ho=s,co.attachEvent("onpropertychange",ef)):t==="focusout"&&Zh()}function $g(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ka(ho)}function qg(t,n){if(t==="click")return ka(n)}function Hg(t,n){if(t==="input"||t==="change")return ka(n)}function Wg(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:Wg;function fo(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!_.call(n,h)||!Sn(t[h],n[h]))return!1}return!0}function tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nf(t,n){var s=tf(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=n&&u>=n)return{node:s,offset:n-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=tf(s)}}function rf(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?rf(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sf(){for(var t=window,n=mr();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mr(t.document)}return n}function gu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Qg(t){var n=sf(),s=t.focusedElem,u=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&rf(s.ownerDocument.documentElement,s)){if(u!==null&&gu(s)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var h=s.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=nf(s,p);var y=nf(s,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kg=m&&"documentMode"in document&&11>=document.documentMode,rs=null,yu=null,po=null,_u=!1;function of(t,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;_u||rs==null||rs!==mr(u)||(u=rs,"selectionStart"in u&&gu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),po&&fo(po,u)||(po=u,u=Da(yu,"onSelect"),0<u.length&&(n=new Gi("onSelect","select",null,n,s),t.push({event:n,listeners:u}),n.target=rs)))}function xa(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var is={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},vu={},af={};m&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Va(t){if(vu[t])return vu[t];if(!is[t])return t;var n=is[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in af)return vu[t]=n[s];return t}var lf=Va("animationend"),uf=Va("animationiteration"),cf=Va("animationstart"),hf=Va("transitionend"),ff=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,n){ff.set(t,n),c(n,[t])}for(var Eu=0;Eu<df.length;Eu++){var wu=df[Eu],Gg=wu.toLowerCase(),Yg=wu[0].toUpperCase()+wu.slice(1);Rr(Gg,"on"+Yg)}Rr(lf,"onAnimationEnd"),Rr(uf,"onAnimationIteration"),Rr(cf,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(hf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xg=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function pf(t,n,s){var u=t.type||"unknown-event";t.currentTarget=s,aa(u,n,void 0,t),t.currentTarget=null}function mf(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],h=u.event;u=u.listeners;e:{var p=void 0;if(n)for(var y=u.length-1;0<=y;y--){var T=u[y],R=T.instance,j=T.currentTarget;if(T=T.listener,R!==p&&h.isPropagationStopped())break e;pf(h,T,j),p=R}else for(y=0;y<u.length;y++){if(T=u[y],R=T.instance,j=T.currentTarget,T=T.listener,R!==p&&h.isPropagationStopped())break e;pf(h,T,j),p=R}}}if(gn)throw t=Js,gn=!1,Js=null,t}function Qe(t,n){var s=n[ku];s===void 0&&(s=n[ku]=new Set);var u=t+"__bubble";s.has(u)||(gf(n,t,2,!1),s.add(u))}function Tu(t,n,s){var u=0;n&&(u|=4),gf(s,t,u,n)}var Na="_reactListening"+Math.random().toString(36).slice(2);function go(t){if(!t[Na]){t[Na]=!0,o.forEach(function(s){s!=="selectionchange"&&(Xg.has(s)||Tu(s,!1,t),Tu(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Na]||(n[Na]=!0,Tu("selectionchange",!1,n))}}function gf(t,n,s,u){switch(so(n)){case 1:var h=Ge;break;case 4:h=fu;break;default:h=io}s=h.bind(null,n,s,t),h=void 0,!ji||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Iu(t,n,s,u,h){var p=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;T!==null;){if(y=ui(T),y===null)return;if(R=y.tag,R===5||R===6){u=p=y;continue e}T=T.parentNode}}u=u.return}Xs(function(){var j=p,W=Oi(s),Y=[];e:{var H=ff.get(t);if(H!==void 0){var ne=Gi,oe=t;switch(t){case"keypress":if(Ki(s)===0)break e;case"keydown":case"keyup":ne=d;break;case"focusin":oe="focus",ne=Zi;break;case"focusout":oe="blur",ne=Zi;break;case"beforeblur":case"afterblur":ne=Zi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=U;break;case lf:case uf:case cf:ne=tr;break;case hf:ne=Be;break;case"scroll":ne=du;break;case"wheel":ne=xe;break;case"copy":case"cut":case"paste":ne=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=v}var ae=(n&4)!==0,rt=!ae&&t==="scroll",O=ae?H!==null?H+"Capture":null:H;ae=[];for(var P=j,M;P!==null;){M=P;var Z=M.stateNode;if(M.tag===5&&Z!==null&&(M=Z,O!==null&&(Z=nt(P,O),Z!=null&&ae.push(yo(P,Z,M)))),rt)break;P=P.return}0<ae.length&&(H=new ne(H,oe,null,s,W),Y.push({event:H,listeners:ae}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",H&&s!==Yr&&(oe=s.relatedTarget||s.fromElement)&&(ui(oe)||oe[nr]))break e;if((ne||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,ne?(oe=s.relatedTarget||s.toElement,ne=j,oe=oe?ui(oe):null,oe!==null&&(rt=yn(oe),oe!==rt||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ne=null,oe=j),ne!==oe)){if(ae=Xi,Z="onMouseLeave",O="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ae=v,Z="onPointerLeave",O="onPointerEnter",P="pointer"),rt=ne==null?H:as(ne),M=oe==null?H:as(oe),H=new ae(Z,P+"leave",ne,s,W),H.target=rt,H.relatedTarget=M,Z=null,ui(W)===j&&(ae=new ae(O,P+"enter",oe,s,W),ae.target=M,ae.relatedTarget=rt,Z=ae),rt=Z,ne&&oe)t:{for(ae=ne,O=oe,P=0,M=ae;M;M=ss(M))P++;for(M=0,Z=O;Z;Z=ss(Z))M++;for(;0<P-M;)ae=ss(ae),P--;for(;0<M-P;)O=ss(O),M--;for(;P--;){if(ae===O||O!==null&&ae===O.alternate)break t;ae=ss(ae),O=ss(O)}ae=null}else ae=null;ne!==null&&yf(Y,H,ne,ae,!1),oe!==null&&rt!==null&&yf(Y,rt,oe,ae,!0)}}e:{if(H=j?as(j):window,ne=H.nodeName&&H.nodeName.toLowerCase(),ne==="select"||ne==="input"&&H.type==="file")var ue=Bg;else if(Gh(H))if(Xh)ue=Hg;else{ue=$g;var de=bg}else(ne=H.nodeName)&&ne.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ue=qg);if(ue&&(ue=ue(t,j))){Yh(Y,ue,s,W);break e}de&&de(t,H,j),t==="focusout"&&(de=H._wrapperState)&&de.controlled&&H.type==="number"&&Ni(H,"number",H.value)}switch(de=j?as(j):window,t){case"focusin":(Gh(de)||de.contentEditable==="true")&&(rs=de,yu=j,po=null);break;case"focusout":po=yu=rs=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,of(Y,s,W);break;case"selectionchange":if(Kg)break;case"keydown":case"keyup":of(Y,s,W)}var pe;if(st)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ns?Qh(t,s)&&(_e="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(li&&s.locale!=="ko"&&(ns||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ns&&(pe=oo()):(Xt=W,Qi="value"in Xt?Xt.value:Xt.textContent,ns=!0)),de=Da(j,_e),0<de.length&&(_e=new uo(_e,t,null,s,W),Y.push({event:_e,listeners:de}),pe?_e.data=pe:(pe=Kh(s),pe!==null&&(_e.data=pe)))),(pe=Jt?Fg(t,s):jg(t,s))&&(j=Da(j,"onBeforeInput"),0<j.length&&(W=new uo("onBeforeInput","beforeinput",null,s,W),Y.push({event:W,listeners:j}),W.data=pe))}mf(Y,n)})}function yo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Da(t,n){for(var s=n+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=nt(t,s),p!=null&&u.unshift(yo(t,p,h)),p=nt(t,n),p!=null&&u.push(yo(t,p,h))),t=t.return}return u}function ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yf(t,n,s,u,h){for(var p=n._reactName,y=[];s!==null&&s!==u;){var T=s,R=T.alternate,j=T.stateNode;if(R!==null&&R===u)break;T.tag===5&&j!==null&&(T=j,h?(R=nt(s,p),R!=null&&y.unshift(yo(s,R,T))):h||(R=nt(s,p),R!=null&&y.push(yo(s,R,T)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var Jg=/\r\n?/g,Zg=/\u0000|\uFFFD/g;function _f(t){return(typeof t=="string"?t:""+t).replace(Jg,`
`).replace(Zg,"")}function La(t,n,s){if(n=_f(n),_f(t)!==n&&s)throw Error(r(425))}function Oa(){}var Su=null,Au=null;function Ru(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cu=typeof setTimeout=="function"?setTimeout:void 0,ey=typeof clearTimeout=="function"?clearTimeout:void 0,vf=typeof Promise=="function"?Promise:void 0,ty=typeof queueMicrotask=="function"?queueMicrotask:typeof vf<"u"?function(t){return vf.resolve(null).then(t).catch(ny)}:Cu;function ny(t){setTimeout(function(){throw t})}function Pu(t,n){var s=n,u=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){t.removeChild(h),Tn(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);Tn(n)}function Cr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Ef(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var os=Math.random().toString(36).slice(2),jn="__reactFiber$"+os,_o="__reactProps$"+os,nr="__reactContainer$"+os,ku="__reactEvents$"+os,ry="__reactListeners$"+os,iy="__reactHandles$"+os;function ui(t){var n=t[jn];if(n)return n;for(var s=t.parentNode;s;){if(n=s[nr]||s[jn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ef(t);t!==null;){if(s=t[jn])return s;t=Ef(t)}return n}t=s,s=t.parentNode}return null}function vo(t){return t=t[jn]||t[nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function as(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Ma(t){return t[_o]||null}var xu=[],ls=-1;function Pr(t){return{current:t}}function Ke(t){0>ls||(t.current=xu[ls],xu[ls]=null,ls--)}function We(t,n){ls++,xu[ls]=t.current,t.current=n}var kr={},xt=Pr(kr),$t=Pr(!1),ci=kr;function us(t,n){var s=t.type.contextTypes;if(!s)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in s)h[p]=n[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function Fa(){Ke($t),Ke(xt)}function wf(t,n,s){if(xt.current!==kr)throw Error(r(168));We(xt,n),We($t,s)}function Tf(t,n,s){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,je(t)||"Unknown",h));return ee({},s,u)}function ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,ci=xt.current,We(xt,t),We($t,$t.current),!0}function If(t,n,s){var u=t.stateNode;if(!u)throw Error(r(169));s?(t=Tf(t,n,ci),u.__reactInternalMemoizedMergedChildContext=t,Ke($t),Ke(xt),We(xt,t)):Ke($t),We($t,s)}var rr=null,Ua=!1,Vu=!1;function Sf(t){rr===null?rr=[t]:rr.push(t)}function sy(t){Ua=!0,Sf(t)}function xr(){if(!Vu&&rr!==null){Vu=!0;var t=0,n=Pe;try{var s=rr;for(Pe=1;t<s.length;t++){var u=s[t];do u=u(!0);while(u!==null)}rr=null,Ua=!1}catch(h){throw rr!==null&&(rr=rr.slice(t+1)),bi(ti,xr),h}finally{Pe=n,Vu=!1}}return null}var cs=[],hs=0,za=null,Ba=0,ln=[],un=0,hi=null,ir=1,sr="";function fi(t,n){cs[hs++]=Ba,cs[hs++]=za,za=t,Ba=n}function Af(t,n,s){ln[un++]=ir,ln[un++]=sr,ln[un++]=hi,hi=t;var u=ir;t=sr;var h=32-Ft(u)-1;u&=~(1<<h),s+=1;var p=32-Ft(n)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,ir=1<<32-Ft(n)+h|s<<h|u,sr=p+t}else ir=1<<p|s<<h|u,sr=t}function Nu(t){t.return!==null&&(fi(t,1),Af(t,1,0))}function Du(t){for(;t===za;)za=cs[--hs],cs[hs]=null,Ba=cs[--hs],cs[hs]=null;for(;t===hi;)hi=ln[--un],ln[un]=null,sr=ln[--un],ln[un]=null,ir=ln[--un],ln[un]=null}var Zt=null,en=null,Ye=!1,An=null;function Rf(t,n){var s=dn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function Cf(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Zt=t,en=Cr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Zt=t,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=hi!==null?{id:ir,overflow:sr}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=dn(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,Zt=t,en=null,!0):!1;default:return!1}}function Lu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ou(t){if(Ye){var n=en;if(n){var s=n;if(!Cf(t,n)){if(Lu(t))throw Error(r(418));n=Cr(s.nextSibling);var u=Zt;n&&Cf(t,n)?Rf(u,s):(t.flags=t.flags&-4097|2,Ye=!1,Zt=t)}}else{if(Lu(t))throw Error(r(418));t.flags=t.flags&-4097|2,Ye=!1,Zt=t}}}function Pf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function ba(t){if(t!==Zt)return!1;if(!Ye)return Pf(t),Ye=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Ru(t.type,t.memoizedProps)),n&&(n=en)){if(Lu(t))throw kf(),Error(r(418));for(;n;)Rf(t,n),n=Cr(n.nextSibling)}if(Pf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){en=Cr(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}en=null}}else en=Zt?Cr(t.stateNode.nextSibling):null;return!0}function kf(){for(var t=en;t;)t=Cr(t.nextSibling)}function fs(){en=Zt=null,Ye=!1}function Mu(t){An===null?An=[t]:An.push(t)}var oy=ce.ReactCurrentBatchConfig;function Eo(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var u=s.stateNode}if(!u)throw Error(r(147,t));var h=u,p=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(y){var T=h.refs;y===null?delete T[p]:T[p]=y},n._stringRef=p,n)}if(typeof t!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,t))}return t}function $a(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function xf(t){var n=t._init;return n(t._payload)}function Vf(t){function n(O,P){if(t){var M=O.deletions;M===null?(O.deletions=[P],O.flags|=16):M.push(P)}}function s(O,P){if(!t)return null;for(;P!==null;)n(O,P),P=P.sibling;return null}function u(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(O,P){return O=jr(O,P),O.index=0,O.sibling=null,O}function p(O,P,M){return O.index=M,t?(M=O.alternate,M!==null?(M=M.index,M<P?(O.flags|=2,P):M):(O.flags|=2,P)):(O.flags|=1048576,P)}function y(O){return t&&O.alternate===null&&(O.flags|=2),O}function T(O,P,M,Z){return P===null||P.tag!==6?(P=Cc(M,O.mode,Z),P.return=O,P):(P=h(P,M),P.return=O,P)}function R(O,P,M,Z){var ue=M.type;return ue===x?W(O,P,M.props.children,Z,M.key):P!==null&&(P.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Ne&&xf(ue)===P.type)?(Z=h(P,M.props),Z.ref=Eo(O,P,M),Z.return=O,Z):(Z=dl(M.type,M.key,M.props,null,O.mode,Z),Z.ref=Eo(O,P,M),Z.return=O,Z)}function j(O,P,M,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=Pc(M,O.mode,Z),P.return=O,P):(P=h(P,M.children||[]),P.return=O,P)}function W(O,P,M,Z,ue){return P===null||P.tag!==7?(P=Ei(M,O.mode,Z,ue),P.return=O,P):(P=h(P,M),P.return=O,P)}function Y(O,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Cc(""+P,O.mode,M),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Fe:return M=dl(P.type,P.key,P.props,null,O.mode,M),M.ref=Eo(O,null,P),M.return=O,M;case Ie:return P=Pc(P,O.mode,M),P.return=O,P;case Ne:var Z=P._init;return Y(O,Z(P._payload),M)}if(Qn(P)||re(P))return P=Ei(P,O.mode,M,null),P.return=O,P;$a(O,P)}return null}function H(O,P,M,Z){var ue=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ue!==null?null:T(O,P,""+M,Z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Fe:return M.key===ue?R(O,P,M,Z):null;case Ie:return M.key===ue?j(O,P,M,Z):null;case Ne:return ue=M._init,H(O,P,ue(M._payload),Z)}if(Qn(M)||re(M))return ue!==null?null:W(O,P,M,Z,null);$a(O,M)}return null}function ne(O,P,M,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return O=O.get(M)||null,T(P,O,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Fe:return O=O.get(Z.key===null?M:Z.key)||null,R(P,O,Z,ue);case Ie:return O=O.get(Z.key===null?M:Z.key)||null,j(P,O,Z,ue);case Ne:var de=Z._init;return ne(O,P,M,de(Z._payload),ue)}if(Qn(Z)||re(Z))return O=O.get(M)||null,W(P,O,Z,ue,null);$a(P,Z)}return null}function oe(O,P,M,Z){for(var ue=null,de=null,pe=P,_e=P=0,Et=null;pe!==null&&_e<M.length;_e++){pe.index>_e?(Et=pe,pe=null):Et=pe.sibling;var Oe=H(O,pe,M[_e],Z);if(Oe===null){pe===null&&(pe=Et);break}t&&pe&&Oe.alternate===null&&n(O,pe),P=p(Oe,P,_e),de===null?ue=Oe:de.sibling=Oe,de=Oe,pe=Et}if(_e===M.length)return s(O,pe),Ye&&fi(O,_e),ue;if(pe===null){for(;_e<M.length;_e++)pe=Y(O,M[_e],Z),pe!==null&&(P=p(pe,P,_e),de===null?ue=pe:de.sibling=pe,de=pe);return Ye&&fi(O,_e),ue}for(pe=u(O,pe);_e<M.length;_e++)Et=ne(pe,O,_e,M[_e],Z),Et!==null&&(t&&Et.alternate!==null&&pe.delete(Et.key===null?_e:Et.key),P=p(Et,P,_e),de===null?ue=Et:de.sibling=Et,de=Et);return t&&pe.forEach(function(Ur){return n(O,Ur)}),Ye&&fi(O,_e),ue}function ae(O,P,M,Z){var ue=re(M);if(typeof ue!="function")throw Error(r(150));if(M=ue.call(M),M==null)throw Error(r(151));for(var de=ue=null,pe=P,_e=P=0,Et=null,Oe=M.next();pe!==null&&!Oe.done;_e++,Oe=M.next()){pe.index>_e?(Et=pe,pe=null):Et=pe.sibling;var Ur=H(O,pe,Oe.value,Z);if(Ur===null){pe===null&&(pe=Et);break}t&&pe&&Ur.alternate===null&&n(O,pe),P=p(Ur,P,_e),de===null?ue=Ur:de.sibling=Ur,de=Ur,pe=Et}if(Oe.done)return s(O,pe),Ye&&fi(O,_e),ue;if(pe===null){for(;!Oe.done;_e++,Oe=M.next())Oe=Y(O,Oe.value,Z),Oe!==null&&(P=p(Oe,P,_e),de===null?ue=Oe:de.sibling=Oe,de=Oe);return Ye&&fi(O,_e),ue}for(pe=u(O,pe);!Oe.done;_e++,Oe=M.next())Oe=ne(pe,O,_e,Oe.value,Z),Oe!==null&&(t&&Oe.alternate!==null&&pe.delete(Oe.key===null?_e:Oe.key),P=p(Oe,P,_e),de===null?ue=Oe:de.sibling=Oe,de=Oe);return t&&pe.forEach(function(Uy){return n(O,Uy)}),Ye&&fi(O,_e),ue}function rt(O,P,M,Z){if(typeof M=="object"&&M!==null&&M.type===x&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Fe:e:{for(var ue=M.key,de=P;de!==null;){if(de.key===ue){if(ue=M.type,ue===x){if(de.tag===7){s(O,de.sibling),P=h(de,M.props.children),P.return=O,O=P;break e}}else if(de.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Ne&&xf(ue)===de.type){s(O,de.sibling),P=h(de,M.props),P.ref=Eo(O,de,M),P.return=O,O=P;break e}s(O,de);break}else n(O,de);de=de.sibling}M.type===x?(P=Ei(M.props.children,O.mode,Z,M.key),P.return=O,O=P):(Z=dl(M.type,M.key,M.props,null,O.mode,Z),Z.ref=Eo(O,P,M),Z.return=O,O=Z)}return y(O);case Ie:e:{for(de=M.key;P!==null;){if(P.key===de)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){s(O,P.sibling),P=h(P,M.children||[]),P.return=O,O=P;break e}else{s(O,P);break}else n(O,P);P=P.sibling}P=Pc(M,O.mode,Z),P.return=O,O=P}return y(O);case Ne:return de=M._init,rt(O,P,de(M._payload),Z)}if(Qn(M))return oe(O,P,M,Z);if(re(M))return ae(O,P,M,Z);$a(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(s(O,P.sibling),P=h(P,M),P.return=O,O=P):(s(O,P),P=Cc(M,O.mode,Z),P.return=O,O=P),y(O)):s(O,P)}return rt}var ds=Vf(!0),Nf=Vf(!1),qa=Pr(null),Ha=null,ps=null,Fu=null;function ju(){Fu=ps=Ha=null}function Uu(t){var n=qa.current;Ke(qa),t._currentValue=n}function zu(t,n,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===s)break;t=t.return}}function ms(t,n){Ha=t,Fu=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Ht=!0),t.firstContext=null)}function cn(t){var n=t._currentValue;if(Fu!==t)if(t={context:t,memoizedValue:n,next:null},ps===null){if(Ha===null)throw Error(r(308));ps=t,Ha.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return n}var di=null;function Bu(t){di===null?di=[t]:di.push(t)}function Df(t,n,s,u){var h=n.interleaved;return h===null?(s.next=s,Bu(n)):(s.next=h.next,h.next=s),n.interleaved=s,or(t,u)}function or(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Vr=!1;function bu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Nr(t,n,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(De&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,or(t,s)}return h=u.interleaved,h===null?(n.next=n,Bu(u)):(n.next=h.next,h.next=n),u.interleaved=n,or(t,s)}function Wa(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,wr(t,s)}}function Of(t,n){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};p===null?h=p=y:p=p.next=y,s=s.next}while(s!==null);p===null?h=p=n:p=p.next=n}else h=p=n;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function Qa(t,n,s,u){var h=t.updateQueue;Vr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,j=R.next;R.next=null,y===null?p=j:y.next=j,y=R;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==y&&(T===null?W.firstBaseUpdate=j:T.next=j,W.lastBaseUpdate=R))}if(p!==null){var Y=h.baseState;y=0,W=j=R=null,T=p;do{var H=T.lane,ne=T.eventTime;if((u&H)===H){W!==null&&(W=W.next={eventTime:ne,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var oe=t,ae=T;switch(H=n,ne=s,ae.tag){case 1:if(oe=ae.payload,typeof oe=="function"){Y=oe.call(ne,Y,H);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ae.payload,H=typeof oe=="function"?oe.call(ne,Y,H):oe,H==null)break e;Y=ee({},Y,H);break e;case 2:Vr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,H=h.effects,H===null?h.effects=[T]:H.push(T))}else ne={eventTime:ne,lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(j=W=ne,R=Y):W=W.next=ne,y|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);if(W===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=W,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else p===null&&(h.shared.lanes=0);gi|=y,t.lanes=y,t.memoizedState=Y}}function Mf(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var wo={},Un=Pr(wo),To=Pr(wo),Io=Pr(wo);function pi(t){if(t===wo)throw Error(r(174));return t}function $u(t,n){switch(We(Io,n),We(To,t),We(Un,wo),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ut(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=ut(n,t)}Ke(Un),We(Un,n)}function gs(){Ke(Un),Ke(To),Ke(Io)}function Ff(t){pi(Io.current);var n=pi(Un.current),s=ut(n,t.type);n!==s&&(We(To,t),We(Un,s))}function qu(t){To.current===t&&(Ke(Un),Ke(To))}var Je=Pr(0);function Ka(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hu=[];function Wu(){for(var t=0;t<Hu.length;t++)Hu[t]._workInProgressVersionPrimary=null;Hu.length=0}var Ga=ce.ReactCurrentDispatcher,Qu=ce.ReactCurrentBatchConfig,mi=0,Ze=null,ht=null,_t=null,Ya=!1,So=!1,Ao=0,ay=0;function Vt(){throw Error(r(321))}function Ku(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Sn(t[s],n[s]))return!1;return!0}function Gu(t,n,s,u,h,p){if(mi=p,Ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ga.current=t===null||t.memoizedState===null?hy:fy,t=s(u,h),So){p=0;do{if(So=!1,Ao=0,25<=p)throw Error(r(301));p+=1,_t=ht=null,n.updateQueue=null,Ga.current=dy,t=s(u,h)}while(So)}if(Ga.current=Za,n=ht!==null&&ht.next!==null,mi=0,_t=ht=Ze=null,Ya=!1,n)throw Error(r(300));return t}function Yu(){var t=Ao!==0;return Ao=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ze.memoizedState=_t=t:_t=_t.next=t,_t}function hn(){if(ht===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=_t===null?Ze.memoizedState:_t.next;if(n!==null)_t=n,ht=t;else{if(t===null)throw Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?Ze.memoizedState=_t=t:_t=_t.next=t}return _t}function Ro(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=hn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=s.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,s.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=y=null,R=null,j=p;do{var W=j.lane;if((mi&W)===W)R!==null&&(R=R.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),u=j.hasEagerState?j.eagerState:t(u,j.action);else{var Y={lane:W,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};R===null?(T=R=Y,y=u):R=R.next=Y,Ze.lanes|=W,gi|=W}j=j.next}while(j!==null&&j!==p);R===null?y=u:R.next=T,Sn(u,n.memoizedState)||(Ht=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=R,s.lastRenderedState=u}if(t=s.interleaved,t!==null){h=t;do p=h.lane,Ze.lanes|=p,gi|=p,h=h.next;while(h!==t)}else h===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Ju(t){var n=hn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var u=s.dispatch,h=s.pending,p=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);Sn(p,n.memoizedState)||(Ht=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),s.lastRenderedState=p}return[p,u]}function jf(){}function Uf(t,n){var s=Ze,u=hn(),h=n(),p=!Sn(u.memoizedState,h);if(p&&(u.memoizedState=h,Ht=!0),u=u.queue,Zu(bf.bind(null,s,u,t),[t]),u.getSnapshot!==n||p||_t!==null&&_t.memoizedState.tag&1){if(s.flags|=2048,Co(9,Bf.bind(null,s,u,h,n),void 0,null),vt===null)throw Error(r(349));(mi&30)!==0||zf(s,n,h)}return h}function zf(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ze.updateQueue,n===null?(n={lastEffect:null,stores:null},Ze.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Bf(t,n,s,u){n.value=s,n.getSnapshot=u,$f(n)&&qf(t)}function bf(t,n,s){return s(function(){$f(n)&&qf(t)})}function $f(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Sn(t,s)}catch{return!0}}function qf(t){var n=or(t,1);n!==null&&kn(n,t,1,-1)}function Hf(t){var n=zn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},n.queue=t,t=t.dispatch=cy.bind(null,Ze,t),[n.memoizedState,t]}function Co(t,n,s,u){return t={tag:t,create:n,destroy:s,deps:u,next:null},n=Ze.updateQueue,n===null?(n={lastEffect:null,stores:null},Ze.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,n.lastEffect=t)),t}function Wf(){return hn().memoizedState}function Xa(t,n,s,u){var h=zn();Ze.flags|=t,h.memoizedState=Co(1|n,s,void 0,u===void 0?null:u)}function Ja(t,n,s,u){var h=hn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var y=ht.memoizedState;if(p=y.destroy,u!==null&&Ku(u,y.deps)){h.memoizedState=Co(n,s,p,u);return}}Ze.flags|=t,h.memoizedState=Co(1|n,s,p,u)}function Qf(t,n){return Xa(8390656,8,t,n)}function Zu(t,n){return Ja(2048,8,t,n)}function Kf(t,n){return Ja(4,2,t,n)}function Gf(t,n){return Ja(4,4,t,n)}function Yf(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xf(t,n,s){return s=s!=null?s.concat([t]):null,Ja(4,4,Yf.bind(null,n,t),s)}function ec(){}function Jf(t,n){var s=hn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Ku(n,u[1])?u[0]:(s.memoizedState=[t,n],t)}function Zf(t,n){var s=hn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Ku(n,u[1])?u[0]:(t=t(),s.memoizedState=[t,n],t)}function ed(t,n,s){return(mi&21)===0?(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=s):(Sn(s,n)||(s=ii(),Ze.lanes|=s,gi|=s,t.baseState=!0),n)}function ly(t,n){var s=Pe;Pe=s!==0&&4>s?s:4,t(!0);var u=Qu.transition;Qu.transition={};try{t(!1),n()}finally{Pe=s,Qu.transition=u}}function td(){return hn().memoizedState}function uy(t,n,s){var u=Mr(t);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},nd(t))rd(n,s);else if(s=Df(t,n,s,u),s!==null){var h=zt();kn(s,t,u,h),id(s,n,u)}}function cy(t,n,s){var u=Mr(t),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(nd(t))rd(n,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var y=n.lastRenderedState,T=p(y,s);if(h.hasEagerState=!0,h.eagerState=T,Sn(T,y)){var R=n.interleaved;R===null?(h.next=h,Bu(n)):(h.next=R.next,R.next=h),n.interleaved=h;return}}catch{}finally{}s=Df(t,n,h,u),s!==null&&(h=zt(),kn(s,t,u,h),id(s,n,u))}}function nd(t){var n=t.alternate;return t===Ze||n!==null&&n===Ze}function rd(t,n){So=Ya=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function id(t,n,s){if((s&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,wr(t,s)}}var Za={readContext:cn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},hy={readContext:cn,useCallback:function(t,n){return zn().memoizedState=[t,n===void 0?null:n],t},useContext:cn,useEffect:Qf,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,Xa(4194308,4,Yf.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Xa(4194308,4,t,n)},useInsertionEffect:function(t,n){return Xa(4,2,t,n)},useMemo:function(t,n){var s=zn();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var u=zn();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=uy.bind(null,Ze,t),[u.memoizedState,t]},useRef:function(t){var n=zn();return t={current:t},n.memoizedState=t},useState:Hf,useDebugValue:ec,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Hf(!1),n=t[0];return t=ly.bind(null,t[1]),zn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var u=Ze,h=zn();if(Ye){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),vt===null)throw Error(r(349));(mi&30)!==0||zf(u,n,s)}h.memoizedState=s;var p={value:s,getSnapshot:n};return h.queue=p,Qf(bf.bind(null,u,p,t),[t]),u.flags|=2048,Co(9,Bf.bind(null,u,p,s,n),void 0,null),s},useId:function(){var t=zn(),n=vt.identifierPrefix;if(Ye){var s=sr,u=ir;s=(u&~(1<<32-Ft(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ao++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=ay++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},fy={readContext:cn,useCallback:Jf,useContext:cn,useEffect:Zu,useImperativeHandle:Xf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Zf,useReducer:Xu,useRef:Wf,useState:function(){return Xu(Ro)},useDebugValue:ec,useDeferredValue:function(t){var n=hn();return ed(n,ht.memoizedState,t)},useTransition:function(){var t=Xu(Ro)[0],n=hn().memoizedState;return[t,n]},useMutableSource:jf,useSyncExternalStore:Uf,useId:td,unstable_isNewReconciler:!1},dy={readContext:cn,useCallback:Jf,useContext:cn,useEffect:Zu,useImperativeHandle:Xf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Zf,useReducer:Ju,useRef:Wf,useState:function(){return Ju(Ro)},useDebugValue:ec,useDeferredValue:function(t){var n=hn();return ht===null?n.memoizedState=t:ed(n,ht.memoizedState,t)},useTransition:function(){var t=Ju(Ro)[0],n=hn().memoizedState;return[t,n]},useMutableSource:jf,useSyncExternalStore:Uf,useId:td,unstable_isNewReconciler:!1};function Rn(t,n){if(t&&t.defaultProps){n=ee({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function tc(t,n,s,u){n=t.memoizedState,s=s(u,n),s=s==null?n:ee({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var el={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var u=zt(),h=Mr(t),p=ar(u,h);p.payload=n,s!=null&&(p.callback=s),n=Nr(t,p,h),n!==null&&(kn(n,t,h,u),Wa(n,t,h))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var u=zt(),h=Mr(t),p=ar(u,h);p.tag=1,p.payload=n,s!=null&&(p.callback=s),n=Nr(t,p,h),n!==null&&(kn(n,t,h,u),Wa(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=zt(),u=Mr(t),h=ar(s,u);h.tag=2,n!=null&&(h.callback=n),n=Nr(t,h,u),n!==null&&(kn(n,t,u,s),Wa(n,t,u))}};function sd(t,n,s,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):n.prototype&&n.prototype.isPureReactComponent?!fo(s,u)||!fo(h,p):!0}function od(t,n,s){var u=!1,h=kr,p=n.contextType;return typeof p=="object"&&p!==null?p=cn(p):(h=qt(n)?ci:xt.current,u=n.contextTypes,p=(u=u!=null)?us(t,h):kr),n=new n(s,p),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=el,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),n}function ad(t,n,s,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==t&&el.enqueueReplaceState(n,n.state,null)}function nc(t,n,s,u){var h=t.stateNode;h.props=s,h.state=t.memoizedState,h.refs={},bu(t);var p=n.contextType;typeof p=="object"&&p!==null?h.context=cn(p):(p=qt(n)?ci:xt.current,h.context=us(t,p)),h.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(tc(t,n,p,s),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&el.enqueueReplaceState(h,h.state,null),Qa(t,s,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ys(t,n){try{var s="",u=n;do s+=Ae(u),u=u.return;while(u);var h=s}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:n,stack:h,digest:null}}function rc(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function ic(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var py=typeof WeakMap=="function"?WeakMap:Map;function ld(t,n,s){s=ar(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){al||(al=!0,vc=u),ic(t,n)},s}function ud(t,n,s){s=ar(-1,s),s.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;s.payload=function(){return u(h)},s.callback=function(){ic(t,n)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(s.callback=function(){ic(t,n),typeof u!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),s}function cd(t,n,s){var u=t.pingCache;if(u===null){u=t.pingCache=new py;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(s)||(h.add(s),t=Py.bind(null,t,n,s),n.then(t,t))}function hd(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function fd(t,n,s,u,h){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=ar(-1,1),n.tag=2,Nr(s,n,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var my=ce.ReactCurrentOwner,Ht=!1;function Ut(t,n,s,u){n.child=t===null?Nf(n,null,s,u):ds(n,t.child,s,u)}function dd(t,n,s,u,h){s=s.render;var p=n.ref;return ms(n,h),u=Gu(t,n,s,u,p,h),s=Yu(),t!==null&&!Ht?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,lr(t,n,h)):(Ye&&s&&Nu(n),n.flags|=1,Ut(t,n,u,h),n.child)}function pd(t,n,s,u,h){if(t===null){var p=s.type;return typeof p=="function"&&!Rc(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=p,md(t,n,p,u,h)):(t=dl(s.type,null,u,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,(t.lanes&h)===0){var y=p.memoizedProps;if(s=s.compare,s=s!==null?s:fo,s(y,u)&&t.ref===n.ref)return lr(t,n,h)}return n.flags|=1,t=jr(p,u),t.ref=n.ref,t.return=n,n.child=t}function md(t,n,s,u,h){if(t!==null){var p=t.memoizedProps;if(fo(p,u)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,lr(t,n,h)}return sc(t,n,s,u,h)}function gd(t,n,s){var u=n.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(vs,tn),tn|=s;else{if((s&1073741824)===0)return t=p!==null?p.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,We(vs,tn),tn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:s,We(vs,tn),tn|=u}else p!==null?(u=p.baseLanes|s,n.memoizedState=null):u=s,We(vs,tn),tn|=u;return Ut(t,n,h,s),n.child}function yd(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function sc(t,n,s,u,h){var p=qt(s)?ci:xt.current;return p=us(n,p),ms(n,h),s=Gu(t,n,s,u,p,h),u=Yu(),t!==null&&!Ht?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,lr(t,n,h)):(Ye&&u&&Nu(n),n.flags|=1,Ut(t,n,s,h),n.child)}function _d(t,n,s,u,h){if(qt(s)){var p=!0;ja(n)}else p=!1;if(ms(n,h),n.stateNode===null)nl(t,n),od(n,s,u),nc(n,s,u,h),u=!0;else if(t===null){var y=n.stateNode,T=n.memoizedProps;y.props=T;var R=y.context,j=s.contextType;typeof j=="object"&&j!==null?j=cn(j):(j=qt(s)?ci:xt.current,j=us(n,j));var W=s.getDerivedStateFromProps,Y=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function";Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==u||R!==j)&&ad(n,y,u,j),Vr=!1;var H=n.memoizedState;y.state=H,Qa(n,u,y,h),R=n.memoizedState,T!==u||H!==R||$t.current||Vr?(typeof W=="function"&&(tc(n,s,W,u),R=n.memoizedState),(T=Vr||sd(n,s,T,u,H,R,j))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=R),y.props=u,y.state=R,y.context=j,u=T):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,Lf(t,n),T=n.memoizedProps,j=n.type===n.elementType?T:Rn(n.type,T),y.props=j,Y=n.pendingProps,H=y.context,R=s.contextType,typeof R=="object"&&R!==null?R=cn(R):(R=qt(s)?ci:xt.current,R=us(n,R));var ne=s.getDerivedStateFromProps;(W=typeof ne=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==Y||H!==R)&&ad(n,y,u,R),Vr=!1,H=n.memoizedState,y.state=H,Qa(n,u,y,h);var oe=n.memoizedState;T!==Y||H!==oe||$t.current||Vr?(typeof ne=="function"&&(tc(n,s,ne,u),oe=n.memoizedState),(j=Vr||sd(n,s,j,u,H,oe,R)||!1)?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,oe,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,oe,R)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=oe),y.props=u,y.state=oe,y.context=R,u=j):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),u=!1)}return oc(t,n,s,u,p,h)}function oc(t,n,s,u,h,p){yd(t,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&If(n,s,!1),lr(t,n,p);u=n.stateNode,my.current=n;var T=y&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&y?(n.child=ds(n,t.child,null,p),n.child=ds(n,null,T,p)):Ut(t,n,T,p),n.memoizedState=u.state,h&&If(n,s,!0),n.child}function vd(t){var n=t.stateNode;n.pendingContext?wf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&wf(t,n.context,!1),$u(t,n.containerInfo)}function Ed(t,n,s,u,h){return fs(),Mu(h),n.flags|=256,Ut(t,n,s,u),n.child}var ac={dehydrated:null,treeContext:null,retryLane:0};function lc(t){return{baseLanes:t,cachePool:null,transitions:null}}function wd(t,n,s){var u=n.pendingProps,h=Je.current,p=!1,y=(n.flags&128)!==0,T;if((T=y)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(p=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),We(Je,h&1),t===null)return Ou(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=u.children,t=u.fallback,p?(u=n.mode,p=n.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=pl(y,u,0,null),t=Ei(t,u,s,null),p.return=n,t.return=n,p.sibling=t,n.child=p,n.child.memoizedState=lc(s),n.memoizedState=ac,t):uc(n,y));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return gy(t,n,y,u,T,h,s);if(p){p=u.fallback,y=n.mode,h=t.child,T=h.sibling;var R={mode:"hidden",children:u.children};return(y&1)===0&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=R,n.deletions=null):(u=jr(h,R),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=jr(T,p):(p=Ei(p,y,s,null),p.flags|=2),p.return=n,u.return=n,u.sibling=p,n.child=u,u=p,p=n.child,y=t.child.memoizedState,y=y===null?lc(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~s,n.memoizedState=ac,u}return p=t.child,t=p.sibling,u=jr(p,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=s),u.return=n,u.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=u,n.memoizedState=null,u}function uc(t,n){return n=pl({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function tl(t,n,s,u){return u!==null&&Mu(u),ds(n,t.child,null,s),t=uc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gy(t,n,s,u,h,p,y){if(s)return n.flags&256?(n.flags&=-257,u=rc(Error(r(422))),tl(t,n,y,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(p=u.fallback,h=n.mode,u=pl({mode:"visible",children:u.children},h,0,null),p=Ei(p,h,y,null),p.flags|=2,u.return=n,p.return=n,u.sibling=p,n.child=u,(n.mode&1)!==0&&ds(n,t.child,null,y),n.child.memoizedState=lc(y),n.memoizedState=ac,p);if((n.mode&1)===0)return tl(t,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(r(419)),u=rc(p,u,void 0),tl(t,n,y,u)}if(T=(y&t.childLanes)!==0,Ht||T){if(u=vt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,or(t,h),kn(u,t,h,-1))}return Ac(),u=rc(Error(r(421))),tl(t,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=t.child,n=ky.bind(null,t),h._reactRetry=n,null):(t=p.treeContext,en=Cr(h.nextSibling),Zt=n,Ye=!0,An=null,t!==null&&(ln[un++]=ir,ln[un++]=sr,ln[un++]=hi,ir=t.id,sr=t.overflow,hi=n),n=uc(n,u.children),n.flags|=4096,n)}function Td(t,n,s){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),zu(t.return,n,s)}function cc(t,n,s,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=h)}function Id(t,n,s){var u=n.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,n,u.children,s),u=Je.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Td(t,s,n);else if(t.tag===19)Td(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(We(Je,u),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Ka(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),cc(n,!1,h,s,p);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ka(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}cc(n,!0,s,null,p);break;case"together":cc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function nl(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function lr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),gi|=n.lanes,(s&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=jr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=jr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function yy(t,n,s){switch(n.tag){case 3:vd(n),fs();break;case 5:Ff(n);break;case 1:qt(n.type)&&ja(n);break;case 4:$u(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;We(qa,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(We(Je,Je.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?wd(t,n,s):(We(Je,Je.current&1),t=lr(t,n,s),t!==null?t.sibling:null);We(Je,Je.current&1);break;case 19:if(u=(s&n.childLanes)!==0,(t.flags&128)!==0){if(u)return Id(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),We(Je,Je.current),u)break;return null;case 22:case 23:return n.lanes=0,gd(t,n,s)}return lr(t,n,s)}var Sd,hc,Ad,Rd;Sd=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},hc=function(){},Ad=function(t,n,s,u){var h=t.memoizedProps;if(h!==u){t=n.stateNode,pi(Un.current);var p=null;switch(s){case"input":h=Qr(t,h),u=Qr(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=Bs(t,h),u=Bs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Oa)}Qs(s,u);var y;s=null;for(j in h)if(!u.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var T=h[j];for(y in T)T.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(l.hasOwnProperty(j)?p||(p=[]):(p=p||[]).push(j,null));for(j in u){var R=u[j];if(T=h!=null?h[j]:void 0,u.hasOwnProperty(j)&&R!==T&&(R!=null||T!=null))if(j==="style")if(T){for(y in T)!T.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in R)R.hasOwnProperty(y)&&T[y]!==R[y]&&(s||(s={}),s[y]=R[y])}else s||(p||(p=[]),p.push(j,s)),s=R;else j==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(p=p||[]).push(j,R)):j==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(j,""+R):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(l.hasOwnProperty(j)?(R!=null&&j==="onScroll"&&Qe("scroll",t),p||T===R||(p=[])):(p=p||[]).push(j,R))}s&&(p=p||[]).push("style",s);var j=p;(n.updateQueue=j)&&(n.flags|=4)}},Rd=function(t,n,s,u){s!==u&&(n.flags|=4)};function Po(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=s,n}function _y(t,n,s){var u=n.pendingProps;switch(Du(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(n),null;case 1:return qt(n.type)&&Fa(),Nt(n),null;case 3:return u=n.stateNode,gs(),Ke($t),Ke(xt),Wu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(ba(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,An!==null&&(Tc(An),An=null))),hc(t,n),Nt(n),null;case 5:qu(n);var h=pi(Io.current);if(s=n.type,t!==null&&n.stateNode!=null)Ad(t,n,s,u,h),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Nt(n),null}if(t=pi(Un.current),ba(n)){u=n.stateNode,s=n.type;var p=n.memoizedProps;switch(u[jn]=n,u[_o]=p,t=(n.mode&1)!==0,s){case"dialog":Qe("cancel",u),Qe("close",u);break;case"iframe":case"object":case"embed":Qe("load",u);break;case"video":case"audio":for(h=0;h<mo.length;h++)Qe(mo[h],u);break;case"source":Qe("error",u);break;case"img":case"image":case"link":Qe("error",u),Qe("load",u);break;case"details":Qe("toggle",u);break;case"input":Vi(u,p),Qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Qe("invalid",u);break;case"textarea":Di(u,p),Qe("invalid",u)}Qs(s,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var T=p[y];y==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&La(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&La(u.textContent,T,t),h=["children",""+T]):l.hasOwnProperty(y)&&T!=null&&y==="onScroll"&&Qe("scroll",u)}switch(s){case"input":Wn(u),oa(u,p,!0);break;case"textarea":Wn(u),bs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Oa)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(s,{is:u.is}):(t=y.createElement(s),s==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,s),t[jn]=n,t[_o]=u,Sd(t,n,!1,!1),n.stateNode=t;e:{switch(y=Ks(s,u),s){case"dialog":Qe("cancel",t),Qe("close",t),h=u;break;case"iframe":case"object":case"embed":Qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<mo.length;h++)Qe(mo[h],t);h=u;break;case"source":Qe("error",t),h=u;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),h=u;break;case"details":Qe("toggle",t),h=u;break;case"input":Vi(t,u),h=Qr(t,u),Qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),Qe("invalid",t);break;case"textarea":Di(t,u),h=Bs(t,u),Qe("invalid",t);break;default:h=u}Qs(s,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var R=T[p];p==="style"?Hs(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&$s(t,R)):p==="children"?typeof R=="string"?(s!=="textarea"||R!=="")&&gr(t,R):typeof R=="number"&&gr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?R!=null&&p==="onScroll"&&Qe("scroll",t):R!=null&&J(t,p,R,y))}switch(s){case"input":Wn(t),oa(t,u,!1);break;case"textarea":Wn(t),bs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Ue(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Kn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Kn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Oa)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Nt(n),null;case 6:if(t&&n.stateNode!=null)Rd(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=pi(Io.current),pi(Un.current),ba(n)){if(u=n.stateNode,s=n.memoizedProps,u[jn]=n,(p=u.nodeValue!==s)&&(t=Zt,t!==null))switch(t.tag){case 3:La(u.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&La(u.nodeValue,s,(t.mode&1)!==0)}p&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[jn]=n,n.stateNode=u}return Nt(n),null;case 13:if(Ke(Je),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&en!==null&&(n.mode&1)!==0&&(n.flags&128)===0)kf(),fs(),n.flags|=98560,p=!1;else if(p=ba(n),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(r(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[jn]=n}else fs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Nt(n),p=!1}else An!==null&&(Tc(An),An=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Je.current&1)!==0?ft===0&&(ft=3):Ac())),n.updateQueue!==null&&(n.flags|=4),Nt(n),null);case 4:return gs(),hc(t,n),t===null&&go(n.stateNode.containerInfo),Nt(n),null;case 10:return Uu(n.type._context),Nt(n),null;case 17:return qt(n.type)&&Fa(),Nt(n),null;case 19:if(Ke(Je),p=n.memoizedState,p===null)return Nt(n),null;if(u=(n.flags&128)!==0,y=p.rendering,y===null)if(u)Po(p,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=Ka(t),y!==null){for(n.flags|=128,Po(p,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)p=s,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return We(Je,Je.current&1|2),n.child}t=t.sibling}p.tail!==null&&He()>Es&&(n.flags|=128,u=!0,Po(p,!1),n.lanes=4194304)}else{if(!u)if(t=Ka(y),t!==null){if(n.flags|=128,u=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Po(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ye)return Nt(n),null}else 2*He()-p.renderingStartTime>Es&&s!==1073741824&&(n.flags|=128,u=!0,Po(p,!1),n.lanes=4194304);p.isBackwards?(y.sibling=n.child,n.child=y):(s=p.last,s!==null?s.sibling=y:n.child=y,p.last=y)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=He(),n.sibling=null,s=Je.current,We(Je,u?s&1|2:s&1),n):(Nt(n),null);case 22:case 23:return Sc(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(tn&1073741824)!==0&&(Nt(n),n.subtreeFlags&6&&(n.flags|=8192)):Nt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function vy(t,n){switch(Du(n),n.tag){case 1:return qt(n.type)&&Fa(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return gs(),Ke($t),Ke(xt),Wu(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return qu(n),null;case 13:if(Ke(Je),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));fs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ke(Je),null;case 4:return gs(),null;case 10:return Uu(n.type._context),null;case 22:case 23:return Sc(),null;case 24:return null;default:return null}}var rl=!1,Dt=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,se=null;function _s(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){tt(t,n,u)}else s.current=null}function fc(t,n,s){try{s()}catch(u){tt(t,n,u)}}var Cd=!1;function wy(t,n){if(Su=Sr,t=sf(),gu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var y=0,T=-1,R=-1,j=0,W=0,Y=t,H=null;t:for(;;){for(var ne;Y!==s||h!==0&&Y.nodeType!==3||(T=y+h),Y!==p||u!==0&&Y.nodeType!==3||(R=y+u),Y.nodeType===3&&(y+=Y.nodeValue.length),(ne=Y.firstChild)!==null;)H=Y,Y=ne;for(;;){if(Y===t)break t;if(H===s&&++j===h&&(T=y),H===p&&++W===u&&(R=y),(ne=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=ne}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Au={focusedElem:t,selectionRange:s},Sr=!1,se=n;se!==null;)if(n=se,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,se=t;else for(;se!==null;){n=se;try{var oe=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ae=oe.memoizedProps,rt=oe.memoizedState,O=n.stateNode,P=O.getSnapshotBeforeUpdate(n.elementType===n.type?ae:Rn(n.type,ae),rt);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Z){tt(n,n.return,Z)}if(t=n.sibling,t!==null){t.return=n.return,se=t;break}se=n.return}return oe=Cd,Cd=!1,oe}function ko(t,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&fc(n,s,p)}h=h.next}while(h!==u)}}function il(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function dc(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function Pd(t){var n=t.alternate;n!==null&&(t.alternate=null,Pd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[jn],delete n[_o],delete n[ku],delete n[ry],delete n[iy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kd(t){return t.tag===5||t.tag===3||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pc(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Oa));else if(u!==4&&(t=t.child,t!==null))for(pc(t,n,s),t=t.sibling;t!==null;)pc(t,n,s),t=t.sibling}function mc(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(mc(t,n,s),t=t.sibling;t!==null;)mc(t,n,s),t=t.sibling}var St=null,Cn=!1;function Dr(t,n,s){for(s=s.child;s!==null;)Vd(t,n,s),s=s.sibling}function Vd(t,n,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ni,s)}catch{}switch(s.tag){case 5:Dt||_s(s,n);case 6:var u=St,h=Cn;St=null,Dr(t,n,s),St=u,Cn=h,St!==null&&(Cn?(t=St,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):St.removeChild(s.stateNode));break;case 18:St!==null&&(Cn?(t=St,s=s.stateNode,t.nodeType===8?Pu(t.parentNode,s):t.nodeType===1&&Pu(t,s),Tn(t)):Pu(St,s.stateNode));break;case 4:u=St,h=Cn,St=s.stateNode.containerInfo,Cn=!0,Dr(t,n,s),St=u,Cn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&fc(s,n,y),h=h.next}while(h!==u)}Dr(t,n,s);break;case 1:if(!Dt&&(_s(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(T){tt(s,n,T)}Dr(t,n,s);break;case 21:Dr(t,n,s);break;case 22:s.mode&1?(Dt=(u=Dt)||s.memoizedState!==null,Dr(t,n,s),Dt=u):Dr(t,n,s);break;default:Dr(t,n,s)}}function Nd(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Ey),n.forEach(function(u){var h=xy.bind(null,t,u);s.has(u)||(s.add(u),u.then(h,h))})}}function Pn(t,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var p=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 5:St=T.stateNode,Cn=!1;break e;case 3:St=T.stateNode.containerInfo,Cn=!0;break e;case 4:St=T.stateNode.containerInfo,Cn=!0;break e}T=T.return}if(St===null)throw Error(r(160));Vd(p,y,h),St=null,Cn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(j){tt(h,n,j)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Dd(n,t),n=n.sibling}function Dd(t,n){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(n,t),Bn(t),u&4){try{ko(3,t,t.return),il(3,t)}catch(ae){tt(t,t.return,ae)}try{ko(5,t,t.return)}catch(ae){tt(t,t.return,ae)}}break;case 1:Pn(n,t),Bn(t),u&512&&s!==null&&_s(s,s.return);break;case 5:if(Pn(n,t),Bn(t),u&512&&s!==null&&_s(s,s.return),t.flags&32){var h=t.stateNode;try{gr(h,"")}catch(ae){tt(t,t.return,ae)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=s!==null?s.memoizedProps:p,T=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Us(h,p),Ks(T,y);var j=Ks(T,p);for(y=0;y<R.length;y+=2){var W=R[y],Y=R[y+1];W==="style"?Hs(h,Y):W==="dangerouslySetInnerHTML"?$s(h,Y):W==="children"?gr(h,Y):J(h,W,Y,j)}switch(T){case"input":zs(h,p);break;case"textarea":Li(h,p);break;case"select":var H=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ne=p.value;ne!=null?Kn(h,!!p.multiple,ne,!1):H!==!!p.multiple&&(p.defaultValue!=null?Kn(h,!!p.multiple,p.defaultValue,!0):Kn(h,!!p.multiple,p.multiple?[]:"",!1))}h[_o]=p}catch(ae){tt(t,t.return,ae)}}break;case 6:if(Pn(n,t),Bn(t),u&4){if(t.stateNode===null)throw Error(r(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ae){tt(t,t.return,ae)}}break;case 3:if(Pn(n,t),Bn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Tn(n.containerInfo)}catch(ae){tt(t,t.return,ae)}break;case 4:Pn(n,t),Bn(t);break;case 13:Pn(n,t),Bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(_c=He())),u&4&&Nd(t);break;case 22:if(W=s!==null&&s.memoizedState!==null,t.mode&1?(Dt=(j=Dt)||W,Pn(n,t),Dt=j):Pn(n,t),Bn(t),u&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!W&&(t.mode&1)!==0)for(se=t,W=t.child;W!==null;){for(Y=se=W;se!==null;){switch(H=se,ne=H.child,H.tag){case 0:case 11:case 14:case 15:ko(4,H,H.return);break;case 1:_s(H,H.return);var oe=H.stateNode;if(typeof oe.componentWillUnmount=="function"){u=H,s=H.return;try{n=u,oe.props=n.memoizedProps,oe.state=n.memoizedState,oe.componentWillUnmount()}catch(ae){tt(u,s,ae)}}break;case 5:_s(H,H.return);break;case 22:if(H.memoizedState!==null){Md(Y);continue}}ne!==null?(ne.return=H,se=ne):Md(Y)}W=W.sibling}e:for(W=null,Y=t;;){if(Y.tag===5){if(W===null){W=Y;try{h=Y.stateNode,j?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=Y.stateNode,R=Y.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=qs("display",y))}catch(ae){tt(t,t.return,ae)}}}else if(Y.tag===6){if(W===null)try{Y.stateNode.nodeValue=j?"":Y.memoizedProps}catch(ae){tt(t,t.return,ae)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;W===Y&&(W=null),Y=Y.return}W===Y&&(W=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Pn(n,t),Bn(t),u&4&&Nd(t);break;case 21:break;default:Pn(n,t),Bn(t)}}function Bn(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(kd(s)){var u=s;break e}s=s.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var p=xd(t);mc(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,T=xd(t);pc(t,T,y);break;default:throw Error(r(161))}}catch(R){tt(t,t.return,R)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ty(t,n,s){se=t,Ld(t)}function Ld(t,n,s){for(var u=(t.mode&1)!==0;se!==null;){var h=se,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||rl;if(!y){var T=h.alternate,R=T!==null&&T.memoizedState!==null||Dt;T=rl;var j=Dt;if(rl=y,(Dt=R)&&!j)for(se=h;se!==null;)y=se,R=y.child,y.tag===22&&y.memoizedState!==null?Fd(h):R!==null?(R.return=y,se=R):Fd(h);for(;p!==null;)se=p,Ld(p),p=p.sibling;se=h,rl=T,Dt=j}Od(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,se=p):Od(t)}}function Od(t){for(;se!==null;){var n=se;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Dt||il(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!Dt)if(s===null)u.componentDidMount();else{var h=n.elementType===n.type?s.memoizedProps:Rn(n.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&Mf(n,p,u);break;case 3:var y=n.updateQueue;if(y!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Mf(n,y,s)}break;case 5:var T=n.stateNode;if(s===null&&n.flags&4){s=T;var R=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&s.focus();break;case"img":R.src&&(s.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var j=n.alternate;if(j!==null){var W=j.memoizedState;if(W!==null){var Y=W.dehydrated;Y!==null&&Tn(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Dt||n.flags&512&&dc(n)}catch(H){tt(n,n.return,H)}}if(n===t){se=null;break}if(s=n.sibling,s!==null){s.return=n.return,se=s;break}se=n.return}}function Md(t){for(;se!==null;){var n=se;if(n===t){se=null;break}var s=n.sibling;if(s!==null){s.return=n.return,se=s;break}se=n.return}}function Fd(t){for(;se!==null;){var n=se;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{il(4,n)}catch(R){tt(n,s,R)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(R){tt(n,h,R)}}var p=n.return;try{dc(n)}catch(R){tt(n,p,R)}break;case 5:var y=n.return;try{dc(n)}catch(R){tt(n,y,R)}}}catch(R){tt(n,n.return,R)}if(n===t){se=null;break}var T=n.sibling;if(T!==null){T.return=n.return,se=T;break}se=n.return}}var Iy=Math.ceil,sl=ce.ReactCurrentDispatcher,gc=ce.ReactCurrentOwner,fn=ce.ReactCurrentBatchConfig,De=0,vt=null,ot=null,At=0,tn=0,vs=Pr(0),ft=0,xo=null,gi=0,ol=0,yc=0,Vo=null,Wt=null,_c=0,Es=1/0,ur=null,al=!1,vc=null,Lr=null,ll=!1,Or=null,ul=0,No=0,Ec=null,cl=-1,hl=0;function zt(){return(De&6)!==0?He():cl!==-1?cl:cl=He()}function Mr(t){return(t.mode&1)===0?1:(De&2)!==0&&At!==0?At&-At:oy.transition!==null?(hl===0&&(hl=ii()),hl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:so(t.type)),t)}function kn(t,n,s,u){if(50<No)throw No=0,Ec=null,Error(r(185));Er(t,s,u),((De&2)===0||t!==vt)&&(t===vt&&((De&2)===0&&(ol|=s),ft===4&&Fr(t,At)),Qt(t,u),s===1&&De===0&&(n.mode&1)===0&&(Es=He()+500,Ua&&xr()))}function Qt(t,n){var s=t.callbackNode;Xn(t,n);var u=ri(t,t===vt?At:0);if(u===0)s!==null&&eo(s),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(s!=null&&eo(s),n===1)t.tag===0?sy(Ud.bind(null,t)):Sf(Ud.bind(null,t)),ty(function(){(De&6)===0&&xr()}),s=null;else{switch(Tr(u)){case 1:s=ti;break;case 4:s=yr;break;case 16:s=sn;break;case 536870912:s=ha;break;default:s=sn}s=Qd(s,jd.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function jd(t,n){if(cl=-1,hl=0,(De&6)!==0)throw Error(r(327));var s=t.callbackNode;if(ws()&&t.callbackNode!==s)return null;var u=ri(t,t===vt?At:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=fl(t,u);else{n=u;var h=De;De|=2;var p=Bd();(vt!==t||At!==n)&&(ur=null,Es=He()+500,_i(t,n));do try{Ry();break}catch(T){zd(t,T)}while(!0);ju(),sl.current=p,De=h,ot!==null?n=0:(vt=null,At=0,n=ft)}if(n!==0){if(n===2&&(h=Yt(t),h!==0&&(u=h,n=wc(t,h))),n===1)throw s=xo,_i(t,0),Fr(t,u),Qt(t,He()),s;if(n===6)Fr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!Sy(h)&&(n=fl(t,u),n===2&&(p=Yt(t),p!==0&&(u=p,n=wc(t,p))),n===1))throw s=xo,_i(t,0),Fr(t,u),Qt(t,He()),s;switch(t.finishedWork=h,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:vi(t,Wt,ur);break;case 3:if(Fr(t,u),(u&130023424)===u&&(n=_c+500-He(),10<n)){if(ri(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Cu(vi.bind(null,t,Wt,ur),n);break}vi(t,Wt,ur);break;case 4:if(Fr(t,u),(u&4194240)===u)break;for(n=t.eventTimes,h=-1;0<u;){var y=31-Ft(u);p=1<<y,y=n[y],y>h&&(h=y),u&=~p}if(u=h,u=He()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Iy(u/1960))-u,10<u){t.timeoutHandle=Cu(vi.bind(null,t,Wt,ur),u);break}vi(t,Wt,ur);break;case 5:vi(t,Wt,ur);break;default:throw Error(r(329))}}}return Qt(t,He()),t.callbackNode===s?jd.bind(null,t):null}function wc(t,n){var s=Vo;return t.current.memoizedState.isDehydrated&&(_i(t,n).flags|=256),t=fl(t,n),t!==2&&(n=Wt,Wt=s,n!==null&&Tc(n)),t}function Tc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function Sy(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],p=h.getSnapshot;h=h.value;try{if(!Sn(p(),h))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fr(t,n){for(n&=~yc,n&=~ol,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-Ft(n),u=1<<s;t[s]=-1,n&=~u}}function Ud(t){if((De&6)!==0)throw Error(r(327));ws();var n=ri(t,0);if((n&1)===0)return Qt(t,He()),null;var s=fl(t,n);if(t.tag!==0&&s===2){var u=Yt(t);u!==0&&(n=u,s=wc(t,u))}if(s===1)throw s=xo,_i(t,0),Fr(t,n),Qt(t,He()),s;if(s===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,vi(t,Wt,ur),Qt(t,He()),null}function Ic(t,n){var s=De;De|=1;try{return t(n)}finally{De=s,De===0&&(Es=He()+500,Ua&&xr())}}function yi(t){Or!==null&&Or.tag===0&&(De&6)===0&&ws();var n=De;De|=1;var s=fn.transition,u=Pe;try{if(fn.transition=null,Pe=1,t)return t()}finally{Pe=u,fn.transition=s,De=n,(De&6)===0&&xr()}}function Sc(){tn=vs.current,Ke(vs)}function _i(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,ey(s)),ot!==null)for(s=ot.return;s!==null;){var u=s;switch(Du(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Fa();break;case 3:gs(),Ke($t),Ke(xt),Wu();break;case 5:qu(u);break;case 4:gs();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:Uu(u.type._context);break;case 22:case 23:Sc()}s=s.return}if(vt=t,ot=t=jr(t.current,null),At=tn=n,ft=0,xo=null,yc=ol=gi=0,Wt=Vo=null,di!==null){for(n=0;n<di.length;n++)if(s=di[n],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,p=s.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}s.pending=u}di=null}return t}function zd(t,n){do{var s=ot;try{if(ju(),Ga.current=Za,Ya){for(var u=Ze.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ya=!1}if(mi=0,_t=ht=Ze=null,So=!1,Ao=0,gc.current=null,s===null||s.return===null){ft=1,xo=n,ot=null;break}e:{var p=t,y=s.return,T=s,R=n;if(n=At,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=R,W=T,Y=W.tag;if((W.mode&1)===0&&(Y===0||Y===11||Y===15)){var H=W.alternate;H?(W.updateQueue=H.updateQueue,W.memoizedState=H.memoizedState,W.lanes=H.lanes):(W.updateQueue=null,W.memoizedState=null)}var ne=hd(y);if(ne!==null){ne.flags&=-257,fd(ne,y,T,p,n),ne.mode&1&&cd(p,j,n),n=ne,R=j;var oe=n.updateQueue;if(oe===null){var ae=new Set;ae.add(R),n.updateQueue=ae}else oe.add(R);break e}else{if((n&1)===0){cd(p,j,n),Ac();break e}R=Error(r(426))}}else if(Ye&&T.mode&1){var rt=hd(y);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),fd(rt,y,T,p,n),Mu(ys(R,T));break e}}p=R=ys(R,T),ft!==4&&(ft=2),Vo===null?Vo=[p]:Vo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var O=ld(p,R,n);Of(p,O);break e;case 1:T=R;var P=p.type,M=p.stateNode;if((p.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Lr===null||!Lr.has(M)))){p.flags|=65536,n&=-n,p.lanes|=n;var Z=ud(p,T,n);Of(p,Z);break e}}p=p.return}while(p!==null)}$d(s)}catch(ue){n=ue,ot===s&&s!==null&&(ot=s=s.return);continue}break}while(!0)}function Bd(){var t=sl.current;return sl.current=Za,t===null?Za:t}function Ac(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||(gi&268435455)===0&&(ol&268435455)===0||Fr(vt,At)}function fl(t,n){var s=De;De|=2;var u=Bd();(vt!==t||At!==n)&&(ur=null,_i(t,n));do try{Ay();break}catch(h){zd(t,h)}while(!0);if(ju(),De=s,sl.current=u,ot!==null)throw Error(r(261));return vt=null,At=0,ft}function Ay(){for(;ot!==null;)bd(ot)}function Ry(){for(;ot!==null&&!ua();)bd(ot)}function bd(t){var n=Wd(t.alternate,t,tn);t.memoizedProps=t.pendingProps,n===null?$d(t):ot=n,gc.current=null}function $d(t){var n=t;do{var s=n.alternate;if(t=n.return,(n.flags&32768)===0){if(s=_y(s,n,tn),s!==null){ot=s;return}}else{if(s=vy(s,n),s!==null){s.flags&=32767,ot=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}if(n=n.sibling,n!==null){ot=n;return}ot=n=t}while(n!==null);ft===0&&(ft=5)}function vi(t,n,s){var u=Pe,h=fn.transition;try{fn.transition=null,Pe=1,Cy(t,n,s,u)}finally{fn.transition=h,Pe=u}return null}function Cy(t,n,s,u){do ws();while(Or!==null);if((De&6)!==0)throw Error(r(327));s=t.finishedWork;var h=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var p=s.lanes|s.childLanes;if($e(t,p),t===vt&&(ot=vt=null,At=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ll||(ll=!0,Qd(sn,function(){return ws(),null})),p=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||p){p=fn.transition,fn.transition=null;var y=Pe;Pe=1;var T=De;De|=4,gc.current=null,wy(t,s),Dd(s,t),Qg(Au),Sr=!!Su,Au=Su=null,t.current=s,Ty(s),lu(),De=T,Pe=y,fn.transition=p}else t.current=s;if(ll&&(ll=!1,Or=t,ul=h),p=t.pendingLanes,p===0&&(Lr=null),fa(s.stateNode),Qt(t,He()),n!==null)for(u=t.onRecoverableError,s=0;s<n.length;s++)h=n[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(al)throw al=!1,t=vc,vc=null,t;return(ul&1)!==0&&t.tag!==0&&ws(),p=t.pendingLanes,(p&1)!==0?t===Ec?No++:(No=0,Ec=t):No=0,xr(),null}function ws(){if(Or!==null){var t=Tr(ul),n=fn.transition,s=Pe;try{if(fn.transition=null,Pe=16>t?16:t,Or===null)var u=!1;else{if(t=Or,Or=null,ul=0,(De&6)!==0)throw Error(r(331));var h=De;for(De|=4,se=t.current;se!==null;){var p=se,y=p.child;if((se.flags&16)!==0){var T=p.deletions;if(T!==null){for(var R=0;R<T.length;R++){var j=T[R];for(se=j;se!==null;){var W=se;switch(W.tag){case 0:case 11:case 15:ko(8,W,p)}var Y=W.child;if(Y!==null)Y.return=W,se=Y;else for(;se!==null;){W=se;var H=W.sibling,ne=W.return;if(Pd(W),W===j){se=null;break}if(H!==null){H.return=ne,se=H;break}se=ne}}}var oe=p.alternate;if(oe!==null){var ae=oe.child;if(ae!==null){oe.child=null;do{var rt=ae.sibling;ae.sibling=null,ae=rt}while(ae!==null)}}se=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,se=y;else e:for(;se!==null;){if(p=se,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ko(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,se=O;break e}se=p.return}}var P=t.current;for(se=P;se!==null;){y=se;var M=y.child;if((y.subtreeFlags&2064)!==0&&M!==null)M.return=y,se=M;else e:for(y=P;se!==null;){if(T=se,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:il(9,T)}}catch(ue){tt(T,T.return,ue)}if(T===y){se=null;break e}var Z=T.sibling;if(Z!==null){Z.return=T.return,se=Z;break e}se=T.return}}if(De=h,xr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ni,t)}catch{}u=!0}return u}finally{Pe=s,fn.transition=n}}return!1}function qd(t,n,s){n=ys(s,n),n=ld(t,n,1),t=Nr(t,n,1),n=zt(),t!==null&&(Er(t,1,n),Qt(t,n))}function tt(t,n,s){if(t.tag===3)qd(t,t,s);else for(;n!==null;){if(n.tag===3){qd(n,t,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Lr===null||!Lr.has(u))){t=ys(s,t),t=ud(n,t,1),n=Nr(n,t,1),t=zt(),n!==null&&(Er(n,1,t),Qt(n,t));break}}n=n.return}}function Py(t,n,s){var u=t.pingCache;u!==null&&u.delete(n),n=zt(),t.pingedLanes|=t.suspendedLanes&s,vt===t&&(At&s)===s&&(ft===4||ft===3&&(At&130023424)===At&&500>He()-_c?_i(t,0):yc|=s),Qt(t,n)}function Hd(t,n){n===0&&((t.mode&1)===0?n=1:(n=qi,qi<<=1,(qi&130023424)===0&&(qi=4194304)));var s=zt();t=or(t,n),t!==null&&(Er(t,n,s),Qt(t,s))}function ky(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Hd(t,s)}function xy(t,n){var s=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Hd(t,s)}var Wd;Wd=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||$t.current)Ht=!0;else{if((t.lanes&s)===0&&(n.flags&128)===0)return Ht=!1,yy(t,n,s);Ht=(t.flags&131072)!==0}else Ht=!1,Ye&&(n.flags&1048576)!==0&&Af(n,Ba,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;nl(t,n),t=n.pendingProps;var h=us(n,xt.current);ms(n,s),h=Gu(null,n,u,t,h,s);var p=Yu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,qt(u)?(p=!0,ja(n)):p=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,bu(n),h.updater=el,n.stateNode=h,h._reactInternals=n,nc(n,u,t,s),n=oc(null,n,u,!0,p,s)):(n.tag=0,Ye&&p&&Nu(n),Ut(null,n,h,s),n=n.child),n;case 16:u=n.elementType;e:{switch(nl(t,n),t=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Ny(u),t=Rn(u,t),h){case 0:n=sc(null,n,u,t,s);break e;case 1:n=_d(null,n,u,t,s);break e;case 11:n=dd(null,n,u,t,s);break e;case 14:n=pd(null,n,u,Rn(u.type,t),s);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),sc(t,n,u,h,s);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),_d(t,n,u,h,s);case 3:e:{if(vd(n),t===null)throw Error(r(387));u=n.pendingProps,p=n.memoizedState,h=p.element,Lf(t,n),Qa(n,u,null,s);var y=n.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){h=ys(Error(r(423)),n),n=Ed(t,n,u,s,h);break e}else if(u!==h){h=ys(Error(r(424)),n),n=Ed(t,n,u,s,h);break e}else for(en=Cr(n.stateNode.containerInfo.firstChild),Zt=n,Ye=!0,An=null,s=Nf(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(fs(),u===h){n=lr(t,n,s);break e}Ut(t,n,u,s)}n=n.child}return n;case 5:return Ff(n),t===null&&Ou(n),u=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,Ru(u,h)?y=null:p!==null&&Ru(u,p)&&(n.flags|=32),yd(t,n),Ut(t,n,y,s),n.child;case 6:return t===null&&Ou(n),null;case 13:return wd(t,n,s);case 4:return $u(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=ds(n,null,u,s):Ut(t,n,u,s),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),dd(t,n,u,h,s);case 7:return Ut(t,n,n.pendingProps,s),n.child;case 8:return Ut(t,n,n.pendingProps.children,s),n.child;case 12:return Ut(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,p=n.memoizedProps,y=h.value,We(qa,u._currentValue),u._currentValue=y,p!==null)if(Sn(p.value,y)){if(p.children===h.children&&!$t.current){n=lr(t,n,s);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var T=p.dependencies;if(T!==null){y=p.child;for(var R=T.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=ar(-1,s&-s),R.tag=2;var j=p.updateQueue;if(j!==null){j=j.shared;var W=j.pending;W===null?R.next=R:(R.next=W.next,W.next=R),j.pending=R}}p.lanes|=s,R=p.alternate,R!==null&&(R.lanes|=s),zu(p.return,s,n),T.lanes|=s;break}R=R.next}}else if(p.tag===10)y=p.type===n.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(r(341));y.lanes|=s,T=y.alternate,T!==null&&(T.lanes|=s),zu(y,s,n),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===n){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Ut(t,n,h.children,s),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,ms(n,s),h=cn(h),u=u(h),n.flags|=1,Ut(t,n,u,s),n.child;case 14:return u=n.type,h=Rn(u,n.pendingProps),h=Rn(u.type,h),pd(t,n,u,h,s);case 15:return md(t,n,n.type,n.pendingProps,s);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),nl(t,n),n.tag=1,qt(u)?(t=!0,ja(n)):t=!1,ms(n,s),od(n,u,h),nc(n,u,h,s),oc(null,n,u,!0,t,s);case 19:return Id(t,n,s);case 22:return gd(t,n,s)}throw Error(r(156,n.tag))};function Qd(t,n){return bi(t,n)}function Vy(t,n,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,s,u){return new Vy(t,n,s,u)}function Rc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ny(t){if(typeof t=="function")return Rc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===D)return 11;if(t===ze)return 14}return 2}function jr(t,n){var s=t.alternate;return s===null?(s=dn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function dl(t,n,s,u,h,p){var y=2;if(u=t,typeof t=="function")Rc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case x:return Ei(s.children,h,p,n);case w:y=8,h|=8;break;case A:return t=dn(12,s,n,h|2),t.elementType=A,t.lanes=p,t;case I:return t=dn(13,s,n,h),t.elementType=I,t.lanes=p,t;case Ee:return t=dn(19,s,n,h),t.elementType=Ee,t.lanes=p,t;case fe:return pl(s,h,p,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:y=10;break e;case V:y=9;break e;case D:y=11;break e;case ze:y=14;break e;case Ne:y=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=dn(y,s,n,h),n.elementType=t,n.type=u,n.lanes=p,n}function Ei(t,n,s,u){return t=dn(7,t,u,n),t.lanes=s,t}function pl(t,n,s,u){return t=dn(22,t,u,n),t.elementType=fe,t.lanes=s,t.stateNode={isHidden:!1},t}function Cc(t,n,s){return t=dn(6,t,null,n),t.lanes=s,t}function Pc(t,n,s){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Dy(t,n,s,u,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vr(0),this.expirationTimes=vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function kc(t,n,s,u,h,p,y,T,R){return t=new Dy(t,n,s,T,R),n===1?(n=1,p===!0&&(n|=8)):n=0,p=dn(3,null,null,n),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},bu(p),t}function Ly(t,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:u==null?null:""+u,children:t,containerInfo:n,implementation:s}}function Kd(t){if(!t)return kr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(qt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var s=t.type;if(qt(s))return Tf(t,s,n)}return n}function Gd(t,n,s,u,h,p,y,T,R){return t=kc(s,u,!0,t,h,p,y,T,R),t.context=Kd(null),s=t.current,u=zt(),h=Mr(s),p=ar(u,h),p.callback=n??null,Nr(s,p,h),t.current.lanes=h,Er(t,h,u),Qt(t,u),t}function ml(t,n,s,u){var h=n.current,p=zt(),y=Mr(h);return s=Kd(s),n.context===null?n.context=s:n.pendingContext=s,n=ar(p,y),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=Nr(h,n,y),t!==null&&(kn(t,h,y,p),Wa(t,h,y)),y}function gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yd(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function xc(t,n){Yd(t,n),(t=t.alternate)&&Yd(t,n)}function Oy(){return null}var Xd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vc(t){this._internalRoot=t}yl.prototype.render=Vc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));ml(t,n,null,null)},yl.prototype.unmount=Vc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;yi(function(){ml(null,t,null,null)}),n[nr]=null}};function yl(t){this._internalRoot=t}yl.prototype.unstable_scheduleHydration=function(t){if(t){var n=ya();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ln.length&&n!==0&&n<Ln[s].priority;s++);Ln.splice(s,0,t),s===0&&Ea(t)}};function Nc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jd(){}function My(t,n,s,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var j=gl(y);p.call(j)}}var y=Gd(n,u,t,0,null,!1,!1,"",Jd);return t._reactRootContainer=y,t[nr]=y.current,go(t.nodeType===8?t.parentNode:t),yi(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var j=gl(R);T.call(j)}}var R=kc(t,0,!1,null,null,!1,!1,"",Jd);return t._reactRootContainer=R,t[nr]=R.current,go(t.nodeType===8?t.parentNode:t),yi(function(){ml(n,R,s,u)}),R}function vl(t,n,s,u,h){var p=s._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var T=h;h=function(){var R=gl(y);T.call(R)}}ml(n,y,t,h)}else y=My(s,n,t,h,u);return gl(y)}ma=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=_r(n.pendingLanes);s!==0&&(wr(n,s|1),Qt(n,He()),(De&6)===0&&(Es=He()+500,xr()))}break;case 13:yi(function(){var u=or(t,1);if(u!==null){var h=zt();kn(u,t,1,h)}}),xc(t,1)}},Hi=function(t){if(t.tag===13){var n=or(t,134217728);if(n!==null){var s=zt();kn(n,t,134217728,s)}xc(t,134217728)}},ga=function(t){if(t.tag===13){var n=Mr(t),s=or(t,n);if(s!==null){var u=zt();kn(s,t,n,u)}xc(t,n)}},ya=function(){return Pe},_a=function(t,n){var s=Pe;try{return Pe=t,n()}finally{Pe=s}},Mi=function(t,n,s){switch(n){case"input":if(zs(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==t&&u.form===t.form){var h=Ma(u);if(!h)throw Error(r(90));xi(u),zs(u,h)}}}break;case"textarea":Li(t,s);break;case"select":n=s.value,n!=null&&Kn(t,!!s.multiple,n,!1)}},Xr=Ic,Ys=yi;var Fy={usingClientEntryPoint:!1,Events:[vo,as,Ma,Nn,Gs,Ic]},Do={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jy={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zs(t),t===null?null:t.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||Oy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{ni=El.inject(jy),Gt=El}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fy,Kt.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nc(n))throw Error(r(200));return Ly(t,n,null,s)},Kt.createRoot=function(t,n){if(!Nc(t))throw Error(r(299));var s=!1,u="",h=Xd;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=kc(t,1,!1,null,null,s,!1,u,h),t[nr]=n.current,go(t.nodeType===8?t.parentNode:t),new Vc(n)},Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Zs(n),t=t===null?null:t.stateNode,t},Kt.flushSync=function(t){return yi(t)},Kt.hydrate=function(t,n,s){if(!_l(n))throw Error(r(200));return vl(null,t,n,!0,s)},Kt.hydrateRoot=function(t,n,s){if(!Nc(t))throw Error(r(405));var u=s!=null&&s.hydratedSources||null,h=!1,p="",y=Xd;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),n=Gd(n,null,t,1,s??null,h,!1,p,y),t[nr]=n.current,go(t),u)for(t=0;t<u.length;t++)s=u[t],h=s._getVersion,h=h(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,h]:n.mutableSourceEagerHydrationData.push(s,h);return new yl(n)},Kt.render=function(t,n,s){if(!_l(n))throw Error(r(200));return vl(null,t,n,!1,s)},Kt.unmountComponentAtNode=function(t){if(!_l(t))throw Error(r(40));return t._reactRootContainer?(yi(function(){vl(null,null,t,!1,function(){t._reactRootContainer=null,t[nr]=null})}),!0):!1},Kt.unstable_batchedUpdates=Ic,Kt.unstable_renderSubtreeIntoContainer=function(t,n,s,u){if(!_l(s))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return vl(t,n,s,!1,u)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var op;function Qy(){if(op)return Oc.exports;op=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Oc.exports=Wy(),Oc.exports}var ap;function Ky(){if(ap)return wl;ap=1;var i=Qy();return wl.createRoot=i.createRoot,wl.hydrateRoot=i.hydrateRoot,wl}var Gy=Ky();const Yy=nm(Gy);var lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=function(i){const e=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},Xy=function(i){const e=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],f=i[r++],m=i[r++],_=((l&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[o++]=String.fromCharCode(55296+(_>>10)),e[o++]=String.fromCharCode(56320+(_&1023))}else{const c=i[r++],f=i[r++];e[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const c=i[l],f=l+1<i.length,m=f?i[l+1]:0,_=l+2<i.length,E=_?i[l+2]:0,S=c>>2,N=(c&3)<<4|m>>4;let F=(m&15)<<2|E>>6,B=E&63;_||(B=64,f||(F=64)),o.push(r[S],r[N],r[F],r[B])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(rm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Xy(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],m=l<i.length?r[i.charAt(l)]:0;++l;const E=l<i.length?r[i.charAt(l)]:64;++l;const N=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||m==null||E==null||N==null)throw new Jy;const F=c<<2|m>>4;if(o.push(F),E!==64){const B=m<<4&240|E>>2;if(o.push(B),N!==64){const q=E<<6&192|N;o.push(q)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Jy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zy=function(i){const e=rm(i);return im.encodeByteArray(e,!0)},Ml=function(i){return Zy(i).replace(/\./g,"")},e_=function(i){try{return im.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=()=>t_().__FIREBASE_DEFAULTS__,r_=()=>{if(typeof process>"u"||typeof lp>"u")return;const i=lp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},i_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&e_(i[1]);return e&&JSON.parse(e)},mh=()=>{try{return n_()||r_()||i_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},s_=i=>{var e,r;return(r=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},o_=i=>{const e=s_(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},sm=()=>{var i;return(i=mh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ml(JSON.stringify(r)),Ml(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c_(){var i;const e=(i=mh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h_(){return!c_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f_(){try{return typeof indexedDB=="object"}catch{return!1}}function d_(){return new Promise((i,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="FirebaseError";class Ls extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=p_,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,om.prototype.create)}}class om{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?m_(c,o):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Ls(l,m,o)}}function m_(i,e){return i.replace(g_,(r,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const g_=/\{\$([^}]+)}/g;function Kc(i,e){if(i===e)return!0;const r=Object.keys(i),o=Object.keys(e);for(const l of r){if(!o.includes(l))return!1;const c=i[l],f=e[l];if(up(c)&&up(f)){if(!Kc(c,f))return!1}else if(c!==f)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function up(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(i){return i&&i._delegate?i._delegate:i}class Wo{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new a_;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v_(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);o===m&&f.resolve(l)}return l}onInit(e,r){var o;const l=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&e(f,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:__(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function __(i){return i===wi?void 0:i}function v_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new y_(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const w_={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},T_=Le.INFO,I_={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},S_=(i,e,...r)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),l=I_[e];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class am{constructor(e){this.name=e,this._logLevel=T_,this._logHandler=S_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const A_=(i,e)=>e.some(r=>i instanceof r);let cp,hp;function R_(){return cp||(cp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C_(){return hp||(hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lm=new WeakMap,Gc=new WeakMap,um=new WeakMap,jc=new WeakMap,gh=new WeakMap;function P_(i){const e=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(Br(i.result)),l()},f=()=>{o(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&lm.set(r,i)}).catch(()=>{}),gh.set(e,i),e}function k_(i){if(Gc.has(i))return;const e=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),l()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Gc.set(i,e)}let Yc={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Gc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||um.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Br(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function x_(i){Yc=i(Yc)}function V_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=i.call(Uc(this),e,...r);return um.set(o,e.sort?e.sort():[e]),Br(o)}:C_().includes(i)?function(...e){return i.apply(Uc(this),e),Br(lm.get(this))}:function(...e){return Br(i.apply(Uc(this),e))}}function N_(i){return typeof i=="function"?V_(i):(i instanceof IDBTransaction&&k_(i),A_(i,R_())?new Proxy(i,Yc):i)}function Br(i){if(i instanceof IDBRequest)return P_(i);if(jc.has(i))return jc.get(i);const e=N_(i);return e!==i&&(jc.set(i,e),gh.set(e,i)),e}const Uc=i=>gh.get(i);function D_(i,e,{blocked:r,upgrade:o,blocking:l,terminated:c}={}){const f=indexedDB.open(i,e),m=Br(f);return o&&f.addEventListener("upgradeneeded",_=>{o(Br(f.result),_.oldVersion,_.newVersion,Br(f.transaction),_)}),r&&f.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),m.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),m}const L_=["get","getKey","getAll","getAllKeys","count"],O_=["put","add","delete","clear"],zc=new Map;function fp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(zc.get(e))return zc.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,l=O_.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||L_.includes(r)))return;const c=async function(f,...m){const _=this.transaction(f,l?"readwrite":"readonly");let E=_.store;return o&&(E=E.index(m.shift())),(await Promise.all([E[r](...m),l&&_.done]))[0]};return zc.set(e,c),c}x_(i=>({...i,get:(e,r,o)=>fp(e,r)||i.get(e,r,o),has:(e,r)=>!!fp(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(F_(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function F_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xc="@firebase/app",dp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new am("@firebase/app"),j_="@firebase/app-compat",U_="@firebase/analytics-compat",z_="@firebase/analytics",B_="@firebase/app-check-compat",b_="@firebase/app-check",$_="@firebase/auth",q_="@firebase/auth-compat",H_="@firebase/database",W_="@firebase/data-connect",Q_="@firebase/database-compat",K_="@firebase/functions",G_="@firebase/functions-compat",Y_="@firebase/installations",X_="@firebase/installations-compat",J_="@firebase/messaging",Z_="@firebase/messaging-compat",ev="@firebase/performance",tv="@firebase/performance-compat",nv="@firebase/remote-config",rv="@firebase/remote-config-compat",iv="@firebase/storage",sv="@firebase/storage-compat",ov="@firebase/firestore",av="@firebase/vertexai-preview",lv="@firebase/firestore-compat",uv="firebase",cv="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="[DEFAULT]",hv={[Xc]:"fire-core",[j_]:"fire-core-compat",[z_]:"fire-analytics",[U_]:"fire-analytics-compat",[b_]:"fire-app-check",[B_]:"fire-app-check-compat",[$_]:"fire-auth",[q_]:"fire-auth-compat",[H_]:"fire-rtdb",[W_]:"fire-data-connect",[Q_]:"fire-rtdb-compat",[K_]:"fire-fn",[G_]:"fire-fn-compat",[Y_]:"fire-iid",[X_]:"fire-iid-compat",[J_]:"fire-fcm",[Z_]:"fire-fcm-compat",[ev]:"fire-perf",[tv]:"fire-perf-compat",[nv]:"fire-rc",[rv]:"fire-rc-compat",[iv]:"fire-gcs",[sv]:"fire-gcs-compat",[ov]:"fire-fst",[lv]:"fire-fst-compat",[av]:"fire-vertex","fire-js":"fire-js",[uv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,fv=new Map,Zc=new Map;function pp(i,e){try{i.container.addComponent(e)}catch(r){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function jl(i){const e=i.name;if(Zc.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Zc.set(e,i);for(const r of Fl.values())pp(r,i);for(const r of fv.values())pp(r,i);return!0}function dv(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new om("app","Firebase",pv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=cv;function cm(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Jc,automaticDataCollectionEnabled:!1},e),l=o.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(r||(r=sm()),!r)throw br.create("no-options");const c=Fl.get(l);if(c){if(Kc(r,c.options)&&Kc(o,c.config))return c;throw br.create("duplicate-app",{appName:l})}const f=new E_(l);for(const _ of Zc.values())f.addComponent(_);const m=new mv(r,o,f);return Fl.set(l,m),m}function yv(i=Jc){const e=Fl.get(i);if(!e&&i===Jc&&sm())return cm();if(!e)throw br.create("no-app",{appName:i});return e}function As(i,e,r){var o;let l=(o=hv[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const c=l.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${l}" with version "${e}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(m.join(" "));return}jl(new Wo(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="firebase-heartbeat-database",vv=1,Qo="firebase-heartbeat-store";let Bc=null;function hm(){return Bc||(Bc=D_(_v,vv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Qo)}catch(r){console.warn(r)}}}}).catch(i=>{throw br.create("idb-open",{originalErrorMessage:i.message})})),Bc}async function Ev(i){try{const r=(await hm()).transaction(Qo),o=await r.objectStore(Qo).get(fm(i));return await r.done,o}catch(e){if(e instanceof Ls)fr.warn(e.message);else{const r=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(r.message)}}}async function mp(i,e){try{const o=(await hm()).transaction(Qo,"readwrite");await o.objectStore(Qo).put(e,fm(i)),await o.done}catch(r){if(r instanceof Ls)fr.warn(r.message);else{const o=br.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});fr.warn(o.message)}}}function fm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=1024,Tv=30*24*60*60*1e3;class Iv{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Av(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=gp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=Tv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){fr.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=gp(),{heartbeatsToSend:o,unsentEntries:l}=Sv(this._heartbeatsCache.heartbeats),c=Ml(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return fr.warn(r),""}}}function gp(){return new Date().toISOString().substring(0,10)}function Sv(i,e=wv){const r=[];let o=i.slice();for(const l of i){const c=r.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),yp(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),yp(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Av{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f_()?d_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ev(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return mp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return mp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function yp(i){return Ml(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(i){jl(new Wo("platform-logger",e=>new M_(e),"PRIVATE")),jl(new Wo("heartbeat",e=>new Iv(e),"PRIVATE")),As(Xc,dp,i),As(Xc,dp,"esm2017"),As("fire-js","")}Rv("");var _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,dm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function A(){}A.prototype=w.prototype,x.D=w.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(C,V,D){for(var I=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)I[Ee-2]=arguments[Ee];return w.prototype[V].apply(C,I)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,A){A||(A=0);var C=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)C[V]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(V=0;16>V;++V)C[V]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=x.g[0],A=x.g[1],V=x.g[2];var D=x.g[3],I=w+(D^A&(V^D))+C[0]+3614090360&4294967295;w=A+(I<<7&4294967295|I>>>25),I=D+(V^w&(A^V))+C[1]+3905402710&4294967295,D=w+(I<<12&4294967295|I>>>20),I=V+(A^D&(w^A))+C[2]+606105819&4294967295,V=D+(I<<17&4294967295|I>>>15),I=A+(w^V&(D^w))+C[3]+3250441966&4294967295,A=V+(I<<22&4294967295|I>>>10),I=w+(D^A&(V^D))+C[4]+4118548399&4294967295,w=A+(I<<7&4294967295|I>>>25),I=D+(V^w&(A^V))+C[5]+1200080426&4294967295,D=w+(I<<12&4294967295|I>>>20),I=V+(A^D&(w^A))+C[6]+2821735955&4294967295,V=D+(I<<17&4294967295|I>>>15),I=A+(w^V&(D^w))+C[7]+4249261313&4294967295,A=V+(I<<22&4294967295|I>>>10),I=w+(D^A&(V^D))+C[8]+1770035416&4294967295,w=A+(I<<7&4294967295|I>>>25),I=D+(V^w&(A^V))+C[9]+2336552879&4294967295,D=w+(I<<12&4294967295|I>>>20),I=V+(A^D&(w^A))+C[10]+4294925233&4294967295,V=D+(I<<17&4294967295|I>>>15),I=A+(w^V&(D^w))+C[11]+2304563134&4294967295,A=V+(I<<22&4294967295|I>>>10),I=w+(D^A&(V^D))+C[12]+1804603682&4294967295,w=A+(I<<7&4294967295|I>>>25),I=D+(V^w&(A^V))+C[13]+4254626195&4294967295,D=w+(I<<12&4294967295|I>>>20),I=V+(A^D&(w^A))+C[14]+2792965006&4294967295,V=D+(I<<17&4294967295|I>>>15),I=A+(w^V&(D^w))+C[15]+1236535329&4294967295,A=V+(I<<22&4294967295|I>>>10),I=w+(V^D&(A^V))+C[1]+4129170786&4294967295,w=A+(I<<5&4294967295|I>>>27),I=D+(A^V&(w^A))+C[6]+3225465664&4294967295,D=w+(I<<9&4294967295|I>>>23),I=V+(w^A&(D^w))+C[11]+643717713&4294967295,V=D+(I<<14&4294967295|I>>>18),I=A+(D^w&(V^D))+C[0]+3921069994&4294967295,A=V+(I<<20&4294967295|I>>>12),I=w+(V^D&(A^V))+C[5]+3593408605&4294967295,w=A+(I<<5&4294967295|I>>>27),I=D+(A^V&(w^A))+C[10]+38016083&4294967295,D=w+(I<<9&4294967295|I>>>23),I=V+(w^A&(D^w))+C[15]+3634488961&4294967295,V=D+(I<<14&4294967295|I>>>18),I=A+(D^w&(V^D))+C[4]+3889429448&4294967295,A=V+(I<<20&4294967295|I>>>12),I=w+(V^D&(A^V))+C[9]+568446438&4294967295,w=A+(I<<5&4294967295|I>>>27),I=D+(A^V&(w^A))+C[14]+3275163606&4294967295,D=w+(I<<9&4294967295|I>>>23),I=V+(w^A&(D^w))+C[3]+4107603335&4294967295,V=D+(I<<14&4294967295|I>>>18),I=A+(D^w&(V^D))+C[8]+1163531501&4294967295,A=V+(I<<20&4294967295|I>>>12),I=w+(V^D&(A^V))+C[13]+2850285829&4294967295,w=A+(I<<5&4294967295|I>>>27),I=D+(A^V&(w^A))+C[2]+4243563512&4294967295,D=w+(I<<9&4294967295|I>>>23),I=V+(w^A&(D^w))+C[7]+1735328473&4294967295,V=D+(I<<14&4294967295|I>>>18),I=A+(D^w&(V^D))+C[12]+2368359562&4294967295,A=V+(I<<20&4294967295|I>>>12),I=w+(A^V^D)+C[5]+4294588738&4294967295,w=A+(I<<4&4294967295|I>>>28),I=D+(w^A^V)+C[8]+2272392833&4294967295,D=w+(I<<11&4294967295|I>>>21),I=V+(D^w^A)+C[11]+1839030562&4294967295,V=D+(I<<16&4294967295|I>>>16),I=A+(V^D^w)+C[14]+4259657740&4294967295,A=V+(I<<23&4294967295|I>>>9),I=w+(A^V^D)+C[1]+2763975236&4294967295,w=A+(I<<4&4294967295|I>>>28),I=D+(w^A^V)+C[4]+1272893353&4294967295,D=w+(I<<11&4294967295|I>>>21),I=V+(D^w^A)+C[7]+4139469664&4294967295,V=D+(I<<16&4294967295|I>>>16),I=A+(V^D^w)+C[10]+3200236656&4294967295,A=V+(I<<23&4294967295|I>>>9),I=w+(A^V^D)+C[13]+681279174&4294967295,w=A+(I<<4&4294967295|I>>>28),I=D+(w^A^V)+C[0]+3936430074&4294967295,D=w+(I<<11&4294967295|I>>>21),I=V+(D^w^A)+C[3]+3572445317&4294967295,V=D+(I<<16&4294967295|I>>>16),I=A+(V^D^w)+C[6]+76029189&4294967295,A=V+(I<<23&4294967295|I>>>9),I=w+(A^V^D)+C[9]+3654602809&4294967295,w=A+(I<<4&4294967295|I>>>28),I=D+(w^A^V)+C[12]+3873151461&4294967295,D=w+(I<<11&4294967295|I>>>21),I=V+(D^w^A)+C[15]+530742520&4294967295,V=D+(I<<16&4294967295|I>>>16),I=A+(V^D^w)+C[2]+3299628645&4294967295,A=V+(I<<23&4294967295|I>>>9),I=w+(V^(A|~D))+C[0]+4096336452&4294967295,w=A+(I<<6&4294967295|I>>>26),I=D+(A^(w|~V))+C[7]+1126891415&4294967295,D=w+(I<<10&4294967295|I>>>22),I=V+(w^(D|~A))+C[14]+2878612391&4294967295,V=D+(I<<15&4294967295|I>>>17),I=A+(D^(V|~w))+C[5]+4237533241&4294967295,A=V+(I<<21&4294967295|I>>>11),I=w+(V^(A|~D))+C[12]+1700485571&4294967295,w=A+(I<<6&4294967295|I>>>26),I=D+(A^(w|~V))+C[3]+2399980690&4294967295,D=w+(I<<10&4294967295|I>>>22),I=V+(w^(D|~A))+C[10]+4293915773&4294967295,V=D+(I<<15&4294967295|I>>>17),I=A+(D^(V|~w))+C[1]+2240044497&4294967295,A=V+(I<<21&4294967295|I>>>11),I=w+(V^(A|~D))+C[8]+1873313359&4294967295,w=A+(I<<6&4294967295|I>>>26),I=D+(A^(w|~V))+C[15]+4264355552&4294967295,D=w+(I<<10&4294967295|I>>>22),I=V+(w^(D|~A))+C[6]+2734768916&4294967295,V=D+(I<<15&4294967295|I>>>17),I=A+(D^(V|~w))+C[13]+1309151649&4294967295,A=V+(I<<21&4294967295|I>>>11),I=w+(V^(A|~D))+C[4]+4149444226&4294967295,w=A+(I<<6&4294967295|I>>>26),I=D+(A^(w|~V))+C[11]+3174756917&4294967295,D=w+(I<<10&4294967295|I>>>22),I=V+(w^(D|~A))+C[2]+718787259&4294967295,V=D+(I<<15&4294967295|I>>>17),I=A+(D^(V|~w))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+D&4294967295}o.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var A=w-this.blockSize,C=this.B,V=this.h,D=0;D<w;){if(V==0)for(;D<=A;)l(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<w;)if(C[V++]=x.charCodeAt(D++),V==this.blockSize){l(this,C),V=0;break}}else for(;D<w;)if(C[V++]=x[D++],V==this.blockSize){l(this,C),V=0;break}}this.h=V,this.o+=w},o.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var A=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=A&255,A/=256;for(this.u(x),x=Array(16),w=A=0;4>w;++w)for(var C=0;32>C;C+=8)x[A++]=this.g[w]>>>C&255;return x};function c(x,w){var A=m;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=w(x)}function f(x,w){this.h=w;for(var A=[],C=!0,V=x.length-1;0<=V;V--){var D=x[V]|0;C&&D==w||(A[V]=D,C=!1)}this.g=A}var m={};function _(x){return-128<=x&&128>x?c(x,function(w){return new f([w|0],0>w?-1:0)}):new f([x|0],0>x?-1:0)}function E(x){if(isNaN(x)||!isFinite(x))return N;if(0>x)return $(E(-x));for(var w=[],A=1,C=0;x>=A;C++)w[C]=x/A|0,A*=4294967296;return new f(w,0)}function S(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return $(S(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(w,8)),C=N,V=0;V<x.length;V+=8){var D=Math.min(8,x.length-V),I=parseInt(x.substring(V,V+D),w);8>D?(D=E(Math.pow(w,D)),C=C.j(D).add(E(I))):(C=C.j(A),C=C.add(E(I)))}return C}var N=_(0),F=_(1),B=_(16777216);i=f.prototype,i.m=function(){if(X(this))return-$(this).m();for(var x=0,w=1,A=0;A<this.g.length;A++){var C=this.i(A);x+=(0<=C?C:4294967296+C)*w,w*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(q(this))return"0";if(X(this))return"-"+$(this).toString(x);for(var w=E(Math.pow(x,6)),A=this,C="";;){var V=ce(A,w).g;A=ge(A,V.j(w));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=V,q(A))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function q(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function X(x){return x.h==-1}i.l=function(x){return x=ge(this,x),X(x)?-1:q(x)?0:1};function $(x){for(var w=x.g.length,A=[],C=0;C<w;C++)A[C]=~x.g[C];return new f(A,~x.h).add(F)}i.abs=function(){return X(this)?$(this):this},i.add=function(x){for(var w=Math.max(this.g.length,x.g.length),A=[],C=0,V=0;V<=w;V++){var D=C+(this.i(V)&65535)+(x.i(V)&65535),I=(D>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);C=I>>>16,D&=65535,I&=65535,A[V]=I<<16|D}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ge(x,w){return x.add($(w))}i.j=function(x){if(q(this)||q(x))return N;if(X(this))return X(x)?$(this).j($(x)):$($(this).j(x));if(X(x))return $(this.j($(x)));if(0>this.l(B)&&0>x.l(B))return E(this.m()*x.m());for(var w=this.g.length+x.g.length,A=[],C=0;C<2*w;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<x.g.length;V++){var D=this.i(C)>>>16,I=this.i(C)&65535,Ee=x.i(V)>>>16,ze=x.i(V)&65535;A[2*C+2*V]+=I*ze,ye(A,2*C+2*V),A[2*C+2*V+1]+=D*ze,ye(A,2*C+2*V+1),A[2*C+2*V+1]+=I*Ee,ye(A,2*C+2*V+1),A[2*C+2*V+2]+=D*Ee,ye(A,2*C+2*V+2)}for(C=0;C<w;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=w;C<2*w;C++)A[C]=0;return new f(A,0)};function ye(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function J(x,w){this.g=x,this.h=w}function ce(x,w){if(q(w))throw Error("division by zero");if(q(x))return new J(N,N);if(X(x))return w=ce($(x),w),new J($(w.g),$(w.h));if(X(w))return w=ce(x,$(w)),new J($(w.g),w.h);if(30<x.g.length){if(X(x)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var A=F,C=w;0>=C.l(x);)A=Fe(A),C=Fe(C);var V=Ie(A,1),D=Ie(C,1);for(C=Ie(C,2),A=Ie(A,2);!q(C);){var I=D.add(C);0>=I.l(x)&&(V=V.add(A),D=I),C=Ie(C,1),A=Ie(A,1)}return w=ge(x,V.j(w)),new J(V,w)}for(V=N;0<=x.l(w);){for(A=Math.max(1,Math.floor(x.m()/w.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=E(A),I=D.j(w);X(I)||0<I.l(x);)A-=C,D=E(A),I=D.j(w);q(D)&&(D=F),V=V.add(D),x=ge(x,I)}return new J(V,x)}i.A=function(x){return ce(this,x).h},i.and=function(x){for(var w=Math.max(this.g.length,x.g.length),A=[],C=0;C<w;C++)A[C]=this.i(C)&x.i(C);return new f(A,this.h&x.h)},i.or=function(x){for(var w=Math.max(this.g.length,x.g.length),A=[],C=0;C<w;C++)A[C]=this.i(C)|x.i(C);return new f(A,this.h|x.h)},i.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),A=[],C=0;C<w;C++)A[C]=this.i(C)^x.i(C);return new f(A,this.h^x.h)};function Fe(x){for(var w=x.g.length+1,A=[],C=0;C<w;C++)A[C]=x.i(C)<<1|x.i(C-1)>>>31;return new f(A,x.h)}function Ie(x,w){var A=w>>5;w%=32;for(var C=x.g.length-A,V=[],D=0;D<C;D++)V[D]=0<w?x.i(D+A)>>>w|x.i(D+A+1)<<32-w:x.i(D+A);return new f(V,x.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,dm=o,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=S,Ii=f}).apply(typeof _p<"u"?_p:typeof self<"u"?self:typeof window<"u"?window:{});var Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pm,Mo,mm,xl,eh,gm,ym,_m;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,g){return a==Array.prototype||a==Object.prototype||(a[d]=g.value),a};function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tl=="object"&&Tl];for(var d=0;d<a.length;++d){var g=a[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var o=r(this);function l(a,d){if(d)e:{var g=o;a=a.split(".");for(var v=0;v<a.length-1;v++){var L=a[v];if(!(L in g))break e;g=g[L]}a=a[a.length-1],v=g[a],d=d(v),d!=v&&d!=null&&e(g,a,{configurable:!0,writable:!0,value:d})}}function c(a,d){a instanceof String&&(a+="");var g=0,v=!1,L={next:function(){if(!v&&g<a.length){var U=g++;return{value:d(U,a[U]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(a){return a||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function _(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function E(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function S(a,d,g){return a.call.apply(a.bind,arguments)}function N(a,d,g){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),a.apply(d,L)}}return function(){return a.apply(d,arguments)}}function F(a,d,g){return F=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:N,F.apply(null,arguments)}function B(a,d){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function q(a,d){function g(){}g.prototype=d.prototype,a.aa=d.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(v,L,U){for(var te=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)te[Be-2]=arguments[Be];return d.prototype[L].apply(v,te)}}function X(a){const d=a.length;if(0<d){const g=Array(d);for(let v=0;v<d;v++)g[v]=a[v];return g}return[]}function $(a,d){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(_(v)){const L=a.length||0,U=v.length||0;a.length=L+U;for(let te=0;te<U;te++)a[L+te]=v[te]}else a.push(v)}}class ge{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ye(a){return/^[\s\xa0]*$/.test(a)}function J(){var a=m.navigator;return a&&(a=a.userAgent)?a:""}function ce(a){return ce[" "](a),a}ce[" "]=function(){};var Fe=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Ie(a,d,g){for(const v in a)d.call(g,a[v],v,a)}function x(a,d){for(const g in a)d.call(void 0,a[g],g,a)}function w(a){const d={};for(const g in a)d[g]=a[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,d){let g,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(g in v)a[g]=v[g];for(let U=0;U<A.length;U++)g=A[U],Object.prototype.hasOwnProperty.call(v,g)&&(a[g]=v[g])}}function V(a){var d=1;a=a.split(":");const g=[];for(;0<d&&a.length;)g.push(a.shift()),d--;return a.length&&g.push(a.join(":")),g}function D(a){m.setTimeout(()=>{throw a},0)}function I(){var a=re;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ee{constructor(){this.h=this.g=null}add(d,g){const v=ze.get();v.set(d,g),this.h?this.h.next=v:this.g=v,this.h=v}}var ze=new ge(()=>new Ne,a=>a.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,G=!1,re=new Ee,ee=()=>{const a=m.Promise.resolve(void 0);fe=()=>{a.then(k)}};var k=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(g){D(g)}var d=ze;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}G=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return a}();function Ae(a,d){if(ie.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Fe){e:{try{ce(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=a.fromElement:g=="mouseout"&&(d=a.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ke[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ae.aa.h.call(this)}}q(Ae,ie);var ke={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function qe(a,d,g,v,L){this.listener=a,this.proxy=null,this.src=d,this.type=g,this.capture=!!v,this.ha=L,this.key=++Ue,this.da=this.fa=!1}function gt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Wn(a){this.src=a,this.g={},this.h=0}Wn.prototype.add=function(a,d,g,v,L){var U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);var te=mr(a,d,v,L);return-1<te?(d=a[te],g||(d.fa=!1)):(d=new qe(d,this.src,U,!!v,L),d.fa=g,a.push(d)),d};function xi(a,d){var g=d.type;if(g in a.g){var v=a.g[g],L=Array.prototype.indexOf.call(v,d,void 0),U;(U=0<=L)&&Array.prototype.splice.call(v,L,1),U&&(gt(d),a.g[g].length==0&&(delete a.g[g],a.h--))}}function mr(a,d,g,v){for(var L=0;L<a.length;++L){var U=a[L];if(!U.da&&U.listener==d&&U.capture==!!g&&U.ha==v)return L}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),Vi={};function Us(a,d,g,v,L){if(Array.isArray(d)){for(var U=0;U<d.length;U++)Us(a,d[U],g,v,L);return null}return g=bs(g),a&&a[je]?a.K(d,g,E(v)?!!v.capture:!1,L):zs(a,d,g,!1,v,L)}function zs(a,d,g,v,L,U){if(!d)throw Error("Invalid event type");var te=E(L)?!!L.capture:!!L,Be=Di(a);if(Be||(a[Qr]=Be=new Wn(a)),g=Be.add(d,g,v,te,U),g.proxy)return g;if(v=oa(),g.proxy=v,v.src=a,v.listener=g,a.addEventListener)Se||(L=te),L===void 0&&(L=!1),a.addEventListener(d.toString(),v,L);else if(a.attachEvent)a.attachEvent(Kn(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function oa(){function a(g){return d.call(a.src,a.listener,g)}const d=Bs;return a}function Ni(a,d,g,v,L){if(Array.isArray(d))for(var U=0;U<d.length;U++)Ni(a,d[U],g,v,L);else v=E(v)?!!v.capture:!!v,g=bs(g),a&&a[je]?(a=a.i,d=String(d).toString(),d in a.g&&(U=a.g[d],g=mr(U,g,v,L),-1<g&&(gt(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete a.g[d],a.h--)))):a&&(a=Di(a))&&(d=a.g[d.toString()],a=-1,d&&(a=mr(d,g,v,L)),(g=-1<a?d[a]:null)&&Qn(g))}function Qn(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[je])xi(d.i,a);else{var g=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(g,v,a.capture):d.detachEvent?d.detachEvent(Kn(g),v):d.addListener&&d.removeListener&&d.removeListener(v),(g=Di(d))?(xi(g,a),g.h==0&&(g.src=null,d[Qr]=null)):gt(a)}}}function Kn(a){return a in Vi?Vi[a]:Vi[a]="on"+a}function Bs(a,d){if(a.da)a=!0;else{d=new Ae(d,this);var g=a.listener,v=a.ha||a.src;a.fa&&Qn(a),a=g.call(v,d)}return a}function Di(a){return a=a[Qr],a instanceof Wn?a:null}var Li="__closure_events_fn_"+(1e9*Math.random()>>>0);function bs(a){return typeof a=="function"?a:(a[Li]||(a[Li]=function(d){return a.handleEvent(d)}),a[Li])}function lt(){b.call(this),this.i=new Wn(this),this.M=this,this.F=null}q(lt,b),lt.prototype[je]=!0,lt.prototype.removeEventListener=function(a,d,g,v){Ni(this,a,d,g,v)};function ut(a,d){var g,v=a.F;if(v)for(g=[];v;v=v.F)g.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new ie(d,a);else if(d instanceof ie)d.target=d.target||a;else{var L=d;d=new ie(v,a),C(d,L)}if(L=!0,g)for(var U=g.length-1;0<=U;U--){var te=d.g=g[U];L=Gn(te,v,!0,d)&&L}if(te=d.g=a,L=Gn(te,v,!0,d)&&L,L=Gn(te,v,!1,d)&&L,g)for(U=0;U<g.length;U++)te=d.g=g[U],L=Gn(te,v,!1,d)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var g=a.g[d],v=0;v<g.length;v++)gt(g[v]);delete a.g[d],a.h--}}this.F=null},lt.prototype.K=function(a,d,g,v){return this.i.add(String(a),d,!1,g,v)},lt.prototype.L=function(a,d,g,v){return this.i.add(String(a),d,!0,g,v)};function Gn(a,d,g,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,U=0;U<d.length;++U){var te=d[U];if(te&&!te.da&&te.capture==g){var Be=te.listener,ct=te.ha||te.src;te.fa&&xi(a.i,te),L=Be.call(ct,v)!==!1&&L}}return L&&!v.defaultPrevented}function $s(a,d,g){if(typeof a=="function")g&&(a=F(a,g));else if(a&&typeof a.handleEvent=="function")a=F(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(a,d||0)}function gr(a){a.g=$s(()=>{a.g=null,a.i&&(a.i=!1,gr(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Kr extends b{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(a){b.call(this),this.h=a,this.g={}}q(Gr,b);var qs=[];function Hs(a){Ie(a.g,function(d,g){this.g.hasOwnProperty(g)&&Qn(d)},a),a.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),Hs(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ws=m.JSON.stringify,Qs=m.JSON.parse,Ks=class{stringify(a){return m.JSON.stringify(a,void 0)}parse(a){return m.JSON.parse(a,void 0)}};function Yr(){}Yr.prototype.h=null;function Oi(a){return a.h||(a.h=a.i())}function Mi(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){ie.call(this,"d")}q(Vn,ie);function Fi(){ie.call(this,"c")}q(Fi,ie);var Nn={},Gs=null;function Xr(){return Gs=Gs||new lt}Nn.La="serverreachability";function Ys(a){ie.call(this,Nn.La,a)}q(Ys,ie);function Yn(a){const d=Xr();ut(d,new Ys(d))}Nn.STAT_EVENT="statevent";function Xs(a,d){ie.call(this,Nn.STAT_EVENT,a),this.stat=d}q(Xs,ie);function nt(a){const d=Xr();ut(d,new Xs(d,a))}Nn.Ma="timingevent";function ji(a,d){ie.call(this,Nn.Ma,a),this.size=d}q(ji,ie);function mn(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){a()},d)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function Zr(a,d,g,v,L,U){a.info(function(){if(a.g)if(U)for(var te="",Be=U.split("&"),ct=0;ct<Be.length;ct++){var xe=Be[ct].split("=");if(1<xe.length){var yt=xe[0];xe=xe[1];var st=yt.split("_");te=2<=st.length&&st[1]=="type"?te+(yt+"="+xe+"&"):te+(yt+"=redacted&")}}else te=null;else te=U;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+d+`
`+g+`
`+te})}function Ui(a,d,g,v,L,U,te){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+d+`
`+g+`
`+U+" "+te})}function gn(a,d,g,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+au(a,g)+(v?" "+v:"")})}function Js(a,d){a.info(function(){return"TIMEOUT: "+d})}Jr.prototype.info=function(){};function au(a,d){if(!a.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var v=g[a];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return Ws(g)}catch{return d}}var zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function ei(){}q(ei,Yr),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},yn=new ei;function _n(a,d,g,v){this.j=a,this.i=d,this.l=g,this.R=v||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new la}function la(){this.i=null,this.g="",this.h=!1}var Zs={},Bi={};function bi(a,d,g){a.L=1,a.v=wr(Yt(d)),a.m=g,a.P=!0,eo(a,null)}function eo(a,d){a.F=Date.now(),He(a),a.A=Yt(a.v);var g=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Ir(g.i,"t",v),a.C=0,g=a.j.J,a.h=new la,a.g=Ra(a.j,g?d:null,!a.m),0<a.O&&(a.M=new Kr(F(a.Y,a,a.g),a.O)),d=a.U,g=a.g,v=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(qs[0]=L.toString()),L=qs);for(var U=0;U<L.length;U++){var te=Us(g,L[U],v||d.handleEvent,!1,d.h||d);if(!te)break;d.g[te.key]=te}d=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Yn(),Zr(a.i,a.u,a.A,a.l,a.R,a.m)}_n.prototype.ca=function(a){a=a.target;const d=this.M;d&&bt(a)==3?d.j():this.Y(a)},_n.prototype.Y=function(a){try{if(a==this.g)e:{const st=bt(this.g);var d=this.g.Ba();const an=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||oo(this.g)))){this.J||st!=4||d==7||(d==8||0>=an?Yn(3):Yn(2)),ti(this);var g=this.g.Z();this.X=g;t:if(ua(this)){var v=oo(this.g);a="";var L=v.length,U=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),yr(this);var te="";break t}this.h.i=new m.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,a+=this.h.i.decode(v[d],{stream:!(U&&d==L-1)});v.length=0,this.h.g+=a,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=g==200,Ui(this.i,this.u,this.A,this.l,this.R,st,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,ct=this.g;if((Be=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(Be)){var xe=Be;break t}}xe=null}if(g=xe)gn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,to(this,g);else{this.o=!1,this.s=3,nt(12),sn(this),yr(this);break e}}if(this.P){g=!0;let Jt;for(;!this.J&&this.C<te.length;)if(Jt=lu(this,te),Jt==Bi){st==4&&(this.s=4,nt(14),g=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Zs){this.s=4,nt(15),gn(this.i,this.l,te,"[Invalid Chunk]"),g=!1;break}else gn(this.i,this.l,Jt,null),to(this,Jt);if(ua(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||te.length!=0||this.h.h||(this.s=1,nt(16),g=!1),this.o=this.o&&g,!g)gn(this.i,this.l,te,"[Invalid Chunked Response]"),sn(this),yr(this);else if(0<te.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),lo(yt),yt.M=!0,nt(11))}}else gn(this.i,this.l,te,null),to(this,te);st==4&&sn(this),this.o&&!this.J&&(st==4?Zi(this.j,this):(this.o=!1,He(this)))}else Ki(this.g),g==400&&0<te.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),sn(this),yr(this)}}}catch{}finally{}};function ua(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function lu(a,d){var g=a.C,v=d.indexOf(`
`,g);return v==-1?Bi:(g=Number(d.substring(g,v)),isNaN(g)?Zs:(v+=1,v+g>d.length?Bi:(d=d.slice(v,v+g),a.C=v+g,d)))}_n.prototype.cancel=function(){this.J=!0,sn(this)};function He(a){a.S=Date.now()+a.I,ca(a,a.I)}function ca(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=mn(F(a.ba,a),d)}function ti(a){a.B&&(m.clearTimeout(a.B),a.B=null)}_n.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Js(this.i,this.A),this.L!=2&&(Yn(),nt(17)),sn(this),this.s=2,yr(this)):ca(this,this.S-a)};function yr(a){a.j.G==0||a.J||Zi(a.j,a)}function sn(a){ti(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Hs(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function to(a,d){try{var g=a.j;if(g.G!=0&&(g.g==a||Ft(g.h,a))){if(!a.K&&Ft(g.h,a)&&g.G==3){try{var v=g.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)Ji(g),In(g);else break e;Xi(g),nt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=mn(F(g.Za,g),6e3));if(1>=fa(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else tr(g,11)}else if((a.K||g.g==a)&&Ji(g),!ye(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let xe=L[d];if(g.T=xe[0],xe=xe[1],g.G==2)if(xe[0]=="c"){g.K=xe[1],g.ia=xe[2];const yt=xe[3];yt!=null&&(g.la=yt,g.j.info("VER="+g.la));const st=xe[4];st!=null&&(g.Aa=st,g.j.info("SVER="+g.Aa));const an=xe[5];an!=null&&typeof an=="number"&&0<an&&(v=1.5*an,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const Jt=a.g;if(Jt){const li=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var U=v.h;U.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(no(U,U.h),U.h=null))}if(v.D){const ts=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;ts&&(v.ya=ts,$e(v.I,v.D,ts))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var te=a;if(v.qa=Aa(v,v.J?v.ia:null,v.W),te.K){da(v.h,te);var Be=te,ct=v.L;ct&&(Be.I=ct),Be.B&&(ti(Be),He(Be)),v.g=te}else ai(v);0<g.i.length&&Mn(g)}else xe[0]!="stop"&&xe[0]!="close"||tr(g,7);else g.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?tr(g,7):It(g):xe[0]!="noop"&&g.l&&g.l.ta(xe),g.v=0)}}Yn(4)}catch{}}var ha=class{constructor(a,d){this.g=a,this.map=d}};function ni(a){this.l=a||10,m.PerformanceNavigationTiming?(a=m.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function fa(a){return a.h?1:a.g?a.g.size:0}function Ft(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function no(a,d){a.g?a.g.add(d):a.h=d}function da(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ni.prototype.cancel=function(){if(this.i=pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function pa(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const g of a.g.values())d=d.concat(g.D);return d}return X(a.i)}function $i(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(_(a)){for(var d=[],g=a.length,v=0;v<g;v++)d.push(a[v]);return d}d=[],g=0;for(v in a)d[g++]=a[v];return d}function qi(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(_(a)||typeof a=="string"){var d=[];a=a.length;for(var g=0;g<a;g++)d.push(g);return d}d=[],g=0;for(const v in a)d[g++]=v;return d}}}function _r(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(_(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var g=qi(a),v=$i(a),L=v.length,U=0;U<L;U++)d.call(void 0,v[U],g&&g[U],a)}var ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uu(a,d){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var v=a[g].indexOf("="),L=null;if(0<=v){var U=a[g].substring(0,v);L=a[g].substring(v+1)}else U=a[g];d(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Xn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Xn){this.h=a.h,ii(this,a.j),this.o=a.o,this.g=a.g,vr(this,a.s),this.l=a.l;var d=a.i,g=new Dn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Er(this,g),this.m=a.m}else a&&(d=String(a).match(ri))?(this.h=!1,ii(this,d[1]||"",!0),this.o=Pe(d[2]||""),this.g=Pe(d[3]||"",!0),vr(this,d[4]),this.l=Pe(d[5]||"",!0),Er(this,d[6]||"",!0),this.m=Pe(d[7]||"")):(this.h=!1,this.i=new Dn(null,this.h))}Xn.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Tr(d,Hi,!0),":");var g=this.g;return(g||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Tr(d,Hi,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(Tr(g,g.charAt(0)=="/"?ya:ga,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",Tr(g,ro)),a.join("")};function Yt(a){return new Xn(a)}function ii(a,d,g){a.j=g?Pe(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function vr(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Er(a,d,g){d instanceof Dn?(a.i=d,Ln(a.i,a.h)):(g||(d=Tr(d,_a)),a.i=new Dn(d,a.h))}function $e(a,d,g){a.i.set(d,g)}function wr(a){return $e(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Pe(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Tr(a,d,g){return typeof a=="string"?(a=encodeURI(a).replace(d,ma),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ma(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Hi=/[#\/\?@]/g,ga=/[#\?:]/g,ya=/[#\?]/g,_a=/[#\?@]/g,ro=/#/g;function Dn(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Tt(a){a.g||(a.g=new Map,a.h=0,a.i&&uu(a.i,function(d,g){a.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Dn.prototype,i.add=function(a,d){Tt(this),this.i=null,a=on(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(d),this.h+=1,this};function vn(a,d){Tt(a),d=on(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function En(a,d){return Tt(a),d=on(a,d),a.g.has(d)}i.forEach=function(a,d){Tt(this),this.g.forEach(function(g,v){g.forEach(function(L){a.call(d,L,v,this)},this)},this)},i.na=function(){Tt(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let v=0;v<d.length;v++){const L=a[v];for(let U=0;U<L.length;U++)g.push(d[v])}return g},i.V=function(a){Tt(this);let d=[];if(typeof a=="string")En(this,a)&&(d=d.concat(this.g.get(on(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)d=d.concat(a[g])}return d},i.set=function(a,d){return Tt(this),this.i=null,a=on(this,a),En(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},i.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Ir(a,d,g){vn(a,d),0<g.length&&(a.i=null,a.g.set(on(a,d),X(g)),a.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var v=d[g];const U=encodeURIComponent(String(v)),te=this.V(v);for(v=0;v<te.length;v++){var L=U;te[v]!==""&&(L+="="+encodeURIComponent(String(te[v]))),a.push(L)}}return this.i=a.join("&")};function on(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Ln(a,d){d&&!a.j&&(Tt(a),a.i=null,a.g.forEach(function(g,v){var L=v.toLowerCase();v!=L&&(vn(this,v),Ir(this,L,g))},a)),a.j=d}function cu(a,d){const g=new Jr;if(m.Image){const v=new Image;v.onload=B(Bt,g,"TestLoadImage: loaded",!0,d,v),v.onerror=B(Bt,g,"TestLoadImage: error",!1,d,v),v.onabort=B(Bt,g,"TestLoadImage: abort",!1,d,v),v.ontimeout=B(Bt,g,"TestLoadImage: timeout",!1,d,v),m.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function va(a,d){const g=new Jr,v=new AbortController,L=setTimeout(()=>{v.abort(),Bt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(U=>{clearTimeout(L),U.ok?Bt(g,"TestPingServer: ok",!0,d):Bt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Bt(g,"TestPingServer: error",!1,d)})}function Bt(a,d,g,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(g)}catch{}}function hu(){this.g=new Ks}function Ea(a,d,g){const v=g||"";try{_r(a,function(L,U){let te=L;E(L)&&(te=Ws(L)),d.push(v+U+"="+encodeURIComponent(te))})}catch(L){throw d.push(v+"type="+encodeURIComponent("_badmap")),L}}function Jn(a){this.l=a.Ub||null,this.j=a.eb||!1}q(Jn,Yr),Jn.prototype.g=function(){return new si(this.l,this.j)},Jn.prototype.i=function(a){return function(){return a}}({});function si(a,d){lt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(si,lt),i=si.prototype,i.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Tn(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wa(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function wa(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}i.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?wn(this):Tn(this),this.readyState==3&&wa(this)}},i.Ra=function(a){this.g&&(this.response=this.responseText=a,wn(this))},i.Qa=function(a){this.g&&(this.response=a,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Tn(a)}i.setRequestHeader=function(a,d){this.u.append(a,d)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=d.next();return a.join(`\r
`)};function Tn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Zn(a){let d="";return Ie(a,function(g,v){d+=v,d+=":",d+=g,d+=`\r
`}),d}function Sr(a,d,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=Zn(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):$e(a,d,g))}function Ge(a){lt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(Ge,lt);var fu=/^https?$/i,io=["POST","PUT"];i=Ge.prototype,i.Ha=function(a){this.J=a},i.ea=function(a,d,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?Oi(this.o):Oi(yn),this.g.onreadystatechange=F(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(U){oi(this,U);return}if(a=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)g.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const U of v.keys())g.set(U,v.get(U));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),L=m.FormData&&a instanceof m.FormData,!(0<=Array.prototype.indexOf.call(io,d,void 0))||v||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,te]of g)this.g.setRequestHeader(U,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qi(this),this.u=!0,this.g.send(a),this.u=!1}catch(U){oi(this,U)}};function oi(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Wi(a),Xt(a)}function Wi(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),Xt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?so(this):this.bb())},i.bb=function(){so(this)};function so(a){if(a.h&&typeof f<"u"&&(!a.v[1]||bt(a)!=4||a.Z()!=2)){if(a.u&&bt(a)==4)$s(a.Ea,0,a);else if(ut(a,"readystatechange"),bt(a)==4){a.h=!1;try{const te=a.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var v;if(v=te===0){var L=String(a.D).match(ri)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),v=!fu.test(L?L.toLowerCase():"")}g=v}if(g)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var U=2<bt(a)?a.g.statusText:""}catch{U=""}a.l=U+" ["+a.Z()+"]",Wi(a)}}finally{Xt(a)}}}}function Xt(a,d){if(a.g){Qi(a);const g=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ut(a,"ready");try{g.onreadystatechange=v}catch{}}}function Qi(a){a.I&&(m.clearTimeout(a.I),a.I=null)}i.isActive=function(){return!!this.g};function bt(a){return a.g?a.g.readyState:0}i.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Qs(d)}};function oo(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(a){const d={};a=(a.g&&2<=bt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(ye(a[v]))continue;var g=V(a[v]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=d[L]||[];d[L]=U,U.push(g)}x(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function On(a,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||d}function ao(a){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=On("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=On("baseRetryDelayMs",5e3,a),this.cb=On("retryDelaySeedMs",1e4,a),this.Wa=On("forwardChannelMaxRetries",2,a),this.wa=On("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ni(a&&a.concurrentRequestLimit),this.Da=new hu,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ao.prototype,i.la=8,i.G=1,i.connect=function(a,d,g,v){nt(0),this.W=a,this.H=d||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Aa(this,null,this.W),Mn(this)};function It(a){if(Gi(a),a.G==3){var d=a.U++,g=Yt(a.I);if($e(g,"SID",a.K),$e(g,"RID",d),$e(g,"TYPE","terminate"),er(a,g),d=new _n(a,a.j,d),d.L=2,d.v=wr(Yt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Ra(d.j,null),d.g.ea(d.v)),d.F=Date.now(),He(d)}Sa(a)}function In(a){a.g&&(lo(a),a.g.cancel(),a.g=null)}function Gi(a){In(a),a.u&&(m.clearTimeout(a.u),a.u=null),Ji(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&m.clearTimeout(a.s),a.s=null)}function Mn(a){if(!Gt(a.h)&&!a.s){a.s=!0;var d=a.Ga;fe||ee(),G||(fe(),G=!0),re.add(d,a),a.B=0}}function du(a,d){return fa(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=mn(F(a.Ga,a,d),Ia(a,a.B)),a.B++,!0)}i.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new _n(this,this.j,a);let U=this.o;if(this.S&&(U?(U=w(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Ar(this,L,d),g=Yt(this.I),$e(g,"RID",a),$e(g,"CVER",22),this.D&&$e(g,"X-HTTP-Session-Id",this.D),er(this,g),U&&(this.O?d="headers="+encodeURIComponent(String(Zn(U)))+"&"+d:this.m&&Sr(g,this.m,U)),no(this.h,L),this.Ua&&$e(g,"TYPE","init"),this.P?($e(g,"$req",d),$e(g,"SID","null"),L.T=!0,bi(L,g,null)):bi(L,g,d),this.G=2}}else this.G==3&&(a?Yi(this,a):this.i.length==0||Gt(this.h)||Yi(this))};function Yi(a,d){var g;d?g=d.l:g=a.U++;const v=Yt(a.I);$e(v,"SID",a.K),$e(v,"RID",g),$e(v,"AID",a.T),er(a,v),a.m&&a.o&&Sr(v,a.m,a.o),g=new _n(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Ar(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),no(a.h,g),bi(g,v,d)}function er(a,d){a.H&&Ie(a.H,function(g,v){$e(d,v,g)}),a.l&&_r({},function(g,v){$e(d,v,g)})}function Ar(a,d,g){g=Math.min(a.i.length,g);var v=a.l?F(a.l.Na,a.l,a):null;e:{var L=a.i;let U=-1;for(;;){const te=["count="+g];U==-1?0<g?(U=L[0].g,te.push("ofs="+U)):U=0:te.push("ofs="+U);let Be=!0;for(let ct=0;ct<g;ct++){let xe=L[ct].g;const yt=L[ct].map;if(xe-=U,0>xe)U=Math.max(0,L[ct].g-100),Be=!1;else try{Ea(yt,te,"req"+xe+"_")}catch{v&&v(yt)}}if(Be){v=te.join("&");break e}}}return a=a.i.splice(0,g),d.D=a,v}function ai(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;fe||ee(),G||(fe(),G=!0),re.add(d,a),a.v=0}}function Xi(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=mn(F(a.Fa,a),Ia(a,a.v)),a.v++,!0)}i.Fa=function(){if(this.u=null,Ta(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=mn(F(this.ab,this),a)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),In(this),Ta(this))};function lo(a){a.A!=null&&(m.clearTimeout(a.A),a.A=null)}function Ta(a){a.g=new _n(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Yt(a.qa);$e(d,"RID","rpc"),$e(d,"SID",a.K),$e(d,"AID",a.T),$e(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&$e(d,"TO",a.ja),$e(d,"TYPE","xmlhttp"),er(a,d),a.m&&a.o&&Sr(d,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=wr(Yt(d)),g.m=null,g.P=!0,eo(g,a)}i.Za=function(){this.C!=null&&(this.C=null,In(this),Xi(this),nt(19))};function Ji(a){a.C!=null&&(m.clearTimeout(a.C),a.C=null)}function Zi(a,d){var g=null;if(a.g==d){Ji(a),lo(a),a.g=null;var v=2}else if(Ft(a.h,d))g=d.D,da(a.h,d),v=1;else return;if(a.G!=0){if(d.o)if(v==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=a.B;v=Xr(),ut(v,new ji(v,g)),Mn(a)}else ai(a);else if(L=d.s,L==3||L==0&&0<d.X||!(v==1&&du(a,d)||v==2&&Xi(a)))switch(g&&0<g.length&&(d=a.h,d.i=d.i.concat(g)),L){case 1:tr(a,5);break;case 4:tr(a,10);break;case 3:tr(a,6);break;default:tr(a,2)}}}function Ia(a,d){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*d}function tr(a,d){if(a.j.info("Error code "+d),d==2){var g=F(a.fb,a),v=a.Xa;const L=!v;v=new Xn(v||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ii(v,"https"),wr(v),L?cu(v.toString(),g):va(v.toString(),g)}else nt(2);a.G=0,a.l&&a.l.sa(d),Sa(a),Gi(a)}i.fb=function(a){a?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Sa(a){if(a.G=0,a.ka=[],a.l){const d=pa(a.h);(d.length!=0||a.i.length!=0)&&($(a.ka,d),$(a.ka,a.i),a.h.i.length=0,X(a.i),a.i.length=0),a.l.ra()}}function Aa(a,d,g){var v=g instanceof Xn?Yt(g):new Xn(g);if(v.g!="")d&&(v.g=d+"."+v.g),vr(v,v.s);else{var L=m.location;v=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var U=new Xn(null);v&&ii(U,v),d&&(U.g=d),L&&vr(U,L),g&&(U.l=g),v=U}return g=a.D,d=a.ya,g&&d&&$e(v,g,d),$e(v,"VER",a.la),er(a,v),v}function Ra(a,d,g){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ge(new Jn({eb:g})):new Ge(a.pa),d.Ha(a.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function uo(){}i=uo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function es(){}es.prototype.g=function(a,d){return new jt(a,d)};function jt(a,d){lt.call(this),this.g=new ao(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!ye(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ye(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Fn(this)}q(jt,lt),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){It(this.g)},jt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=Ws(a),a=g);d.i.push(new ha(d.Ya++,a)),d.G==3&&Mn(d)},jt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,jt.aa.N.call(this)};function Ca(a){Vn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const g in d){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}q(Ca,Vn);function Pa(){Fi.call(this),this.status=1}q(Pa,Fi);function Fn(a){this.g=a}q(Fn,uo),Fn.prototype.ua=function(){ut(this.g,"a")},Fn.prototype.ta=function(a){ut(this.g,new Ca(a))},Fn.prototype.sa=function(a){ut(this.g,new Pa)},Fn.prototype.ra=function(){ut(this.g,"b")},es.prototype.createWebChannel=es.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,_m=function(){return new es},ym=function(){return Xr()},gm=Nn,eh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,xl=zi,aa.COMPLETE="complete",mm=aa,Mi.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Mo=Mi,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,pm=Ge}).apply(typeof Tl<"u"?Tl:typeof self<"u"?self:typeof window<"u"?window:{});const vp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new am("@firebase/firestore");function Oo(){return Si.logLevel}function le(i,...e){if(Si.logLevel<=Le.DEBUG){const r=e.map(yh);Si.debug(`Firestore (${Os}): ${i}`,...r)}}function dr(i,...e){if(Si.logLevel<=Le.ERROR){const r=e.map(yh);Si.error(`Firestore (${Os}): ${i}`,...r)}}function Cs(i,...e){if(Si.logLevel<=Le.WARN){const r=e.map(yh);Si.warn(`Firestore (${Os}): ${i}`,...r)}}function yh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: `+i;throw dr(e),new Error(e)}function be(i,e){i||ve()}function Te(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ls{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ot.UNAUTHENTICATED))}shutdown(){}}class Pv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class kv{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){be(this.o===void 0);let o=this.i;const l=_=>this.i!==o?(o=this.i,r(_)):Promise.resolve();let c=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const _=c;e.enqueueRetryable(async()=>{await _.promise,await l(this.currentUser)})},m=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cr)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(be(typeof o.accessToken=="string"),new vm(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ot(e)}}class xv{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Vv{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new xv(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){be(this.o===void 0);const o=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(be(typeof r.token=="string"),this.R=r.token,new Nv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Lv(40);for(let c=0;c<l.length;++c)o.length<20&&l[c]<r&&(o+=e.charAt(l[c]%e.length))}return o}}function Me(i,e){return i<e?-1:i>e?1:0}function Ps(i,e,r){return i.length===e.length&&i.every((o,l)=>r(o,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new mt(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new mt(0,0))}static max(){return new we(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,r,o){r===void 0?r=0:r>e.length&&ve(),o===void 0?o=e.length-r:o>e.length-r&&ve(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return Ko.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ko?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let l=0;l<o;l++){const c=e.get(l),f=r.get(l);if(c<f)return-1;if(c>f)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Xe extends Ko{construct(e,r,o){return new Xe(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new he(Q.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new Xe(r)}static emptyPath(){return new Xe([])}}const Ov=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Ko{construct(e,r,o){return new Ct(e,r,o)}static isValidIdentifier(e){return Ov.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const r=[];let o="",l=0;const c=()=>{if(o.length===0)throw new he(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new he(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=_,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(o+=m,l++):(c(),l++)}if(c(),f)throw new he(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(r)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Xe.fromString(e))}static fromName(e){return new me(Xe.fromString(e).popFirst(5))}static empty(){return new me(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Xe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Xe(e.slice()))}}function Mv(i,e){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=we.fromTimestamp(o===1e9?new mt(r+1,0):new mt(r,o));return new qr(l,me.empty(),e)}function Fv(i){return new qr(i.readTime,i.key,-1)}class qr{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new qr(we.min(),me.empty(),-1)}static max(){return new qr(we.max(),me.empty(),-1)}}function jv(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=me.comparator(i.documentKey,e.documentKey),r!==0?r:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==Uv)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((o,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,o)=>{r(e)})}static reject(e){return new K((r,o)=>{o(e)})}static waitFor(e){return new K((r,o)=>{let l=0,c=0,f=!1;e.forEach(m=>{++l,m.next(()=>{++c,f&&c===l&&r()},_=>o(_))}),f=!0,c===l&&r()})}static or(e){let r=K.resolve(!1);for(const o of e)r=r.next(l=>l?K.resolve(l):o());return r}static forEach(e,r){const o=[];return e.forEach((l,c)=>{o.push(r.call(this,l,c))}),this.waitFor(o)}static mapArray(e,r){return new K((o,l)=>{const c=e.length,f=new Array(c);let m=0;for(let _=0;_<c;_++){const E=_;r(e[E]).next(S=>{f[E]=S,++m,m===c&&o(f)},S=>l(S))}})}static doWhile(e,r){return new K((o,l)=>{const c=()=>{e()===!0?r().next(()=>{c()},l):o()};c()})}}function Bv(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ta(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_h.oe=-1;function Kl(i){return i==null}function Ul(i){return i===0&&1/i==-1/0}function bv(i){return typeof i=="number"&&Number.isInteger(i)&&!Ul(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Ms(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function wm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,r){this.comparator=e,this.root=r||Rt.EMPTY}insert(e,r){return new et(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(l===0)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,r,o,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?o(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,r,o,l,c){this.key=e,this.value=r,this.color=o??Rt.RED,this.left=l??Rt.EMPTY,this.right=c??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,l,c){return new Rt(e??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const c=o(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,o),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return Rt.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,r,o,l,c){return this}insert(e,r,o){return new Rt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new wp(this.data.getIterator())}getIteratorFrom(e){return new wp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Pt(this.comparator);return r.data=e,r}}class wp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new xn([])}unionWith(e){let r=new Pt(Ct.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new xn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Tm("Invalid base64 string: "+c):c}}(e);return new kt(r)}static fromUint8Array(e){const r=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(e);return new kt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const $v=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(i){if(be(!!i),typeof i=="string"){let e=0;const r=$v.exec(i);if(be(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ai(i){return typeof i=="string"?kt.fromBase64String(i):kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Eh(i){const e=i.mapValue.fields.__previous_value__;return vh(e)?Eh(e):e}function Go(i){const e=Hr(i.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,r,o,l,c,f,m,_,E){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=E}}class Yo{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl={mapValue:{}};function Ri(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vh(i)?4:Wv(i)?9007199254740991:Hv(i)?10:11:ve()}function qn(i,e){if(i===e)return!0;const r=Ri(i);if(r!==Ri(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Go(i).isEqual(Go(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Hr(l.timestampValue),m=Hr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(l,c){return Ai(l.bytesValue).isEqual(Ai(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,c){return it(l.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(l.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return it(l.integerValue)===it(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=it(l.doubleValue),m=it(c.doubleValue);return f===m?Ul(f)===Ul(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ps(i.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},m=c.mapValue.fields||{};if(Ep(f)!==Ep(m))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(m[_]===void 0||!qn(f[_],m[_])))return!1;return!0}(i,e);default:return ve()}}function Xo(i,e){return(i.values||[]).find(r=>qn(r,e))!==void 0}function ks(i,e){if(i===e)return 0;const r=Ri(i),o=Ri(e);if(r!==o)return Me(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=it(c.integerValue||c.doubleValue),_=it(f.integerValue||f.doubleValue);return m<_?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1}(i,e);case 3:return Tp(i.timestampValue,e.timestampValue);case 4:return Tp(Go(i),Go(e));case 5:return Me(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Ai(c),_=Ai(f);return m.compareTo(_)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),_=f.split("/");for(let E=0;E<m.length&&E<_.length;E++){const S=Me(m[E],_[E]);if(S!==0)return S}return Me(m.length,_.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Me(it(c.latitude),it(f.latitude));return m!==0?m:Me(it(c.longitude),it(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Ip(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,_,E,S;const N=c.fields||{},F=f.fields||{},B=(m=N.value)===null||m===void 0?void 0:m.arrayValue,q=(_=F.value)===null||_===void 0?void 0:_.arrayValue,X=Me(((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0,((S=q==null?void 0:q.values)===null||S===void 0?void 0:S.length)||0);return X!==0?X:Ip(B,q)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Sl.mapValue&&f===Sl.mapValue)return 0;if(c===Sl.mapValue)return 1;if(f===Sl.mapValue)return-1;const m=c.fields||{},_=Object.keys(m),E=f.fields||{},S=Object.keys(E);_.sort(),S.sort();for(let N=0;N<_.length&&N<S.length;++N){const F=Me(_[N],S[N]);if(F!==0)return F;const B=ks(m[_[N]],E[S[N]]);if(B!==0)return B}return Me(_.length,S.length)}(i.mapValue,e.mapValue);default:throw ve()}}function Tp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const r=Hr(i),o=Hr(e),l=Me(r.seconds,o.seconds);return l!==0?l:Me(r.nanos,o.nanos)}function Ip(i,e){const r=i.values||[],o=e.values||[];for(let l=0;l<r.length&&l<o.length;++l){const c=ks(r[l],o[l]);if(c)return c}return Me(r.length,o.length)}function xs(i){return th(i)}function th(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const o=Hr(r);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return Ai(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return me.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=th(c);return o+"]"}(i.arrayValue):"mapValue"in i?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const f of o)c?c=!1:l+=",",l+=`${f}:${th(r.fields[f])}`;return l+"}"}(i.mapValue):ve()}function nh(i){return!!i&&"integerValue"in i}function wh(i){return!!i&&"arrayValue"in i}function Sp(i){return!!i&&"nullValue"in i}function Ap(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vl(i){return!!i&&"mapValue"in i}function Hv(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Bo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ms(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Bo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bo(i.arrayValue.values[r]);return e}return Object.assign({},i)}function Wv(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Vl(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(r)}setAll(e){let r=Ct.emptyPath(),o={},l=[];e.forEach((f,m)=>{if(!r.isImmediateParentOf(m)){const _=this.getFieldsMap(r);this.applyChanges(_,o,l),o={},l=[],r=m.popLast()}f?o[m.lastSegment()]=Bo(f):l.push(m.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,l)}delete(e){const r=this.field(e.popLast());Vl(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=r.mapValue.fields[e.get(o)];Vl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,o){Ms(r,(l,c)=>e[l]=c);for(const l of o)delete e[l]}clone(){return new pn(Bo(this.value))}}function Im(i){const e=[];return Ms(i.fields,(r,o)=>{const l=new Ct([r]);if(Vl(o)){const c=Im(o.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,r,o,l,c,f,m){this.key=e,this.documentType=r,this.version=o,this.readTime=l,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Mt(e,0,we.min(),we.min(),we.min(),pn.empty(),0)}static newFoundDocument(e,r,o,l){return new Mt(e,1,r,we.min(),o,l,0)}static newNoDocument(e,r){return new Mt(e,2,r,we.min(),we.min(),pn.empty(),0)}static newUnknownDocument(e,r){return new Mt(e,3,r,we.min(),we.min(),pn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,r){this.position=e,this.inclusive=r}}function Rp(i,e,r){let o=0;for(let l=0;l<i.position.length;l++){const c=e[l],f=i.position[l];if(c.field.isKeyField()?o=me.comparator(me.fromName(f.referenceValue),r.key):o=ks(f,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function Cp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!qn(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,r="asc"){this.field=e,this.dir=r}}function Qv(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{}class pt extends Sm{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new Gv(e,r,o):r==="array-contains"?new Jv(e,o):r==="in"?new Zv(e,o):r==="not-in"?new eE(e,o):r==="array-contains-any"?new tE(e,o):new pt(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new Yv(e,o):new Xv(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ks(r,this.value)):r!==null&&Ri(this.value)===Ri(r)&&this.matchesComparison(ks(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Sm{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Hn(e,r)}matches(e){return Am(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Am(i){return i.op==="and"}function Rm(i){return Kv(i)&&Am(i)}function Kv(i){for(const e of i.filters)if(e instanceof Hn)return!1;return!0}function rh(i){if(i instanceof pt)return i.field.canonicalString()+i.op.toString()+xs(i.value);if(Rm(i))return i.filters.map(e=>rh(e)).join(",");{const e=i.filters.map(r=>rh(r)).join(",");return`${i.op}(${e})`}}function Cm(i,e){return i instanceof pt?function(o,l){return l instanceof pt&&o.op===l.op&&o.field.isEqual(l.field)&&qn(o.value,l.value)}(i,e):i instanceof Hn?function(o,l){return l instanceof Hn&&o.op===l.op&&o.filters.length===l.filters.length?o.filters.reduce((c,f,m)=>c&&Cm(f,l.filters[m]),!0):!1}(i,e):void ve()}function Pm(i){return i instanceof pt?function(r){return`${r.field.canonicalString()} ${r.op} ${xs(r.value)}`}(i):i instanceof Hn?function(r){return r.op.toString()+" {"+r.getFilters().map(Pm).join(" ,")+"}"}(i):"Filter"}class Gv extends pt{constructor(e,r,o){super(e,r,o),this.key=me.fromName(o.referenceValue)}matches(e){const r=me.comparator(e.key,this.key);return this.matchesComparison(r)}}class Yv extends pt{constructor(e,r){super(e,"in",r),this.keys=km("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Xv extends pt{constructor(e,r){super(e,"not-in",r),this.keys=km("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function km(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>me.fromName(o.referenceValue))}class Jv extends pt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return wh(r)&&Xo(r.arrayValue,this.value)}}class Zv extends pt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Xo(this.value.arrayValue,r)}}class eE extends pt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Xo(this.value.arrayValue,r)}}class tE extends pt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!wh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Xo(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,r=null,o=[],l=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Pp(i,e=null,r=[],o=[],l=null,c=null,f=null){return new nE(i,e,r,o,l,c,f)}function Th(i){const e=Te(i);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>rh(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Kl(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>xs(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>xs(o)).join(",")),e.ue=r}return e.ue}function Ih(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!Qv(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!Cm(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Cp(i.startAt,e.startAt)&&Cp(i.endAt,e.endAt)}function ih(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,r=null,o=[],l=[],c=null,f="F",m=null,_=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rE(i,e,r,o,l,c,f,m){return new Gl(i,e,r,o,l,c,f,m)}function Sh(i){return new Gl(i)}function kp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function iE(i){return i.collectionGroup!==null}function bo(i){const e=Te(i);if(e.ce===null){e.ce=[];const r=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),r.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Ct.comparator);return f.filters.forEach(_=>{_.getFlattenedFilters().forEach(E=>{E.isInequality()&&(m=m.add(E.field))})}),m})(e).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Bl(c,o))}),r.has(Ct.keyField().canonicalString())||e.ce.push(new Bl(Ct.keyField(),o))}return e.ce}function bn(i){const e=Te(i);return e.le||(e.le=sE(e,bo(i))),e.le}function sE(i,e){if(i.limitType==="F")return Pp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Bl(l.field,c)});const r=i.endAt?new zl(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new zl(i.startAt.position,i.startAt.inclusive):null;return Pp(i.path,i.collectionGroup,e,i.filters,i.limit,r,o)}}function sh(i,e,r){return new Gl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Yl(i,e){return Ih(bn(i),bn(e))&&i.limitType===e.limitType}function xm(i){return`${Th(bn(i))}|lt:${i.limitType}`}function Ts(i){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(l=>Pm(l)).join(", ")}]`),Kl(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(l=>xs(l)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(l=>xs(l)).join(",")),`Target(${o})`}(bn(i))}; limitType=${i.limitType})`}function Xl(i,e){return e.isFoundDocument()&&function(o,l){const c=l.key.path;return o.collectionGroup!==null?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):me.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(i,e)&&function(o,l){for(const c of bo(o))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(i,e)&&function(o,l){for(const c of o.filters)if(!c.matches(l))return!1;return!0}(i,e)&&function(o,l){return!(o.startAt&&!function(f,m,_){const E=Rp(f,m,_);return f.inclusive?E<=0:E<0}(o.startAt,bo(o),l)||o.endAt&&!function(f,m,_){const E=Rp(f,m,_);return f.inclusive?E>=0:E>0}(o.endAt,bo(o),l))}(i,e)}function oE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Vm(i){return(e,r)=>{let o=!1;for(const l of bo(i)){const c=aE(l,e,r);if(c!==0)return c;o=o||l.field.isKeyField()}return 0}}function aE(i,e,r){const o=i.field.isKeyField()?me.comparator(e.key,r.key):function(c,f,m){const _=f.data.field(c),E=m.data.field(c);return _!==null&&E!==null?ks(_,E):ve()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[l,c]of o)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),l=this.inner[o];if(l===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return o.length===1?delete this.inner[r]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(r,o)=>{for(const[l,c]of o)e(l,c)})}isEmpty(){return wm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new et(me.comparator);function pr(){return lE}const Nm=new et(me.comparator);function Fo(...i){let e=Nm;for(const r of i)e=e.insert(r.key,r);return e}function Dm(i){let e=Nm;return i.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Ti(){return $o()}function Lm(){return $o()}function $o(){return new Fs(i=>i.toString(),(i,e)=>i.isEqual(e))}const uE=new et(me.comparator),cE=new Pt(me.comparator);function Ce(...i){let e=cE;for(const r of i)e=e.add(r);return e}const hE=new Pt(Me);function fE(){return hE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(e)?"-0":e}}function Om(i){return{integerValue:""+i}}function dE(i,e){return bv(e)?Om(e):Ah(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this._=void 0}}function pE(i,e,r){return i instanceof bl?function(l,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&vh(c)&&(c=Eh(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(r,e):i instanceof Jo?Fm(i,e):i instanceof Zo?jm(i,e):function(l,c){const f=Mm(l,c),m=xp(f)+xp(l.Pe);return nh(f)&&nh(l.Pe)?Om(m):Ah(l.serializer,m)}(i,e)}function mE(i,e,r){return i instanceof Jo?Fm(i,e):i instanceof Zo?jm(i,e):r}function Mm(i,e){return i instanceof $l?function(o){return nh(o)||function(c){return!!c&&"doubleValue"in c}(o)}(e)?e:{integerValue:0}:null}class bl extends Jl{}class Jo extends Jl{constructor(e){super(),this.elements=e}}function Fm(i,e){const r=Um(e);for(const o of i.elements)r.some(l=>qn(l,o))||r.push(o);return{arrayValue:{values:r}}}class Zo extends Jl{constructor(e){super(),this.elements=e}}function jm(i,e){let r=Um(e);for(const o of i.elements)r=r.filter(l=>!qn(l,o));return{arrayValue:{values:r}}}class $l extends Jl{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function xp(i){return it(i.integerValue||i.doubleValue)}function Um(i){return wh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function gE(i,e){return i.field.isEqual(e.field)&&function(o,l){return o instanceof Jo&&l instanceof Jo||o instanceof Zo&&l instanceof Zo?Ps(o.elements,l.elements,qn):o instanceof $l&&l instanceof $l?qn(o.Pe,l.Pe):o instanceof bl&&l instanceof bl}(i.transform,e.transform)}class yE{constructor(e,r){this.version=e,this.transformResults=r}}class hr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zl{}function zm(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new bm(i.key,hr.none()):new na(i.key,i.data,hr.none());{const r=i.data,o=pn.empty();let l=new Pt(Ct.comparator);for(let c of e.fields)if(!l.has(c)){let f=r.field(c);f===null&&c.length>1&&(c=c.popLast(),f=r.field(c)),f===null?o.delete(c):o.set(c,f),l=l.add(c)}return new Pi(i.key,o,new xn(l.toArray()),hr.none())}}function _E(i,e,r){i instanceof na?function(l,c,f){const m=l.value.clone(),_=Np(l.fieldTransforms,c,f.transformResults);m.setAll(_),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,r):i instanceof Pi?function(l,c,f){if(!Nl(l.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Np(l.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(Bm(l)),_.setAll(m),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(i,e,r):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function qo(i,e,r,o){return i instanceof na?function(c,f,m,_){if(!Nl(c.precondition,f))return m;const E=c.value.clone(),S=Dp(c.fieldTransforms,_,f);return E.setAll(S),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,r,o):i instanceof Pi?function(c,f,m,_){if(!Nl(c.precondition,f))return m;const E=Dp(c.fieldTransforms,_,f),S=f.data;return S.setAll(Bm(c)),S.setAll(E),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(N=>N.field))}(i,e,r,o):function(c,f,m){return Nl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,r)}function vE(i,e){let r=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),c=Mm(o.transform,l||null);c!=null&&(r===null&&(r=pn.empty()),r.set(o.field,c))}return r||null}function Vp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(o,l){return o===void 0&&l===void 0||!(!o||!l)&&Ps(o,l,(c,f)=>gE(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class na extends Zl{constructor(e,r,o,l=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Pi extends Zl{constructor(e,r,o,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Bm(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function Np(i,e,r){const o=new Map;be(i.length===r.length);for(let l=0;l<r.length;l++){const c=i[l],f=c.transform,m=e.data.field(c.field);o.set(c.field,mE(f,m,r[l]))}return o}function Dp(i,e,r){const o=new Map;for(const l of i){const c=l.transform,f=r.data.field(l.field);o.set(l.field,pE(c,f,e))}return o}class bm extends Zl{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EE extends Zl{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,r,o,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&_E(c,e,o[l])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=qo(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=qo(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Lm();return this.mutations.forEach(l=>{const c=e.get(l.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=r.has(l.key)?null:m;const _=zm(f,m);_!==null&&o.set(l.key,_),f.isValidDocument()||f.convertToNoDocument(we.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,(r,o)=>Vp(r,o))&&Ps(this.baseMutations,e.baseMutations,(r,o)=>Vp(r,o))}}class Rh{constructor(e,r,o,l){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=l}static from(e,r,o){be(e.mutations.length===o.length);let l=function(){return uE}();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,o[f].version);return new Rh(e,r,o,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ve;function SE(i){switch(i){default:return ve();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function $m(i){if(i===void 0)return dr("GRPC error has no .code"),Q.UNKNOWN;switch(i){case at.OK:return Q.OK;case at.CANCELLED:return Q.CANCELLED;case at.UNKNOWN:return Q.UNKNOWN;case at.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case at.INTERNAL:return Q.INTERNAL;case at.UNAVAILABLE:return Q.UNAVAILABLE;case at.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case at.NOT_FOUND:return Q.NOT_FOUND;case at.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case at.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case at.ABORTED:return Q.ABORTED;case at.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case at.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case at.DATA_LOSS:return Q.DATA_LOSS;default:return ve()}}(Ve=at||(at={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Ii([4294967295,4294967295],0);function Lp(i){const e=AE().encode(i),r=new dm;return r.update(e),new Uint8Array(r.digest())}function Op(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ii([r,o],0),new Ii([l,c],0)]}class Ch{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new jo(`Invalid padding: ${r}`);if(o<0)throw new jo(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new jo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ii.fromNumber(this.Ie)}Ee(e,r,o){let l=e.add(r.multiply(Ii.fromNumber(o)));return l.compare(RE)===1&&(l=new Ii([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Lp(e),[o,l]=Op(r);for(let c=0;c<this.hashCount;c++){const f=this.Ee(o,l,c);if(!this.de(f))return!1}return!0}static create(e,r,o){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Ch(c,l,r);return o.forEach(m=>f.insert(m)),f}insert(e){if(this.Ie===0)return;const r=Lp(e),[o,l]=Op(r);for(let c=0;c<this.hashCount;c++){const f=this.Ee(o,l,c);this.Ae(f)}}Ae(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,r,o,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const l=new Map;return l.set(e,ra.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new eu(we.min(),l,new et(Me),pr(),Ce())}}class ra{constructor(e,r,o,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new ra(o,r,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,r,o,l){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=l}}class qm{constructor(e,r){this.targetId=e,this.me=r}}class Hm{constructor(e,r,o=kt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=l}}class Mp{constructor(){this.fe=0,this.ge=jp(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),r=Ce(),o=Ce();return this.ge.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:ve()}}),new ra(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=jp()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CE{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=Fp(),this.Qe=new et(Me)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,o=e.me.count,l=this.Je(r);if(l){const c=l.target;if(ih(c))if(o===0){const f=new me(c.path);this.Ue(r,f,Mt.newNoDocument(f,we.min()))}else be(o===1);else{const f=this.Ye(r);if(f!==o){const m=this.Ze(e),_=m?this.Xe(m,e,f):1;if(_!==0){this.je(r);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,E)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:c=0}=r;let f,m;try{f=Ai(o).toUint8Array()}catch(_){if(_ instanceof Tm)return Cs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{m=new Ch(f,l,c)}catch(_){return Cs(_ instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return m.Ie===0?null:m}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let l=0;return o.forEach(c=>{const f=this.Le.tt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.Ue(r,c,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((c,f)=>{const m=this.Je(f);if(m){if(c.current&&ih(m.target)){const _=new me(m.target.path);this.ke.get(_)!==null||this.it(f,_)||this.Ue(f,_,Mt.newNoDocument(_,e))}c.be&&(r.set(f,c.ve()),c.Ce())}});let o=Ce();this.qe.forEach((c,f)=>{let m=!0;f.forEachWhile(_=>{const E=this.Je(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(o=o.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const l=new eu(e,r,this.Qe,this.ke,o);return this.ke=pr(),this.qe=Fp(),this.Qe=new et(Me),l}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Mp,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Pt(Me),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||le("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Mp),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Fp(){return new et(me.comparator)}function jp(){return new et(me.comparator)}const PE={asc:"ASCENDING",desc:"DESCENDING"},kE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xE={and:"AND",or:"OR"};class VE{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function oh(i,e){return i.useProto3Json||Kl(e)?e:{value:e}}function ql(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function NE(i,e){return ql(i,e.toTimestamp())}function $n(i){return be(!!i),we.fromTimestamp(function(r){const o=Hr(r);return new mt(o.seconds,o.nanos)}(i))}function Ph(i,e){return ah(i,e).canonicalString()}function ah(i,e){const r=function(l){return new Xe(["projects",l.projectId,"databases",l.database])}(i).child("documents");return e===void 0?r:r.child(e)}function Qm(i){const e=Xe.fromString(i);return be(Jm(e)),e}function lh(i,e){return Ph(i.databaseId,e.path)}function bc(i,e){const r=Qm(e);if(r.get(1)!==i.databaseId.projectId)throw new he(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new he(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new me(Gm(r))}function Km(i,e){return Ph(i.databaseId,e)}function DE(i){const e=Qm(i);return e.length===4?Xe.emptyPath():Gm(e)}function uh(i){return new Xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Gm(i){return be(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Up(i,e,r){return{name:lh(i,e),fields:r.value.mapValue.fields}}function LE(i,e){let r;if("targetChange"in e){e.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(E,S){return E.useProto3Json?(be(S===void 0||typeof S=="string"),kt.fromBase64String(S||"")):(be(S===void 0||S instanceof Buffer||S instanceof Uint8Array),kt.fromUint8Array(S||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const S=E.code===void 0?Q.UNKNOWN:$m(E.code);return new he(S,E.message||"")}(f);r=new Hm(o,l,c,m||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const l=bc(i,o.document.name),c=$n(o.document.updateTime),f=o.document.createTime?$n(o.document.createTime):we.min(),m=new pn({mapValue:{fields:o.document.fields}}),_=Mt.newFoundDocument(l,c,f,m),E=o.targetIds||[],S=o.removedTargetIds||[];r=new Dl(E,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const l=bc(i,o.document),c=o.readTime?$n(o.readTime):we.min(),f=Mt.newNoDocument(l,c),m=o.removedTargetIds||[];r=new Dl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const l=bc(i,o.document),c=o.removedTargetIds||[];r=new Dl([],c,l,null)}else{if(!("filter"in e))return ve();{e.filter;const o=e.filter;o.targetId;const{count:l=0,unchangedNames:c}=o,f=new IE(l,c),m=o.targetId;r=new qm(m,f)}}return r}function OE(i,e){let r;if(e instanceof na)r={update:Up(i,e.key,e.value)};else if(e instanceof bm)r={delete:lh(i,e.key)};else if(e instanceof Pi)r={update:Up(i,e.key,e.data),updateMask:qE(e.fieldMask)};else{if(!(e instanceof EE))return ve();r={verify:lh(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(c,f){const m=f.transform;if(m instanceof bl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw ve()}(0,o))),e.precondition.isNone||(r.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:NE(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve()}(i,e.precondition)),r}function ME(i,e){return i&&i.length>0?(be(e!==void 0),i.map(r=>function(l,c){let f=l.updateTime?$n(l.updateTime):$n(c);return f.isEqual(we.min())&&(f=$n(c)),new yE(f,l.transformResults||[])}(r,e))):[]}function FE(i,e){return{documents:[Km(i,e.path)]}}function jE(i,e){const r={structuredQuery:{}},o=e.path;let l;e.collectionGroup!==null?(l=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=Km(i,l);const c=function(E){if(E.length!==0)return Xm(Hn.create(E,"and"))}(e.filters);c&&(r.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(S=>function(F){return{field:Is(F.field),direction:BE(F.dir)}}(S))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const m=oh(i,e.limit);return m!==null&&(r.structuredQuery.limit=m),e.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{_t:r,parent:l}}function UE(i){let e=DE(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){be(o===1);const S=r.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];r.where&&(c=function(N){const F=Ym(N);return F instanceof Hn&&Rm(F)?F.getFilters():[F]}(r.where));let f=[];r.orderBy&&(f=function(N){return N.map(F=>function(q){return new Bl(Ss(q.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(F))}(r.orderBy));let m=null;r.limit&&(m=function(N){let F;return F=typeof N=="object"?N.value:N,Kl(F)?null:F}(r.limit));let _=null;r.startAt&&(_=function(N){const F=!!N.before,B=N.values||[];return new zl(B,F)}(r.startAt));let E=null;return r.endAt&&(E=function(N){const F=!N.before,B=N.values||[];return new zl(B,F)}(r.endAt)),rE(e,l,f,c,m,"F",_,E)}function zE(i,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Ym(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Ss(r.unaryFilter.field);return pt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=Ss(r.unaryFilter.field);return pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ss(r.unaryFilter.field);return pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ss(r.unaryFilter.field);return pt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(r){return pt.create(Ss(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Hn.create(r.compositeFilter.filters.map(o=>Ym(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve()}}(r.compositeFilter.op))}(i):ve()}function BE(i){return PE[i]}function bE(i){return kE[i]}function $E(i){return xE[i]}function Is(i){return{fieldPath:i.canonicalString()}}function Ss(i){return Ct.fromServerFormat(i.fieldPath)}function Xm(i){return i instanceof pt?function(r){if(r.op==="=="){if(Ap(r.value))return{unaryFilter:{field:Is(r.field),op:"IS_NAN"}};if(Sp(r.value))return{unaryFilter:{field:Is(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Ap(r.value))return{unaryFilter:{field:Is(r.field),op:"IS_NOT_NAN"}};if(Sp(r.value))return{unaryFilter:{field:Is(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(r.field),op:bE(r.op),value:r.value}}}(i):i instanceof Hn?function(r){const o=r.getFilters().map(l=>Xm(l));return o.length===1?o[0]:{compositeFilter:{op:$E(r.op),filters:o}}}(i):ve()}function qE(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Jm(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,r,o,l,c=we.min(),f=we.min(),m=kt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.ct=e}}function WE(i){const e=UE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?sh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.un=new KE}addToCollectionParentIndex(e,r){return this.un.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(qr.min())}updateCollectionGroup(e,r,o){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class KE{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r]||new Pt(Xe.comparator),c=!l.has(o);return this.index[r]=l.add(o),c}has(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Pt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vs(0)}static kn(){return new Vs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.changes=new Fs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?K.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,r,o,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(o!==null&&qo(o.mutation,l,xn.empty(),mt.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,Ce()).next(()=>o))}getLocalViewOfDocuments(e,r,o=Ce()){const l=Ti();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,o).next(c=>{let f=Fo();return c.forEach((m,_)=>{f=f.insert(m,_.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const o=Ti();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,Ce()))}populateOverlays(e,r,o){const l=[];return o.forEach(c=>{r.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((f,m)=>{r.set(f,m)})})}computeViews(e,r,o,l){let c=pr();const f=$o(),m=function(){return $o()}();return r.forEach((_,E)=>{const S=o.get(E.key);l.has(E.key)&&(S===void 0||S.mutation instanceof Pi)?c=c.insert(E.key,E):S!==void 0?(f.set(E.key,S.mutation.getFieldMask()),qo(S.mutation,E,S.mutation.getFieldMask(),mt.now())):f.set(E.key,xn.empty())}),this.recalculateAndSaveOverlays(e,c).next(_=>(_.forEach((E,S)=>f.set(E,S)),r.forEach((E,S)=>{var N;return m.set(E,new YE(S,(N=f.get(E))!==null&&N!==void 0?N:null))}),m))}recalculateAndSaveOverlays(e,r){const o=$o();let l=new et((f,m)=>f-m),c=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const m of f)m.keys().forEach(_=>{const E=r.get(_);if(E===null)return;let S=o.get(_)||xn.empty();S=m.applyToLocalView(E,S),o.set(_,S);const N=(l.get(m.batchId)||Ce()).add(_);l=l.insert(m.batchId,N)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),E=_.key,S=_.value,N=Lm();S.forEach(F=>{if(!c.has(F)){const B=zm(r.get(F),o.get(F));B!==null&&N.set(F,B),c=c.add(F)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,N))}return K.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,l){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):iE(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,l):this.getDocumentsMatchingCollectionQuery(e,r,o,l)}getNextDocuments(e,r,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,l-c.size):K.resolve(Ti());let m=-1,_=c;return f.next(E=>K.forEach(E,(S,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),c.get(S)?K.resolve():this.remoteDocumentCache.getEntry(e,S).next(F=>{_=_.insert(S,F)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,_,E,Ce())).next(S=>({batchId:m,changes:Dm(S)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new me(r)).next(o=>{let l=Fo();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,o,l){const c=r.collectionGroup;let f=Fo();return this.indexManager.getCollectionParents(e,c).next(m=>K.forEach(m,_=>{const E=function(N,F){return new Gl(F,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(r,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,o,l).next(S=>{S.forEach((N,F)=>{f=f.insert(N,F)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,r,o,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,c,l))).next(f=>{c.forEach((_,E)=>{const S=E.getKey();f.get(S)===null&&(f=f.insert(S,Mt.newInvalidDocument(S)))});let m=Fo();return f.forEach((_,E)=>{const S=c.get(_);S!==void 0&&qo(S.mutation,E,xn.empty(),mt.now()),Xl(r,E)&&(m=m.insert(_,E))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:$n(l.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(l){return{name:l.name,query:WE(l.bundledQuery),readTime:$n(l.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.overlays=new et(me.comparator),this.Ir=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Ti();return K.forEach(r,l=>this.getOverlay(e,l).next(c=>{c!==null&&o.set(l,c)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((l,c)=>{this.ht(e,r,c)}),K.resolve()}removeOverlaysForBatchId(e,r,o){const l=this.Ir.get(o);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(o)),K.resolve()}getOverlaysForCollection(e,r,o){const l=Ti(),c=r.length+1,f=new me(r.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const _=m.getNext().value,E=_.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&_.largestBatchId>o&&l.set(_.getKey(),_)}return K.resolve(l)}getOverlaysForCollectionGroup(e,r,o,l){let c=new et((E,S)=>E-S);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let S=c.get(E.largestBatchId);S===null&&(S=Ti(),c=c.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const m=Ti(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,S)=>m.set(E,S)),!(m.size()>=l)););return K.resolve(m)}ht(e,r,o){const l=this.overlays.get(o.key);if(l!==null){const f=this.Ir.get(l.largestBatchId).delete(o.key);this.Ir.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new TE(r,o));let c=this.Ir.get(r);c===void 0&&(c=Ce(),this.Ir.set(r,c)),this.Ir.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.Tr=new Pt(wt.Er),this.dr=new Pt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new wt(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new wt(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new me(new Xe([])),o=new wt(r,e),l=new wt(r,e+1),c=[];return this.dr.forEachInRange([o,l],f=>{this.Vr(f),c.push(f.key)}),c}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new me(new Xe([])),o=new wt(r,e),l=new wt(r,e+1);let c=Ce();return this.dr.forEachInRange([o,l],f=>{c=c.add(f.key)}),c}containsKey(e){const r=new wt(e,0),o=this.Tr.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class wt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return me.comparator(e.key,r.key)||Me(e.wr,r.wr)}static Ar(e,r){return Me(e.wr,r.wr)||me.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Pt(wt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,l){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new wE(c,r,o,l);this.mutationQueue.push(f);for(const m of l)this.br=this.br.add(new wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return K.resolve(f)}lookupMutationBatch(e,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,l=this.vr(o),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new wt(r,0),l=new wt(r,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([o,l],f=>{const m=this.Dr(f.wr);c.push(m)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Pt(Me);return r.forEach(l=>{const c=new wt(l,0),f=new wt(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,f],m=>{o=o.add(m.wr)})}),K.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1;let c=o;me.isDocumentKey(c)||(c=c.child(""));const f=new wt(new me(c),0);let m=new Pt(Me);return this.br.forEachWhile(_=>{const E=_.key.path;return!!o.isPrefixOf(E)&&(E.length===l&&(m=m.add(_.wr)),!0)},f),K.resolve(this.Cr(m))}Cr(e){const r=[];return e.forEach(o=>{const l=this.Dr(o);l!==null&&r.push(l)}),r}removeMutationBatch(e,r){be(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.br;return K.forEach(r.mutations,l=>{const c=new wt(l.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new wt(r,0),l=this.br.firstAfterOrEqual(o);return K.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.Mr=e,this.docs=function(){return new et(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,l=this.docs.get(o),c=l?l.size:0,f=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return K.resolve(o?o.document.mutableCopy():Mt.newInvalidDocument(r))}getEntries(e,r){let o=pr();return r.forEach(l=>{const c=this.docs.get(l);o=o.insert(l,c?c.document.mutableCopy():Mt.newInvalidDocument(l))}),K.resolve(o)}getDocumentsMatchingQuery(e,r,o,l){let c=pr();const f=r.path,m=new me(f.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:E,value:{document:S}}=_.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||jv(Fv(S),o)<=0||(l.has(S.key)||Xl(r,S))&&(c=c.insert(S.key,S.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(e,r,o,l){ve()}Or(e,r){return K.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new r0(this)}getSize(e){return K.resolve(this.size)}}class r0 extends GE{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?r.push(this.cr.addEntry(e,l)):this.cr.removeEntry(o)}),K.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.persistence=e,this.Nr=new Fs(r=>Th(r),Ih),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kh,this.targetCount=0,this.kr=Vs.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,l)=>r(l)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Vs(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Kn(r),K.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,o){let l=0;const c=[];return this.Nr.forEach((f,m)=>{m.sequenceNumber<=r&&o.get(m.targetId)===null&&(this.Nr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return K.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),K.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach(f=>{c.push(l.markPotentiallyOrphaned(e,f))}),K.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return K.resolve(o)}containsKey(e,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,r){this.qr={},this.overlays={},this.Qr=new _h(0),this.Kr=!1,this.Kr=!0,this.$r=new e0,this.referenceDelegate=e(this),this.Ur=new i0(this),this.indexManager=new QE,this.remoteDocumentCache=function(l){return new n0(l)}(o=>this.referenceDelegate.Wr(o)),this.serializer=new HE(r),this.Gr=new JE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ZE,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new t0(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){le("MemoryPersistence","Starting transaction:",e);const l=new o0(this.Qr.next());return this.referenceDelegate.zr(),o(l).next(c=>this.referenceDelegate.jr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Hr(e,r){return K.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class o0 extends zv{constructor(e){super(),this.currentSequenceNumber=e}}class xh{constructor(e){this.persistence=e,this.Jr=new kh,this.Yr=null}static Zr(e){return new xh(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),K.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(l=>this.Xr.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(c=>this.Xr.add(c.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,o=>{const l=me.fromPath(o);return this.ei(e,l).next(c=>{c||r.removeEntry(l,we.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,r,o,l){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=l}static Wi(e,r){let o=Ce(),l=Ce();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vh(e,r.fromCache,o,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return h_()?8:Bv(u_())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,l){const c={result:null};return this.Yi(e,r).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Zi(e,r,l,o).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new a0;return this.Xi(e,r,f).next(m=>{if(c.result=m,this.zi)return this.es(e,r,f,m.size)})}).next(()=>c.result)}es(e,r,o,l){return o.documentReadCount<this.ji?(Oo()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ts(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Oo()<=Le.DEBUG&&le("QueryEngine","Query:",Ts(r),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.Hi*l?(Oo()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ts(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(r))):K.resolve())}Yi(e,r){if(kp(r))return K.resolve(null);let o=bn(r);return this.indexManager.getIndexType(e,o).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=sh(r,null,"F"),o=bn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const f=Ce(...c);return this.Ji.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,o).next(_=>{const E=this.ts(r,m);return this.ns(r,E,f,_.readTime)?this.Yi(e,sh(r,null,"F")):this.rs(e,E,r,_)}))})))}Zi(e,r,o,l){return kp(r)||l.isEqual(we.min())?K.resolve(null):this.Ji.getDocuments(e,o).next(c=>{const f=this.ts(r,c);return this.ns(r,f,o,l)?K.resolve(null):(Oo()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ts(r)),this.rs(e,f,r,Mv(l,-1)).next(m=>m))})}ts(e,r){let o=new Pt(Vm(e));return r.forEach((l,c)=>{Xl(e,c)&&(o=o.add(c))}),o}ns(e,r,o,l){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Xi(e,r,o){return Oo()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ts(r)),this.Ji.getDocumentsMatchingQuery(e,r,qr.min(),o)}rs(e,r,o,l){return this.Ji.getDocumentsMatchingQuery(e,o,l).next(c=>(r.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,r,o,l){this.persistence=e,this.ss=r,this.serializer=l,this.os=new et(Me),this._s=new Fs(c=>Th(c),Ih),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function c0(i,e,r,o){return new u0(i,e,r,o)}async function Zm(i,e){const r=Te(i);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let l;return r.mutationQueue.getAllMutationBatches(o).next(c=>(l=c,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const f=[],m=[];let _=Ce();for(const E of l){f.push(E.batchId);for(const S of E.mutations)_=_.add(S.key)}for(const E of c){m.push(E.batchId);for(const S of E.mutations)_=_.add(S.key)}return r.localDocuments.getDocuments(o,_).next(E=>({hs:E,removedBatchIds:f,addedBatchIds:m}))})})}function h0(i,e){const r=Te(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),c=r.cs.newChangeBuffer({trackRemovals:!0});return function(m,_,E,S){const N=E.batch,F=N.keys();let B=K.resolve();return F.forEach(q=>{B=B.next(()=>S.getEntry(_,q)).next(X=>{const $=E.docVersions.get(q);be($!==null),X.version.compareTo($)<0&&(N.applyToRemoteDocument(X,E),X.isValidDocument()&&(X.setReadTime(E.commitVersion),S.addEntry(X)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(_,N))}(r,o,e,c).next(()=>c.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let _=Ce();for(let E=0;E<m.mutationResults.length;++E)m.mutationResults[E].transformResults.length>0&&(_=_.add(m.batch.mutations[E].key));return _}(e))).next(()=>r.localDocuments.getDocuments(o,l))})}function eg(i){const e=Te(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function f0(i,e){const r=Te(i),o=e.snapshotVersion;let l=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=r.cs.newChangeBuffer({trackRemovals:!0});l=r.os;const m=[];e.targetChanges.forEach((S,N)=>{const F=l.get(N);if(!F)return;m.push(r.Ur.removeMatchingKeys(c,S.removedDocuments,N).next(()=>r.Ur.addMatchingKeys(c,S.addedDocuments,N)));let B=F.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(N)!==null?B=B.withResumeToken(kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):S.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(S.resumeToken,o)),l=l.insert(N,B),function(X,$,ge){return X.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0}(F,B,S)&&m.push(r.Ur.updateTargetData(c,B))});let _=pr(),E=Ce();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(c,S))}),m.push(d0(c,f,e.documentUpdates).next(S=>{_=S.Ps,E=S.Is})),!o.isEqual(we.min())){const S=r.Ur.getLastRemoteSnapshotVersion(c).next(N=>r.Ur.setTargetsMetadata(c,c.currentSequenceNumber,o));m.push(S)}return K.waitFor(m).next(()=>f.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,_,E)).next(()=>_)}).then(c=>(r.os=l,c))}function d0(i,e,r){let o=Ce(),l=Ce();return r.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let f=pr();return r.forEach((m,_)=>{const E=c.get(m);_.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(m)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(m,_.readTime),f=f.insert(m,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(_),f=f.insert(m,_)):le("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",_.version)}),{Ps:f,Is:l}})}function p0(i,e){const r=Te(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function m0(i,e){const r=Te(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.Ur.getTargetData(o,e).next(c=>c?(l=c,K.resolve(l)):r.Ur.allocateTargetId(o).next(f=>(l=new zr(e,f,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.os.get(o.targetId);return(l===null||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}async function ch(i,e,r){const o=Te(i),l=o.os.get(e),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,f=>o.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!ta(f))throw f;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.os=o.os.remove(e),o._s.delete(l.target)}function zp(i,e,r){const o=Te(i);let l=we.min(),c=Ce();return o.persistence.runTransaction("Execute query","readwrite",f=>function(_,E,S){const N=Te(_),F=N._s.get(S);return F!==void 0?K.resolve(N.os.get(F)):N.Ur.getTargetData(E,S)}(o,f,bn(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(f,m.targetId).next(_=>{c=_})}).next(()=>o.ss.getDocumentsMatchingQuery(f,e,r?l:we.min(),r?c:Ce())).next(m=>(g0(o,oE(e),m),{documents:m,Ts:c})))}function g0(i,e,r){let o=i.us.get(e)||we.min();r.forEach((l,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.us.set(e,o)}class Bp{constructor(){this.activeTargetIds=fE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y0{constructor(){this.so=new Bp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Bp,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=null;function $c(){return Al===null?Al=function(){return 268435456+Math.round(2147483648*Math.random())}():Al++,"0x"+Al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class w0 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${l}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get Fo(){return!1}Mo(r,o,l,c,f){const m=$c(),_=this.xo(r,o.toUriEncodedString());le("RestConnection",`Sending RPC '${r}' ${m}:`,_,l);const E={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(E,c,f),this.No(r,_,E,l).then(S=>(le("RestConnection",`Received RPC '${r}' ${m}: `,S),S),S=>{throw Cs("RestConnection",`RPC '${r}' ${m} failed with error: `,S,"url: ",_,"request:",l),S})}Lo(r,o,l,c,f,m){return this.Mo(r,o,l,c,f)}Oo(r,o,l){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Os}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,f)=>r[f]=c),l&&l.headers.forEach((c,f)=>r[f]=c)}xo(r,o){const l=v0[r];return`${this.Do}/v1/${o}:${l}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,l){const c=$c();return new Promise((f,m)=>{const _=new pm;_.setWithCredentials(!0),_.listenOnce(mm.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case xl.NO_ERROR:const S=_.getResponseJson();le(Lt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),f(S);break;case xl.TIMEOUT:le(Lt,`RPC '${e}' ${c} timed out`),m(new he(Q.DEADLINE_EXCEEDED,"Request time out"));break;case xl.HTTP_ERROR:const N=_.getStatus();if(le(Lt,`RPC '${e}' ${c} failed with status:`,N,"response text:",_.getResponseText()),N>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F==null?void 0:F.error;if(B&&B.status&&B.message){const q=function($){const ge=$.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ge)>=0?ge:Q.UNKNOWN}(B.status);m(new he(q,B.message))}else m(new he(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new he(Q.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{le(Lt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(l);le(Lt,`RPC '${e}' ${c} sending request:`,l),_.send(r,"POST",E,o,15)})}Bo(e,r,o){const l=$c(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_m(),m=ym(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Oo(_.initMessageHeaders,r,o),_.encodeInitMessageHeaders=!0;const S=c.join("");le(Lt,`Creating RPC '${e}' stream ${l}: ${S}`,_);const N=f.createWebChannel(S,_);let F=!1,B=!1;const q=new E0({Io:$=>{B?le(Lt,`Not sending because RPC '${e}' stream ${l} is closed:`,$):(F||(le(Lt,`Opening RPC '${e}' stream ${l} transport.`),N.open(),F=!0),le(Lt,`RPC '${e}' stream ${l} sending:`,$),N.send($))},To:()=>N.close()}),X=($,ge,ye)=>{$.listen(ge,J=>{try{ye(J)}catch(ce){setTimeout(()=>{throw ce},0)}})};return X(N,Mo.EventType.OPEN,()=>{B||(le(Lt,`RPC '${e}' stream ${l} transport opened.`),q.yo())}),X(N,Mo.EventType.CLOSE,()=>{B||(B=!0,le(Lt,`RPC '${e}' stream ${l} transport closed`),q.So())}),X(N,Mo.EventType.ERROR,$=>{B||(B=!0,Cs(Lt,`RPC '${e}' stream ${l} transport errored:`,$),q.So(new he(Q.UNAVAILABLE,"The operation could not be completed")))}),X(N,Mo.EventType.MESSAGE,$=>{var ge;if(!B){const ye=$.data[0];be(!!ye);const J=ye,ce=J.error||((ge=J[0])===null||ge===void 0?void 0:ge.error);if(ce){le(Lt,`RPC '${e}' stream ${l} received error:`,ce);const Fe=ce.status;let Ie=function(A){const C=at[A];if(C!==void 0)return $m(C)}(Fe),x=ce.message;Ie===void 0&&(Ie=Q.INTERNAL,x="Unknown error status: "+Fe+" with message "+ce.message),B=!0,q.So(new he(Ie,x)),N.close()}else le(Lt,`RPC '${e}' stream ${l} received:`,ye),q.bo(ye)}}),X(m,gm.STAT_EVENT,$=>{$.stat===eh.PROXY?le(Lt,`RPC '${e}' stream ${l} detected buffering proxy`):$.stat===eh.NOPROXY&&le(Lt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{q.wo()},0),q}}function qc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(i){return new VE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,r,o=1e3,l=1.5,c=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=l,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),l=Math.max(0,r-o);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,r,o,l,c,f,m,_){this.ui=e,this.Ho=o,this.Jo=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tg(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Q.RESOURCE_EXHAUSTED?(dr(r.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Yo===r&&this.P_(o,l)},o=>{e(()=>{const l=new he(Q.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(l)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(l=>{o(()=>this.I_(l))}),this.stream.onMessage(l=>{o(()=>++this.e_==1?this.E_(l):this.onNext(l))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T0 extends ng{constructor(e,r,o,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,f),this.serializer=c}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=LE(this.serializer,e),o=function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?$n(f.readTime):we.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=uh(this.serializer),r.addTarget=function(c,f){let m;const _=f.target;if(m=ih(_)?{documents:FE(c,_)}:{query:jE(c,_)._t},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Wm(c,f.resumeToken);const E=oh(c,f.expectedCount);E!==null&&(m.expectedCount=E)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=ql(c,f.snapshotVersion.toTimestamp());const E=oh(c,f.expectedCount);E!==null&&(m.expectedCount=E)}return m}(this.serializer,e);const o=zE(this.serializer,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=uh(this.serializer),r.removeTarget=e,this.a_(r)}}class I0 extends ng{constructor(e,r,o,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,l,f),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=ME(e.writeResults,e.commitTime),o=$n(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=uh(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>OE(this.serializer,o))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends class{}{constructor(e,r,o,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Mo(e,ah(r,o),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Q.UNKNOWN,c.toString())})}Lo(e,r,o,l,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Lo(e,ah(r,o),l,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(Q.UNKNOWN,f.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class A0{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(dr(r),this.D_=!1):le("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,r,o,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(f=>{o.enqueueAndForget(async()=>{ki(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(_){const E=Te(_);E.L_.add(4),await ia(E),E.q_.set("Unknown"),E.L_.delete(4),await nu(E)}(this))})}),this.q_=new A0(o,l)}}async function nu(i){if(ki(i))for(const e of i.B_)await e(!0)}async function ia(i){for(const e of i.B_)await e(!1)}function rg(i,e){const r=Te(i);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Oh(r)?Lh(r):js(r).r_()&&Dh(r,e))}function Nh(i,e){const r=Te(i),o=js(r);r.N_.delete(e),o.r_()&&ig(r,e),r.N_.size===0&&(o.r_()?o.o_():ki(r)&&r.q_.set("Unknown"))}function Dh(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}js(i).A_(e)}function ig(i,e){i.Q_.xe(e),js(i).R_(e)}function Lh(i){i.Q_=new CE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),js(i).start(),i.q_.v_()}function Oh(i){return ki(i)&&!js(i).n_()&&i.N_.size>0}function ki(i){return Te(i).L_.size===0}function sg(i){i.Q_=void 0}async function C0(i){i.q_.set("Online")}async function P0(i){i.N_.forEach((e,r)=>{Dh(i,e)})}async function k0(i,e){sg(i),Oh(i)?(i.q_.M_(e),Lh(i)):i.q_.set("Unknown")}async function x0(i,e,r){if(i.q_.set("Online"),e instanceof Hm&&e.state===2&&e.cause)try{await async function(l,c){const f=c.cause;for(const m of c.targetIds)l.N_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.N_.delete(m),l.Q_.removeTarget(m))}(i,e)}catch(o){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Hl(i,o)}else if(e instanceof Dl?i.Q_.Ke(e):e instanceof qm?i.Q_.He(e):i.Q_.We(e),!r.isEqual(we.min()))try{const o=await eg(i.localStore);r.compareTo(o)>=0&&await function(c,f){const m=c.Q_.rt(f);return m.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.N_.get(E);S&&c.N_.set(E,S.withResumeToken(_.resumeToken,f))}}),m.targetMismatches.forEach((_,E)=>{const S=c.N_.get(_);if(!S)return;c.N_.set(_,S.withResumeToken(kt.EMPTY_BYTE_STRING,S.snapshotVersion)),ig(c,_);const N=new zr(S.target,_,E,S.sequenceNumber);Dh(c,N)}),c.remoteSyncer.applyRemoteEvent(m)}(i,r)}catch(o){le("RemoteStore","Failed to raise snapshot:",o),await Hl(i,o)}}async function Hl(i,e,r){if(!ta(e))throw e;i.L_.add(1),await ia(i),i.q_.set("Offline"),r||(r=()=>eg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await r(),i.L_.delete(1),await nu(i)})}function og(i,e){return e().catch(r=>Hl(i,r,e))}async function ru(i){const e=Te(i),r=Wr(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;V0(e);)try{const l=await p0(e.localStore,o);if(l===null){e.O_.length===0&&r.o_();break}o=l.batchId,N0(e,l)}catch(l){await Hl(e,l)}ag(e)&&lg(e)}function V0(i){return ki(i)&&i.O_.length<10}function N0(i,e){i.O_.push(e);const r=Wr(i);r.r_()&&r.V_&&r.m_(e.mutations)}function ag(i){return ki(i)&&!Wr(i).n_()&&i.O_.length>0}function lg(i){Wr(i).start()}async function D0(i){Wr(i).p_()}async function L0(i){const e=Wr(i);for(const r of i.O_)e.m_(r.mutations)}async function O0(i,e,r){const o=i.O_.shift(),l=Rh.from(o,e,r);await og(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await ru(i)}async function M0(i,e){e&&Wr(i).V_&&await async function(o,l){if(function(f){return SE(f)&&f!==Q.ABORTED}(l.code)){const c=o.O_.shift();Wr(o).s_(),await og(o,()=>o.remoteSyncer.rejectFailedWrite(c.batchId,l)),await ru(o)}}(i,e),ag(i)&&lg(i)}async function $p(i,e){const r=Te(i);r.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const o=ki(r);r.L_.add(3),await ia(r),o&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await nu(r)}async function F0(i,e){const r=Te(i);e?(r.L_.delete(2),await nu(r)):e||(r.L_.add(2),await ia(r),r.q_.set("Unknown"))}function js(i){return i.K_||(i.K_=function(r,o,l){const c=Te(r);return c.w_(),new T0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Eo:C0.bind(null,i),Ro:P0.bind(null,i),mo:k0.bind(null,i),d_:x0.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),Oh(i)?Lh(i):i.q_.set("Unknown")):(await i.K_.stop(),sg(i))})),i.K_}function Wr(i){return i.U_||(i.U_=function(r,o,l){const c=Te(r);return c.w_(),new I0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:D0.bind(null,i),mo:M0.bind(null,i),f_:L0.bind(null,i),g_:O0.bind(null,i)}),i.B_.push(async e=>{e?(i.U_.s_(),await ru(i)):(await i.U_.stop(),i.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))})),i.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,r,o,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=c,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,l,c){const f=Date.now()+o,m=new Mh(e,r,f,l,c);return m.start(o),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fh(i,e){if(dr("AsyncQueue",`${e}: ${i}`),ta(i))return new he(Q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.comparator=e?(r,o)=>e(r,o)||me.comparator(r.key,o.key):(r,o)=>me.comparator(r.key,o.key),this.keyedMap=Fo(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new Rs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new Rs;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this.W_=new et(me.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?e.type!==0&&o.type===3?this.W_=this.W_.insert(r,e):e.type===3&&o.type!==1?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.W_=this.W_.remove(r):e.type===1&&o.type===2?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Ns{constructor(e,r,o,l,c,f,m,_,E){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,r,o,l,c){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new Ns(e,r,Rs.emptySet(r),f,o,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class U0{constructor(){this.queries=Hp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,o){const l=Te(r),c=l.queries;l.queries=Hp(),c.forEach((f,m)=>{for(const _ of m.j_)_.onError(o)})})(this,new he(Q.ABORTED,"Firestore shutting down"))}}function Hp(){return new Fs(i=>xm(i),Yl)}async function ug(i,e){const r=Te(i);let o=3;const l=e.query;let c=r.queries.get(l);c?!c.H_()&&e.J_()&&(o=2):(c=new j0,o=e.J_()?0:1);try{switch(o){case 0:c.z_=await r.onListen(l,!0);break;case 1:c.z_=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(f){const m=Fh(f,`Initialization of query '${Ts(e.query)}' failed`);return void e.onError(m)}r.queries.set(l,c),c.j_.push(e),e.Z_(r.onlineState),c.z_&&e.X_(c.z_)&&jh(r)}async function cg(i,e){const r=Te(i),o=e.query;let l=3;const c=r.queries.get(o);if(c){const f=c.j_.indexOf(e);f>=0&&(c.j_.splice(f,1),c.j_.length===0?l=e.J_()?0:1:!c.H_()&&e.J_()&&(l=2))}switch(l){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function z0(i,e){const r=Te(i);let o=!1;for(const l of e){const c=l.query,f=r.queries.get(c);if(f){for(const m of f.j_)m.X_(l)&&(o=!0);f.z_=l}}o&&jh(r)}function B0(i,e,r){const o=Te(i),l=o.queries.get(e);if(l)for(const c of l.j_)c.onError(r);o.queries.delete(e)}function jh(i){i.Y_.forEach(e=>{e.next()})}var hh,Wp;(Wp=hh||(hh={})).ea="default",Wp.Cache="cache";class hg{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)l.type!==3&&o.push(l);e=new Ns(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const o=r!=="Offline";return(!this.options._a||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.key=e}}class dg{constructor(e){this.key=e}}class b0{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=Vm(e),this.Ra=new Rs(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new qp,l=r?r.Ra:this.Ra;let c=r?r.mutatedKeys:this.mutatedKeys,f=l,m=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((S,N)=>{const F=l.get(S),B=Xl(this.query,N)?N:null,q=!!F&&this.mutatedKeys.has(F.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let $=!1;F&&B?F.data.isEqual(B.data)?q!==X&&(o.track({type:3,doc:B}),$=!0):this.ga(F,B)||(o.track({type:2,doc:B}),$=!0,(_&&this.Aa(B,_)>0||E&&this.Aa(B,E)<0)&&(m=!0)):!F&&B?(o.track({type:0,doc:B}),$=!0):F&&!B&&(o.track({type:1,doc:F}),$=!0,(_||E)&&(m=!0)),$&&(B?(f=f.add(B),c=X?c.add(S):c.delete(S)):(f=f.delete(S),c=c.delete(S)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),c=c.delete(S.key),o.track({type:1,doc:S})}return{Ra:f,fa:o,ns:m,mutatedKeys:c}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,l){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort((S,N)=>function(B,q){const X=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return X(B)-X(q)}(S.type,N.type)||this.Aa(S.doc,N.doc)),this.pa(o),l=l!=null&&l;const m=r&&!l?this.ya():[],_=this.da.size===0&&this.current&&!l?1:0,E=_!==this.Ea;return this.Ea=_,f.length!==0||E?{snapshot:new Ns(this.query,e.Ra,c,f,e.mutatedKeys,_===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new dg(o))}),this.da.forEach(o=>{e.has(o)||r.push(new fg(o))}),r}ba(e){this.Ta=e.Ts,this.da=Ce();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ns.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class $0{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class q0{constructor(e){this.key=e,this.va=!1}}class H0{constructor(e,r,o,l,c,f){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new Fs(m=>xm(m),Yl),this.Ma=new Map,this.xa=new Set,this.Oa=new et(me.comparator),this.Na=new Map,this.La=new kh,this.Ba={},this.ka=new Map,this.qa=Vs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function W0(i,e,r=!0){const o=vg(i);let l;const c=o.Fa.get(e);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Da()):l=await pg(o,e,r,!0),l}async function Q0(i,e){const r=vg(i);await pg(r,e,!0,!1)}async function pg(i,e,r,o){const l=await m0(i.localStore,bn(e)),c=l.targetId,f=i.sharedClientState.addLocalQueryTarget(c,r);let m;return o&&(m=await K0(i,e,c,f==="current",l.resumeToken)),i.isPrimaryClient&&r&&rg(i.remoteStore,l),m}async function K0(i,e,r,o,l){i.Ka=(N,F,B)=>async function(X,$,ge,ye){let J=$.view.ma(ge);J.ns&&(J=await zp(X.localStore,$.query,!1).then(({documents:x})=>$.view.ma(x,J)));const ce=ye&&ye.targetChanges.get($.targetId),Fe=ye&&ye.targetMismatches.get($.targetId)!=null,Ie=$.view.applyChanges(J,X.isPrimaryClient,ce,Fe);return Kp(X,$.targetId,Ie.wa),Ie.snapshot}(i,N,F,B);const c=await zp(i.localStore,e,!0),f=new b0(e,c.Ts),m=f.ma(c.documents),_=ra.createSynthesizedTargetChangeForCurrentChange(r,o&&i.onlineState!=="Offline",l),E=f.applyChanges(m,i.isPrimaryClient,_);Kp(i,r,E.wa);const S=new $0(e,r,f);return i.Fa.set(e,S),i.Ma.has(r)?i.Ma.get(r).push(e):i.Ma.set(r,[e]),E.snapshot}async function G0(i,e,r){const o=Te(i),l=o.Fa.get(e),c=o.Ma.get(l.targetId);if(c.length>1)return o.Ma.set(l.targetId,c.filter(f=>!Yl(f,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||await ch(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),r&&Nh(o.remoteStore,l.targetId),fh(o,l.targetId)}).catch(ea)):(fh(o,l.targetId),await ch(o.localStore,l.targetId,!0))}async function Y0(i,e){const r=Te(i),o=r.Fa.get(e),l=r.Ma.get(o.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Nh(r.remoteStore,o.targetId))}async function X0(i,e,r){const o=iw(i);try{const l=await function(f,m){const _=Te(f),E=mt.now(),S=m.reduce((B,q)=>B.add(q.key),Ce());let N,F;return _.persistence.runTransaction("Locally write mutations","readwrite",B=>{let q=pr(),X=Ce();return _.cs.getEntries(B,S).next($=>{q=$,q.forEach((ge,ye)=>{ye.isValidDocument()||(X=X.add(ge))})}).next(()=>_.localDocuments.getOverlayedDocuments(B,q)).next($=>{N=$;const ge=[];for(const ye of m){const J=vE(ye,N.get(ye.key).overlayedDocument);J!=null&&ge.push(new Pi(ye.key,J,Im(J.value.mapValue),hr.exists(!0)))}return _.mutationQueue.addMutationBatch(B,E,ge,m)}).next($=>{F=$;const ge=$.applyToLocalDocumentSet(N,X);return _.documentOverlayCache.saveOverlays(B,$.batchId,ge)})}).then(()=>({batchId:F.batchId,changes:Dm(N)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,m,_){let E=f.Ba[f.currentUser.toKey()];E||(E=new et(Me)),E=E.insert(m,_),f.Ba[f.currentUser.toKey()]=E}(o,l.batchId,r),await sa(o,l.changes),await ru(o.remoteStore)}catch(l){const c=Fh(l,"Failed to persist write");r.reject(c)}}async function mg(i,e){const r=Te(i);try{const o=await f0(r.localStore,e);e.targetChanges.forEach((l,c)=>{const f=r.Na.get(c);f&&(be(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.va=!0:l.modifiedDocuments.size>0?be(f.va):l.removedDocuments.size>0&&(be(f.va),f.va=!1))}),await sa(r,o,e)}catch(o){await ea(o)}}function Qp(i,e,r){const o=Te(i);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const l=[];o.Fa.forEach((c,f)=>{const m=f.view.Z_(e);m.snapshot&&l.push(m.snapshot)}),function(f,m){const _=Te(f);_.onlineState=m;let E=!1;_.queries.forEach((S,N)=>{for(const F of N.j_)F.Z_(m)&&(E=!0)}),E&&jh(_)}(o.eventManager,e),l.length&&o.Ca.d_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function J0(i,e,r){const o=Te(i);o.sharedClientState.updateQueryState(e,"rejected",r);const l=o.Na.get(e),c=l&&l.key;if(c){let f=new et(me.comparator);f=f.insert(c,Mt.newNoDocument(c,we.min()));const m=Ce().add(c),_=new eu(we.min(),new Map,new et(Me),f,m);await mg(o,_),o.Oa=o.Oa.remove(c),o.Na.delete(e),Uh(o)}else await ch(o.localStore,e,!1).then(()=>fh(o,e,r)).catch(ea)}async function Z0(i,e){const r=Te(i),o=e.batch.batchId;try{const l=await h0(r.localStore,e);yg(r,o,null),gg(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await sa(r,l)}catch(l){await ea(l)}}async function ew(i,e,r){const o=Te(i);try{const l=await function(f,m){const _=Te(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let S;return _.mutationQueue.lookupMutationBatch(E,m).next(N=>(be(N!==null),S=N.keys(),_.mutationQueue.removeMutationBatch(E,N))).next(()=>_.mutationQueue.performConsistencyCheck(E)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(E,S,m)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,S)).next(()=>_.localDocuments.getDocuments(E,S))})}(o.localStore,e);yg(o,e,r),gg(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),await sa(o,l)}catch(l){await ea(l)}}function gg(i,e){(i.ka.get(e)||[]).forEach(r=>{r.resolve()}),i.ka.delete(e)}function yg(i,e,r){const o=Te(i);let l=o.Ba[o.currentUser.toKey()];if(l){const c=l.get(e);c&&(r?c.reject(r):c.resolve(),l=l.remove(e)),o.Ba[o.currentUser.toKey()]=l}}function fh(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Ma.get(e))i.Fa.delete(o),r&&i.Ca.$a(o,r);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(o=>{i.La.containsKey(o)||_g(i,o)})}function _g(i,e){i.xa.delete(e.path.canonicalString());const r=i.Oa.get(e);r!==null&&(Nh(i.remoteStore,r),i.Oa=i.Oa.remove(e),i.Na.delete(r),Uh(i))}function Kp(i,e,r){for(const o of r)o instanceof fg?(i.La.addReference(o.key,e),tw(i,o)):o instanceof dg?(le("SyncEngine","Document no longer in limbo: "+o.key),i.La.removeReference(o.key,e),i.La.containsKey(o.key)||_g(i,o.key)):ve()}function tw(i,e){const r=e.key,o=r.path.canonicalString();i.Oa.get(r)||i.xa.has(o)||(le("SyncEngine","New document in limbo: "+r),i.xa.add(o),Uh(i))}function Uh(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const r=new me(Xe.fromString(e)),o=i.qa.next();i.Na.set(o,new q0(r)),i.Oa=i.Oa.insert(r,o),rg(i.remoteStore,new zr(bn(Sh(r.path)),o,"TargetPurposeLimboResolution",_h.oe))}}async function sa(i,e,r){const o=Te(i),l=[],c=[],f=[];o.Fa.isEmpty()||(o.Fa.forEach((m,_)=>{f.push(o.Ka(_,e,r).then(E=>{var S;if((E||r)&&o.isPrimaryClient){const N=E?!E.fromCache:(S=r==null?void 0:r.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;o.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(E){l.push(E);const N=Vh.Wi(_.targetId,E);c.push(N)}}))}),await Promise.all(f),o.Ca.d_(l),await async function(_,E){const S=Te(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>K.forEach(E,F=>K.forEach(F.$i,B=>S.persistence.referenceDelegate.addReference(N,F.targetId,B)).next(()=>K.forEach(F.Ui,B=>S.persistence.referenceDelegate.removeReference(N,F.targetId,B)))))}catch(N){if(!ta(N))throw N;le("LocalStore","Failed to update sequence numbers: "+N)}for(const N of E){const F=N.targetId;if(!N.fromCache){const B=S.os.get(F),q=B.snapshotVersion,X=B.withLastLimboFreeSnapshotVersion(q);S.os=S.os.insert(F,X)}}}(o.localStore,c))}async function nw(i,e){const r=Te(i);if(!r.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const o=await Zm(r.localStore,e);r.currentUser=e,function(c,f){c.ka.forEach(m=>{m.forEach(_=>{_.reject(new he(Q.CANCELLED,f))})}),c.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await sa(r,o.hs)}}function rw(i,e){const r=Te(i),o=r.Na.get(e);if(o&&o.va)return Ce().add(o.key);{let l=Ce();const c=r.Ma.get(e);if(!c)return l;for(const f of c){const m=r.Fa.get(f);l=l.unionWith(m.view.Va)}return l}}function vg(i){const e=Te(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J0.bind(null,e),e.Ca.d_=z0.bind(null,e.eventManager),e.Ca.$a=B0.bind(null,e.eventManager),e}function iw(i){const e=Te(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ew.bind(null,e),e}class Wl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return c0(this.persistence,new l0,e.initialUser,this.serializer)}Ga(e){return new s0(xh.Zr,this.serializer)}Wa(e){return new y0}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wl.provider={build:()=>new Wl};class dh{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Qp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=nw.bind(null,this.syncEngine),await F0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U0}()}createDatastore(e){const r=tu(e.databaseInfo.databaseId),o=function(c){return new w0(c)}(e.databaseInfo);return function(c,f,m,_){return new S0(c,f,m,_)}(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return function(o,l,c,f,m){return new R0(o,l,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,r=>Qp(this.syncEngine,r,0),function(){return bp.D()?new bp:new _0}())}createSyncEngine(e,r){return function(l,c,f,m,_,E,S){const N=new H0(l,c,f,m,_,E);return S&&(N.Qa=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(l){const c=Te(l);le("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await ia(c),c.k_.shutdown(),c.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}dh.provider={build:()=>new dh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,r,o,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=Ot.UNAUTHENTICATED,this.clientId=Em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async f=>{le("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(o,f=>(le("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=Fh(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Hc(i,e){i.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(async l=>{o.isEqual(l)||(await Zm(e.localStore,l),o=l)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Gp(i,e){i.asyncQueue.verifyOperationInProgress();const r=await ow(i);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(o=>$p(e.remoteStore,o)),i.setAppCheckTokenChangeListener((o,l)=>$p(e.remoteStore,l)),i._onlineComponents=e}async function ow(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hc(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;Cs("Error using user provided cache. Falling back to memory cache: "+r),await Hc(i,new Wl)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Hc(i,new Wl);return i._offlineComponents}async function wg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await Gp(i,i._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await Gp(i,new dh))),i._onlineComponents}function aw(i){return wg(i).then(e=>e.syncEngine)}async function Tg(i){const e=await wg(i),r=e.eventManager;return r.onListen=W0.bind(null,e.syncEngine),r.onUnlisten=G0.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Q0.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Y0.bind(null,e.syncEngine),r}function lw(i,e,r={}){const o=new cr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,_,E){const S=new Eg({next:F=>{S.Za(),f.enqueueAndForget(()=>cg(c,N));const B=F.docs.has(m);!B&&F.fromCache?E.reject(new he(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&F.fromCache&&_&&_.source==="server"?E.reject(new he(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(F)},error:F=>E.reject(F)}),N=new hg(Sh(m.path),S,{includeMetadataChanges:!0,_a:!0});return ug(c,N)}(await Tg(i),i.asyncQueue,e,r,o)),o.promise}function uw(i,e,r={}){const o=new cr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,_,E){const S=new Eg({next:F=>{S.Za(),f.enqueueAndForget(()=>cg(c,N)),F.fromCache&&_.source==="server"?E.reject(new he(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(F)},error:F=>E.reject(F)}),N=new hg(m,S,{includeMetadataChanges:!0,_a:!0});return ug(c,N)}(await Tg(i),i.asyncQueue,e,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(i,e,r){if(!r)throw new he(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cw(i,e,r,o){if(e===!0&&o===!0)throw new he(Q.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Xp(i){if(!me.isDocumentKey(i))throw new he(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Jp(i){if(me.isDocumentKey(i))throw new he(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function Ci(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=zh(i);throw new he(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){var r,o;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ig((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,r,o,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zp(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new Cv;switch(o.type){case"firstParty":return new Vv(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new he(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Yp.get(r);o&&(le("ComponentProvider","Removing Datastore"),Yp.delete(r),o.terminate())}(this),Promise.resolve()}}function hw(i,e,r,o={}){var l;const c=(i=Ci(i,iu))._getSettings(),f=`${e}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),o.mockUserToken){let m,_;if(typeof o.mockUserToken=="string")m=o.mockUserToken,_=Ot.MOCK_USER;else{m=l_(o.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const E=o.mockUserToken.sub||o.mockUserToken.user_id;if(!E)throw new he(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ot(E)}i._authCredentials=new Pv(new vm(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new su(this.firestore,e,this._query)}}class nn{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class $r extends su{constructor(e,r,o){super(e,r,Sh(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new me(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function fw(i,e,...r){if(i=Ho(i),Sg("collection","path",e),i instanceof iu){const o=Xe.fromString(e,...r);return Jp(o),new $r(i,null,o)}{if(!(i instanceof nn||i instanceof $r))throw new he(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xe.fromString(e,...r));return Jp(o),new $r(i.firestore,null,o)}}function Uo(i,e,...r){if(i=Ho(i),arguments.length===1&&(e=Em.newId()),Sg("doc","path",e),i instanceof iu){const o=Xe.fromString(e,...r);return Xp(o),new nn(i,null,new me(o))}{if(!(i instanceof nn||i instanceof $r))throw new he(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xe.fromString(e,...r));return Xp(o),new nn(i.firestore,i instanceof $r?i.converter:null,new me(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tg(this,"async_queue_retry"),this.Vu=()=>{const o=qc();o&&le("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=qc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=qc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new cr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ta(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{this.Eu=o,this.du=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(o);throw dr("INTERNAL UNHANDLED ERROR: ",l),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const l=Mh.createAndSchedule(this,e,r,o,c=>this.yu(c));return this.Tu.push(l),l}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class ou extends iu{constructor(e,r,o,l){super(e,r,o,l),this.type="firestore",this._queue=new em,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new em(e),this._firestoreClient=void 0,await e}}}function Ag(i,e){const r=typeof i=="object"?i:yv(),o=typeof i=="string"?i:"(default)",l=dv(r,"firestore").getImmediate({identifier:o});if(!l._initialized){const c=o_("firestore");c&&hw(l,...c)}return l}function Bh(i){if(i._terminated)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||dw(i),i._firestoreClient}function dw(i){var e,r,o;const l=i._freezeSettings(),c=function(m,_,E,S){return new qv(m,_,E,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Ig(S.experimentalLongPollingOptions),S.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=l.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new sw(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const _=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(_),_online:_}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(kt.fromBase64String(e))}catch(r){throw new he(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ds(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new he(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new he(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new he(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,l){if(o.length!==l.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=/^__.*__$/;class mw{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,r,this.fieldTransforms):new na(e,this.data,r,this.fieldTransforms)}}function Cg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Hh{constructor(e,r,o,l,c,f){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=l,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Hh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),l=this.Fu({path:o,xu:!1});return l.Ou(e),l}Nu(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),l=this.Fu({path:o,xu:!1});return l.vu(),l}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ql(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Cg(this.Cu)&&pw.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class gw{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||tu(e)}Qu(e,r,o,l=!1){return new Hh({Cu:e,methodName:r,qu:o,path:Ct.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yw(i){const e=i._freezeSettings(),r=tu(i._databaseId);return new gw(i._databaseId,!!e.ignoreUndefinedProperties,r)}function _w(i,e,r,o,l,c={}){const f=i.Qu(c.merge||c.mergeFields?2:0,e,r,l);Vg("Data must be an object, but it was:",f,o);const m=kg(o,f);let _,E;if(c.merge)_=new xn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const S=[];for(const N of c.mergeFields){const F=vw(e,N,r);if(!f.contains(F))throw new he(Q.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);ww(S,F)||S.push(F)}_=new xn(S),E=f.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,E=f.fieldTransforms;return new mw(new pn(m),_,E)}function Pg(i,e){if(xg(i=Ho(i)))return Vg("Unsupported field value:",e,i),kg(i,e);if(i instanceof Rg)return function(o,l){if(!Cg(l.Cu))throw l.Bu(`${o._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(o,l){const c=[];let f=0;for(const m of o){let _=Pg(m,l.Lu(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}}(i,e)}return function(o,l){if((o=Ho(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return dE(l.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const c=mt.fromDate(o);return{timestampValue:ql(l.serializer,c)}}if(o instanceof mt){const c=new mt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:ql(l.serializer,c)}}if(o instanceof $h)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Ds)return{bytesValue:Wm(l.serializer,o._byteString)};if(o instanceof nn){const c=l.databaseId,f=o.firestore._databaseId;if(!f.isEqual(c))throw l.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ph(o.firestore._databaseId||l.databaseId,o._key.path)}}if(o instanceof qh)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Bu("VectorValues must only contain numeric values.");return Ah(m.serializer,_)})}}}}}}(o,l);throw l.Bu(`Unsupported field value: ${zh(o)}`)}(i,e)}function kg(i,e){const r={};return wm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(i,(o,l)=>{const c=Pg(l,e.Mu(o));c!=null&&(r[o]=c)}),{mapValue:{fields:r}}}function xg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof $h||i instanceof Ds||i instanceof nn||i instanceof Rg||i instanceof qh)}function Vg(i,e,r){if(!xg(r)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(r)){const o=zh(r);throw o==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+o)}}function vw(i,e,r){if((e=Ho(e))instanceof bh)return e._internalPath;if(typeof e=="string")return Ng(i,e);throw Ql("Field path arguments must be of type string or ",i,!1,void 0,r)}const Ew=new RegExp("[~\\*/\\[\\]]");function Ng(i,e,r){if(e.search(Ew)>=0)throw Ql(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new bh(...e.split("."))._internalPath}catch{throw Ql(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Ql(i,e,r,o,l){const c=o&&!o.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${o}`),f&&(_+=` in document ${l}`),_+=")"),new he(Q.INVALID_ARGUMENT,m+i+_)}function ww(i,e){return i.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,r,o,l,c){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Lg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Tw extends Dg{data(){return super.data()}}function Lg(i,e){return typeof e=="string"?Ng(i,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sw{convertValue(e,r="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return Ms(e,(l,c)=>{o[l]=this.convertValue(c,r)}),o}convertVectorValue(e){var r,o,l;const c=(l=(o=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||l===void 0?void 0:l.map(f=>it(f.doubleValue));return new qh(c)}convertGeoPoint(e){return new $h(it(e.latitude),it(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Eh(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const r=Hr(e);return new mt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Xe.fromString(e);be(Jm(o));const l=new Yo(o.get(1),o.get(3)),c=new me(o.popFirst(5));return l.isEqual(r)||dr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(i,e,r){let o;return o=i?i.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Og extends Dg{constructor(e,r,o,l,c,f){super(e,r,o,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ll(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Lg("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Ll extends Og{data(e={}){return super.data(e)}}class Rw{constructor(e,r,o,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new zo(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Ll(this._firestore,this._userDataWriter,o.key,o,new zo(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new he(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const _=new Ll(l._firestore,l._userDataWriter,m.doc.key,m.doc,new zo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const _=new Ll(l._firestore,l._userDataWriter,m.doc.key,m.doc,new zo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,S=-1;return m.type!==0&&(E=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),S=f.indexOf(m.doc.key)),{type:Cw(m.type),doc:_,oldIndex:E,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Cw(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(i){i=Ci(i,nn);const e=Ci(i.firestore,ou);return lw(Bh(e),i._key).then(r=>xw(e,i,r))}class Mg extends Sw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,r)}}function Pw(i){i=Ci(i,su);const e=Ci(i.firestore,ou),r=Bh(e),o=new Mg(e);return Iw(i._query),uw(r,i._query).then(l=>new Rw(e,o,i,l))}function Ol(i,e,r){i=Ci(i,nn);const o=Ci(i.firestore,ou),l=Aw(i.converter,e);return kw(o,[_w(yw(o),"setDoc",i._key,l,i.converter!==null,r).toMutation(i._key,hr.none())])}function kw(i,e){return function(o,l){const c=new cr;return o.asyncQueue.enqueueAndForget(async()=>X0(await aw(o),l,c)),c.promise}(Bh(i),e)}function xw(i,e,r){const o=r.docs.get(e._key),l=new Mg(i);return new Og(i,l,e._key,o,new zo(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(l){Os=l})(gv),jl(new Wo("firestore",(o,{instanceIdentifier:l,options:c})=>{const f=o.getProvider("app").getImmediate(),m=new ou(new kv(o.getProvider("auth-internal")),new Dv(o.getProvider("app-check-internal")),function(E,S){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new he(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(E.options.projectId,S)}(f,l),f);return c=Object.assign({useFetchStreams:r},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),As(vp,"4.7.3",e),As(vp,"4.7.3","esm2017")})();const Wc=({title:i,children:e})=>z.jsxs("div",{className:"mb-6",children:[z.jsx("h2",{className:"text-xl font-bold mb-2",children:i}),z.jsx("div",{className:"space-y-4",children:e})]}),Cl=i=>z.jsx("input",{...i,className:"border border-gray-300 rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),Pl=({children:i,className:e="",...r})=>z.jsx("button",{...r,className:`px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 ${e}`,children:i}),Vw=({children:i})=>z.jsx("table",{className:"min-w-full border border-gray-300 text-sm",children:i}),Nw=({children:i})=>z.jsx("thead",{className:"bg-gray-100",children:z.jsx("tr",{children:i})}),Qc=({children:i})=>z.jsx("td",{className:"border px-3 py-2 text-left",children:i}),Dw=({children:i})=>z.jsx("tr",{className:"hover:bg-gray-50",children:i});function Lw({players:i,newRating:e,setNewRating:r,handleRatingSubmit:o,editingPlayer:l,setEditingPlayer:c,editPlayerForm:f,setEditPlayerForm:m,handleDeletePlayer:_,startEditPlayer:E,saveEditedPlayer:S}){const[N,F]=dt.useState("name"),[B,q]=dt.useState("asc"),X=J=>{N===J?q(B==="asc"?"desc":"asc"):(F(J),q("asc"))},$=[...i].sort((J,ce)=>{const Fe=N==="name"?J.name.toLowerCase():J[N],Ie=N==="name"?ce.name.toLowerCase():ce[N];return Fe<Ie?B==="asc"?-1:1:Fe>Ie?B==="asc"?1:-1:0}),ge={scoring:.25,defense:.2,rebounding:.15,playmaking:.15,stamina:.1,physicality:.1,xfactor:.05},ye=J=>(J.scoring*ge.scoring+J.defense*ge.defense+J.rebounding*ge.rebounding+J.playmaking*ge.playmaking+J.stamina*ge.stamina+J.physicality*ge.physicality+J.xfactor*ge.xfactor).toFixed(2);return z.jsxs("div",{className:"p-6 space-y-8",children:[z.jsx(Wc,{title:"Player Rankings",children:z.jsxs(Vw,{children:[z.jsxs(Nw,{children:[z.jsx("th",{onClick:()=>X("name"),className:"cursor-pointer px-4 py-2 text-left",children:"Name"}),z.jsx("th",{onClick:()=>X("score"),className:"cursor-pointer px-4 py-2 text-left",children:"Overall Rating"}),z.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]}),z.jsx("tbody",{children:$.map(J=>z.jsxs(Dw,{children:[z.jsx(Qc,{children:J.name}),z.jsx(Qc,{children:ye(J)}),z.jsx(Qc,{children:z.jsxs("div",{className:"flex gap-2",children:[z.jsx(Pl,{onClick:()=>E(J),className:"bg-yellow-500 hover:bg-yellow-600",children:l===J.name?"Cancel":"Edit"}),z.jsx(Pl,{onClick:()=>_(J.name),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})})]},J.name))})]})}),l&&z.jsxs(Wc,{title:`Edit Player: ${l}`,children:[z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium",children:"Name:"}),z.jsx(Cl,{value:f.name,onChange:J=>m({...f,name:J.target.value})})]}),Object.keys(ge).map(J=>z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium capitalize",children:J}),z.jsx(Cl,{type:"number",min:"1",max:"10",value:f[J],onChange:ce=>m({...f,[J]:parseInt(ce.target.value)||1})})]},J))]}),z.jsx("div",{className:"mt-4",children:z.jsx(Pl,{onClick:S,children:"Save"})})]}),z.jsxs(Wc,{title:"Submit New Rating",children:[z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[z.jsx(Cl,{placeholder:"Name",value:e.name,onChange:J=>r({...e,name:J.target.value})}),Object.entries(e).map(([J,ce])=>J!=="name"&&z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium capitalize",children:J}),z.jsx(Cl,{type:"number",min:"1",max:"10",value:ce,onChange:Fe=>r({...e,[J]:parseInt(Fe.target.value)||1})})]},J))]}),z.jsx("div",{className:"mt-4",children:z.jsx(Pl,{onClick:o,children:"Submit Rating"})})]})]})}function Ow({players:i=[],teams:e=[],setTeams:r,matchups:o=[],setMatchups:l,mvpVotes:c=[],setMvpVotes:f,scores:m=[],setScores:_,teamSize:E,setTeamSize:S,handlePlayerActiveToggle:N,weightings:F,generateBalancedTeams:B}){return z.jsxs("div",{children:[z.jsxs("div",{style:{marginBottom:"1rem"},children:[z.jsx("label",{children:"Team Size:"}),z.jsx("select",{value:E,onChange:q=>S(parseInt(q.target.value)),style:{marginLeft:"0.5rem"},children:[1,2,3,4,5].map(q=>z.jsxs("option",{value:q,children:[q,"v",q]},q))}),z.jsx("button",{onClick:B,style:{marginLeft:"1rem"},children:"Generate Teams"})]}),z.jsxs("div",{style:{marginBottom:"2rem",background:"#f9f9f9",padding:"1rem",border:"1px solid #ccc"},children:[z.jsx("h3",{children:"Debug Info"}),z.jsxs("p",{children:["Players: ",i.length]}),z.jsxs("p",{children:["Teams: ",e.length]}),z.jsxs("p",{children:["Matchups: ",o.length]})]}),e.length===0&&z.jsx("p",{style:{color:"#888",fontStyle:"italic"},children:'No teams generated yet. Select active players and click "Generate Teams".'}),e.length>0&&z.jsxs(z.Fragment,{children:[z.jsx("h2",{children:"Teams"}),e.map((q,X)=>z.jsxs("div",{style:{marginBottom:"0.5rem"},children:[z.jsxs("strong",{children:["Team ",X+1,":"]})," ",q.map($=>$.name).join(", ")]},X)),z.jsx("h2",{children:"Matchups"}),o.map(([q,X],$)=>{var ge,ye;return z.jsxs("div",{style:{border:"1px solid #ccc",padding:"0.5rem",marginBottom:"1rem"},children:[z.jsxs("strong",{children:["Match ",$+1,":"]})," ",q.map(J=>J.name).join(", ")," vs ",X.map(J=>J.name).join(", "),z.jsxs("div",{children:["MVP:",z.jsxs("select",{value:c[$]||"",onChange:J=>{const ce=[...c];ce[$]=J.target.value,f(ce)},children:[z.jsx("option",{value:"",children:"-- Select MVP --"}),[...q,...X].map(J=>z.jsx("option",{value:J.name,children:J.name},J.name))]})]}),z.jsxs("div",{children:["Score:",z.jsx("input",{type:"number",placeholder:"Team A",value:((ge=m[$])==null?void 0:ge.a)||"",onChange:J=>{const ce=[...m];ce[$]={...ce[$],a:J.target.value},_(ce)}}),"vs",z.jsx("input",{type:"number",placeholder:"Team B",value:((ye=m[$])==null?void 0:ye.b)||"",onChange:J=>{const ce=[...m];ce[$]={...ce[$],b:J.target.value},_(ce)}})]})]},$)})]}),i.length>0&&z.jsxs(z.Fragment,{children:[z.jsx("h2",{children:"Player List"}),z.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"1rem"},children:[z.jsx("thead",{children:z.jsxs("tr",{children:[z.jsx("th",{style:{textAlign:"left"},children:"Name"}),z.jsx("th",{children:"Overall Rating"}),z.jsx("th",{children:"Active"})]})}),z.jsx("tbody",{children:i.map(q=>z.jsxs("tr",{children:[z.jsx("td",{children:q.name}),z.jsx("td",{children:(q.scoring*F.scoring+q.defense*F.defense+q.rebounding*F.rebounding+q.playmaking*F.playmaking+q.stamina*F.stamina+q.physicality*F.physicality+q.xfactor*F.xfactor).toFixed(2)}),z.jsx("td",{children:z.jsx("input",{type:"checkbox",checked:q.active,onChange:X=>N(q.name,X.target.checked)})})]},q.name))})]})]})]})}function Mw({leaderboard:i}){return z.jsxs("div",{children:[z.jsx("h2",{children:"Leaderboard"}),z.jsx("ul",{children:Object.keys(i).filter(e=>!e.includes("_w")&&!e.includes("_l")).map(e=>z.jsxs("li",{children:[z.jsx("strong",{children:e}),":",i[e]," MVPs,"," ",i[e+"_w"]||0,"W - ",i[e+"_l"]||0,"L"]},e))})]})}var Fw="firebase",jw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(Fw,jw,"app");const Uw={apiKey:"AIzaSyCOGeIQoPX7kNVIHUipxBlJIAYissB2AqM",authDomain:"bball-team-generator.firebaseapp.com",projectId:"bball-team-generator",storageBucket:"bball-team-generator.appspot.com",messagingSenderId:"698253006350",appId:"1:698253006350:web:ddb9e7e799c034b61c8e5f",measurementId:"G-41WKPGWFMK"},zw=cm(Uw),tm=Ag(zw);function Bw({currentSet:i,setCurrentSet:e}){const[r,o]=dt.useState([]),[l,c]=dt.useState("");dt.useEffect(()=>{(async()=>{const E=(await Pw(fw(tm,"sets"))).docs.map(S=>S.id);o(E)})()},[]);const f=async()=>{if(!l)return;const m={players:[],mvpVotes:[],scores:[]};await Ol(Uo(tm,"sets",l),m),o(_=>[..._,l]),e(l),c("")};return z.jsxs("div",{style:{marginBottom:"1rem"},children:[z.jsx("label",{children:z.jsx("strong",{children:"Active Set:"})}),z.jsx("select",{value:i,onChange:m=>e(m.target.value),style:{marginLeft:"0.5rem"},children:r.map(m=>z.jsx("option",{value:m,children:m},m))}),z.jsxs("div",{style:{marginTop:"1rem"},children:[z.jsx("input",{placeholder:"New Set Name",value:l,onChange:m=>c(m.target.value)}),z.jsx("button",{onClick:f,style:{marginLeft:"0.5rem"},children:"Create Set"})]})]})}const kl=Ag();function bw(){const[i,e]=dt.useState("players"),[r,o]=dt.useState([]),[l,c]=dt.useState({name:"",scoring:5,defense:5,rebounding:5,playmaking:5,stamina:5,physicality:5,xfactor:5}),[f,m]=dt.useState(3),[_,E]=dt.useState([]),[S,N]=dt.useState([]),[F,B]=dt.useState([]),[q,X]=dt.useState([]),[$,ge]=dt.useState({}),[ye,J]=dt.useState("default"),[ce,Fe]=dt.useState(null),[Ie,x]=dt.useState({name:"",scoring:5,defense:5,rebounding:5,playmaking:5,stamina:5,physicality:5,xfactor:5}),w={scoring:.25,defense:.2,rebounding:.15,playmaking:.15,stamina:.1,physicality:.1,xfactor:.05},A=Ee=>Ee.scoring*w.scoring+Ee.defense*w.defense+Ee.rebounding*w.rebounding+Ee.playmaking*w.playmaking+Ee.stamina*w.stamina+Ee.physicality*w.physicality+Ee.xfactor*w.xfactor,C=()=>{const Ne=[...[...r.filter(ee=>ee.active)].sort(()=>Math.random()-.5)].sort((ee,k)=>A(k)-A(ee)),fe=Math.ceil(Ne.length/f),G=Array.from({length:fe},()=>[]);Ne.forEach((ee,k)=>{const b=k%fe;G[b].push(ee)}),E(G);const re=[];for(let ee=0;ee<G.length-1;ee+=2)re.push([G[ee],G[ee+1]||[]]);N(re),B(Array(re.length).fill("")),X(Array(re.length).fill({a:"",b:""}))},V=async Ee=>{const ze=Uo(kl,"sets",ye),Ne=await Rl(ze);if(Ne.exists()){const fe=Ne.data(),G=fe.players.filter(re=>re.name.toLowerCase()!==Ee.toLowerCase());await Ol(ze,{...fe,players:G}),o(G)}},D=Ee=>{ce===Ee.name?Fe(null):(Fe(Ee.name),x({...Ee}))},I=async()=>{const Ee=Uo(kl,"sets",ye),ze=await Rl(Ee);if(ze.exists()){const Ne=ze.data(),fe=[...Ne.players],G=fe.findIndex(re=>re.name.toLowerCase()===ce.toLowerCase());G>-1&&(fe[G].submissions.push({...Ie}),fe[G].name=Ie.name,await Ol(Ee,{...Ne,players:fe}),o(fe),Fe(null))}};return dt.useEffect(()=>{(async()=>{const ze=Uo(kl,"sets",ye),Ne=await Rl(ze);if(Ne.exists()){const fe=Ne.data(),G=(fe.players||[]).map(re=>{const ee=re.submissions||[],k={name:re.name,active:re.active!==void 0?re.active:!0,scoring:0,defense:0,rebounding:0,playmaking:0,stamina:0,physicality:0,xfactor:0};ee.forEach(ie=>{k.scoring+=ie.scoring,k.defense+=ie.defense,k.rebounding+=ie.rebounding,k.playmaking+=ie.playmaking,k.stamina+=ie.stamina,k.physicality+=ie.physicality,k.xfactor+=ie.xfactor});const b=ee.length||1;return Object.keys(k).forEach(ie=>{typeof k[ie]=="number"&&(k[ie]=parseFloat((k[ie]/b).toFixed(2)))}),k.submissions=ee,k});o(G),B(fe.mvpVotes||[]),X(fe.scores||[])}})()},[ye]),z.jsxs("div",{children:[z.jsx(Bw,{currentSet:ye,setCurrentSet:J}),z.jsxs("nav",{children:[z.jsx("button",{onClick:()=>e("players"),children:"Teams"}),z.jsx("button",{onClick:()=>e("rankings"),children:"Player Rankings"}),z.jsx("button",{onClick:()=>e("leaderboard"),children:"Leaderboard"})]}),z.jsx("div",{className:"bg-red-500 text-white p-4 rounded",children:"Tailwind is working!"}),z.jsx("div",{style:{backgroundColor:"blue",color:"white",padding:"10px"},children:"Inline styles test"}),z.jsx("div",{className:"test-red",children:"Custom class test"}),z.jsx("div",{className:"bg-red-500",children:"Red background only"}),i==="players"&&z.jsxs(z.Fragment,{children:[z.jsx("div",{style:{marginBottom:"1rem"},children:z.jsx("button",{onClick:C,children:"Generate Balanced Teams"})}),z.jsx(Ow,{players:r,teams:_,setTeams:E,matchups:S,setMatchups:N,mvpVotes:F,setMvpVotes:B,scores:q,setScores:X,teamSize:f,setTeamSize:m,generateBalancedTeams:C,handlePlayerActiveToggle:(Ee,ze)=>{const Ne=r.map(fe=>fe.name===Ee?{...fe,active:ze}:fe);o(Ne)},weightings:w})]}),i==="rankings"&&z.jsx(Lw,{players:r,newRating:l,setNewRating:c,handleRatingSubmit:async()=>{const Ee=Uo(kl,"sets",ye),ze=await Rl(Ee),Ne=ze.exists()?ze.data():{players:[]},fe=[...Ne.players],G=fe.findIndex(re=>re.name.toLowerCase()===l.name.toLowerCase());G>-1?fe[G].submissions=[...fe[G].submissions||[],{...l}]:fe.push({name:l.name,active:!0,submissions:[{...l}]}),await Ol(Ee,{...Ne,players:fe}),c({name:"",scoring:5,defense:5,rebounding:5,playmaking:5,stamina:5,physicality:5,xfactor:5}),alert("Rating submitted successfully!")},editingPlayer:ce,setEditingPlayer:Fe,editPlayerForm:Ie,setEditPlayerForm:x,handleDeletePlayer:V,startEditPlayer:D,saveEditedPlayer:I}),i==="leaderboard"&&z.jsx(Mw,{leaderboard:$})]})}Yy.createRoot(document.getElementById("root")).render(z.jsx($y.StrictMode,{children:z.jsx(bw,{})}));
